{"version":3,"sources":["webpack:///./src/common/themes/form.css","webpack:///./src/common/themes/button.css","webpack:///./src/common/util/error.js","webpack:///./src/lander/actions/registration.js","webpack:///./src/lander/actions/types.js","webpack:///./src/common/themes/layout.css","webpack:///./src/common/actions/session.js","webpack:///./src/board/components/Chessboard/Chessboard.js","webpack:///./src/board/components/Instructions/index.js","webpack:///./src/common/components/Avatar/index.js","webpack:///./src/board/styles.css","webpack:///./src/common/components/ChessmoveSound/index.js","webpack:///./src/common/util/pattern.js","webpack:///./src/admin/components/Courses/styles.css","webpack:///./src/lander/components/LanderPage/styles.css","webpack:///./src/lander/components/RegistrationWizardPage/styles.css","webpack:///./src/common/actions/types.js","webpack:///./src/common/components/Navbar/nav-link.js","webpack:///./src/common/components/TimeOfDay.js","webpack:///./src/lander/actions/courses.js","webpack:///./src/lander/actions/schools.js","webpack:///./src/lander/constants/index.js","webpack:///./src/admin/components/Courses/Tables.js","webpack:///./src/common/actions/user.js","webpack:///./src/common/components/Currency.js","webpack:///./src/common/components/Navbar/index.js","webpack:///./src/common/components/Separator/index.js","webpack:///./src/common/util/schema.js","webpack:///./src/lander/components/LanderPage/components/button/index.js","webpack:///./src/lander/components/RegistrationWizardPage/CourseTable.js","webpack:///./src/admin/actions/teachers.js","webpack:///./src/admin/actions/types.js","webpack:///./src/admin/constants/index.js","webpack:///./src/board/components/Chessboard/chessboardjs/chessboard.js","webpack:///./src/common/components/AvatarCarousel/index.js","webpack:///./src/common/components/Footer/index.js","webpack:///./src/common/components/FormattedDate.js","webpack:///./src/common/components/GoBack.js","webpack:///./src/common/components/Location/LocationMap.js","webpack:///./src/common/components/Login/index.js","webpack:///./src/common/components/ScrollToTopRoute.js","webpack:///./src/common/util/season.js","webpack:///./src/lander/components/CourseForSchool/index.js","webpack:///./src/lander/components/RegistrationWizardPage/data.js","webpack:///./src/lander/util/stripe.js","webpack:///./src/school/actions/activities.js","webpack:///./src/school/actions/types.js","webpack:///./src/school/constants/index.js","webpack:///./src/school/util/index.js","webpack:///./src/board/components/Chessboard/chessboardjs/chessboard-0.3.0.css","webpack:///./src/common/components/Navbar/styles.css","webpack:///./src/common/themes/validation.css","webpack:///./src/school/components/IconNavbar/styles.css","webpack:///./src/App.js","webpack:///./src/store.js","webpack:///./src/app.css","webpack:///./src/admin/components/Courses/CourseModal.js","webpack:///./src/admin/components/Courses/CoursesTab.js","webpack:///./src/admin/components/Courses/SchoolModal.js","webpack:///./src/admin/components/Courses/SchoolsTab.js","webpack:///./src/admin/components/Courses/TeacherModal.js","webpack:///./src/admin/components/Courses/TeachersTab.js","webpack:///./src/admin/components/Courses/index.js","webpack:///./src/admin/components/Homework/index.js","webpack:///./src/admin/components/Registration/index.js","webpack:///./src/admin/index.js","webpack:///./src/admin/reducers/index.js","webpack:///./src/admin/reducers/teachers.js","webpack:///./src/board/components/Concentration/concentration.js","webpack:///./src/board/components/Concentration/config.js","webpack:///./src/board/components/Game/config.js","webpack:///./src/board/components/Game/game.js","webpack:///./src/board/components/HighlightPuzzle/index.js","webpack:///./src/board/components/Homework/config.js","webpack:///./src/board/components/Homework/homework.js","webpack:///./src/board/components/Maze/config.js","webpack:///./src/board/components/Maze/maze.js","webpack:///./src/board/components/Movelist/util/move-helper.js","webpack:///./src/board/components/Solitaire/config.js","webpack:///./src/board/components/Solitaire/solitaire.js","webpack:///./src/board/engine/chess_engine.js","webpack:///./src/common/components/ForgotPassword/index.js","webpack:///./src/common/components/Location/index.js","webpack:///./src/common/components/ResetPassword/index.js","webpack:///./src/common/components/School.js","webpack:///./src/common/components/Teacher.js","webpack:///./src/common/reducers/index.js","webpack:///./src/common/reducers/session.js","webpack:///./src/common/reducers/user.js","webpack:///./src/common/util/batman.js","webpack:///./src/index.js","webpack:///./src/lander/components/Admin/index.js","webpack:///./src/lander/components/LanderPage/components/camp/index.js","webpack:///./src/lander/components/LanderPage/components/contact/components/loader/index.js","webpack:///./src/lander/components/LanderPage/components/contact/index.js","webpack:///./src/lander/components/LanderPage/components/flyer/index.js","webpack:///./src/lander/components/LanderPage/components/gallery/constants.js","webpack:///./src/lander/components/LanderPage/components/gallery/index.js","webpack:///./src/lander/components/LanderPage/components/hero/index.js","webpack:///./src/lander/components/LanderPage/components/team/constants.js","webpack:///./src/lander/components/LanderPage/components/team/index.js","webpack:///./src/lander/components/LanderPage/index.js","webpack:///./src/lander/components/RegistrationWizardPage/CampSelection.js","webpack:///./src/lander/components/RegistrationWizardPage/Cards/index.js","webpack:///./src/lander/components/RegistrationWizardPage/ConfirmationPage.js","webpack:///./src/lander/components/RegistrationWizardPage/CourseSelection.js","webpack:///./src/lander/components/RegistrationWizardPage/ErrorPage.js","webpack:///./src/lander/components/RegistrationWizardPage/EveningCourseSelection.js","webpack:///./src/lander/components/RegistrationWizardPage/EveningCourseTable.js","webpack:///./src/lander/components/RegistrationWizardPage/PaymentDetails.js","webpack:///./src/lander/components/RegistrationWizardPage/Purchase.js","webpack:///./src/lander/components/RegistrationWizardPage/RegisterHome.js","webpack:///./src/lander/components/RegistrationWizardPage/RegistrationStepper.js","webpack:///./src/lander/components/RegistrationWizardPage/StudentDetails.js","webpack:///./src/lander/components/RegistrationWizardPage/index.js","webpack:///./src/lander/components/Signup/index.js","webpack:///./src/lander/components/Student/index.js","webpack:///./src/lander/index.js","webpack:///./src/lander/reducers/camps.js","webpack:///./src/lander/reducers/courses.js","webpack:///./src/lander/reducers/index.js","webpack:///./src/lander/reducers/registration.js","webpack:///./src/lander/reducers/schools.js","webpack:///./src/rootReducer.js","webpack:///./src/school/School.js","webpack:///./src/school/components/Activity/index.js","webpack:///./src/school/components/CoursePage/index.js","webpack:///./src/school/components/Course/index.js","webpack:///./src/school/components/HomeworkPage/index.js","webpack:///./src/school/components/IconNavbar/index.js","webpack:///./src/school/components/ProfilePage/index.js","webpack:///./src/school/components/Week/index.js","webpack:///./src/school/components/redirect.js","webpack:///./src/school/reducers/activities.js","webpack:///./src/school/reducers/index.js","webpack:///./src/admin/components/Homework/styles.css","webpack:///./src/admin/components/Registration/styles.css","webpack:///./src/admin/styles.css","webpack:///./src/board/components/Chessboard/styles.css","webpack:///./src/board/components/HighlightPuzzle/styles.css","webpack:///./src/board/components/Instructions/styles.css","webpack:///./src/board/components/Solitaire/solitaire.css","webpack:///./src/common/components/AvatarCarousel/styles.css","webpack:///./src/common/components/Avatar/styles.css","webpack:///./src/common/components/Footer/styles.css","webpack:///./src/common/components/Location/styles.css","webpack:///./src/common/components/Separator/styles.css","webpack:///./src/lander/components/Admin/styles.css","webpack:///./src/lander/components/LanderPage/components/button/styles.css","webpack:///./src/lander/components/LanderPage/components/camp/styles.css","webpack:///./src/lander/components/LanderPage/components/contact/components/loader/styles.css","webpack:///./src/lander/components/LanderPage/components/contact/styles.css","webpack:///./src/lander/components/LanderPage/components/flyer/styles.css","webpack:///./src/lander/components/LanderPage/components/gallery/styles.css","webpack:///./src/lander/components/LanderPage/components/hero/styles.css","webpack:///./src/lander/components/LanderPage/components/team/styles.css","webpack:///./src/lander/components/RegistrationWizardPage/Cards/styles.css","webpack:///./src/lander/components/Signup/styles.css","webpack:///./src/lander/components/Student/styles.css","webpack:///./src/school/components/Activity/styles.css","webpack:///./src/school/components/CoursePage/styles.css","webpack:///./src/school/components/Course/styles.css","webpack:///./src/school/components/ProfilePage/styles.css","webpack:///./src/school/components/Week/styles.css","webpack:///./src/school/styles.css"],"names":["getErrorMessage","error","fallback","response","data","message","registerCourses","type","payload","courses","registerStudent","student","registerPayment","payment","recordCharge","charge","clearRegistration","setRegistrationError","setIsCamp","isCamp","flipMode","ADD_COURSE","UPDATE_COURSE","SET_COURSES","SET_CAMPS","LOAD_COURSES_FAILED","LOAD_CAMPS_FAILED","CLEAR_REGISTRATION","SET_REGISTRATION","CREATE_USER_PAYMENT","CREATE_USER_PAYMENT_FAILED","SET_SCHOOLS","LOAD_SCHOOLS_FAILED","ADD_SCHOOL","UPDATE_SCHOOL","SET_IS_CAMP","checkSession","get","then","sessionType","dispatch","slice","indexOf","adminLogin","username","password","post","catch","login","logout","signup","newUser","Chessboard","props","onSquareClick","square","event","target","classList","find","className","parentNode","handleSquareClick","split","pop","handleResize","board","resize","handleDragStart","source","piece","position","orientation","onDragStart","call","handleDrop","args","onDrop","apply","handleSnapEnd","onSnapEnd","highlightSquare","elem","refs","chessboard","querySelector","add","highlight","unHighlightSquare","remove","setPosition","Promise","setTimeout","resolve","makeMove","move","delay","makeMoves","moves","reduce","chain","bind","config","draggable","pieceTheme","showErrors","showNotation","boardId","addEventListener","onStart","nextProps","task","setConfig","removeEventListener","options","Object","assign","boardContainer","Component","propTypes","bool","func","defaultProps","instructions","avatar","src","typeToFile","check","capture","castle","promote","normal","success","ChessmoveSound","getSoundSrc","email","postalCode","camelCase","SESSION_START","SESSION_END","SESSION_START_FAILED","CLEAR_USER","SET_USER","cx","NavLink","active","location","pathname","url","navLink","name","NavLinkBtn","style","handleClick","date","toLocaleTimeString","hour12","hour","minute","timeZone","updateCourse","course","loadCourse","loadCamps","fallbackErrorMessage","loadCourses","filter","withCamps","season","year","updateSchool","school","loadSchool","loadSchools","defaultMessage","galleryPhotos","navLinks","chessLevels","sectionText","whatWeDo","objective","classes","warmUp","lessons","competitivePlay","camps","intro","northYork","markham","Entity","entity","colList","map","key","idx","courseCell","toString","onEditClick","EntityTable","courseTable","concat","items","item","setUser","user","clearUser","updateProgressByLevel","level","weekNumber","index","progress","updateUser","update","put","formatCurrency","cents","currency","value","toLocaleString","minimumFractionDigits","NavLogo","showBigLogo","navLogo","smallLogo","root","navbar","height","container","links","link","color","length","children","separator","getField","replace","label","handleOnClick","button","months","getPriceColumn","soldOut","textTransform","price","getClassDate","startDT","Date","chessClass","startTime","getMonth","getDate","ClassTime","endDT","endTime","pairUp","result","push","handleRowSelection","handleRowSelect","selectedRows","readonly","includes","teacher","firstName","lastName","str","textAlign","total","updateTeacher","loadTeacher","loadTeachers","ADD_TEACHER","LOAD_TEACHERS_FAILED","SET_TEACHERS","UPDATE_TEACHER","homeworkLinks","weeks","COLUMNS","validMove","tmp","validSquare","search","validPieceCode","code","validFen","fen","chunks","i","validPositionObject","pos","hasOwnProperty","fenToPieceCode","toLowerCase","toUpperCase","pieceCodeToFen","fenToObj","rows","currentRow","row","colIndex","j","emptySquares","parseInt","objToFen","obj","ChessBoard","containerElOrId","cfg","MINIMUM_JQUERY_VERSION","START_FEN","START_POSITION","CSS","alpha","black","clearfix","highlight1","highlight2","notation","numeric","sparePieces","sparePiecesBottom","sparePiecesTop","white","containerEl","boardEl","draggedPieceEl","sparePiecesTopEl","sparePiecesBottomEl","widget","ANIMATION_HAPPENING","BOARD_BORDER_SIZE","CURRENT_ORIENTATION","CURRENT_POSITION","SQUARE_SIZE","DRAGGED_PIECE","DRAGGED_PIECE_LOCATION","DRAGGED_PIECE_SOURCE","DRAGGING_A_PIECE","SPARE_PIECE_ELS_IDS","SQUARE_ELS_IDS","SQUARE_ELS_OFFSETS","createId","c","r","Math","random","deepCopy","thing","JSON","parse","stringify","parseSemVer","version","major","minor","patch","compareSemVer","minimum","versionNum","minimumNum","msg","errorText","console","log","arguments","window","alert","checkDeps","el","document","getElementById","$","fn","jquery","validAnimationSpeed","speed","expandConfig","dropOffBoard","appearSpeed","moveSpeed","snapbackSpeed","snapSpeed","trashSpeed","calculateSquareSize","containerWidth","css","boardWidth","createElIds","pieces","whitePiece","blackPiece","buildBoardContainer","html","buildBoard","reverse","squareColor","buildPieceImgSrc","buildPiece","hidden","id","buildSparePieces","animateSquareToSquare","dest","completeFn","srcSquareEl","srcSquarePosition","offset","destSquareEl","destSquarePosition","animatedPieceId","append","animatedPieceEl","display","top","left","complete","opts","duration","animate","animateSparePieceToSquare","srcOffset","destOffset","pieceId","doAnimations","a","oldPos","newPos","numFinished","onFinish","drawPositionInstant","onMoveEnd","fadeOut","fadeIn","destination","squareDistance","s1","s2","s1x","s1y","s2x","s2y","xDelta","abs","yDelta","createRadius","squares","s","distance","sort","b","squares2","findClosestPiece","closestSquares","calculateAnimations","pos1","pos2","animations","squaresMovedTo","closestPiece","drawBoard","calculatePositionFromMoves","setCurrentPosition","oldFen","newFen","onChange","isXYOnSquare","x","y","captureSquareOffsets","removeSquareHighlights","removeClass","snapbackDraggedPiece","trashDraggedPiece","onSnapbackEnd","sourceSquarePosition","newPosition","dropDraggedPieceOnSquare","targetSquarePosition","beginDraggingPiece","attr","addClass","updateDraggedPiece","onDragMove","stopDraggedPiece","action","oldPosition","clear","useAnimation","destroy","unbind","flip","arg","width","start","isTouchDevice","documentElement","isMSIE","navigator","userAgent","stopDefault","e","preventDefault","mousedownSquare","pageX","pageY","touchstartSquare","originalEvent","changedTouches","mousedownSparePiece","touchstartSparePiece","mousemoveWindow","touchmoveWindow","mouseupWindow","touchendWindow","mouseenterSquare","onMouseoverSquare","currentTarget","mouseleaveSquare","onMouseoutSquare","addEvents","on","ondragstart","initDom","draggedPieceId","init","avatars","AvatarCarousel","handleLevelChange","slider","slickGoTo","settings","arrows","fade","swipeToSlide","swipe","autoplay","undefined","autoplaySpeed","pauseOnHover","initialSlide","avatarCarousel","footer","FormattedDate","calendarDateOptions","month","day","CalendarDate","ShortCalendarDate","GoBack","handleOpen","setState","open","handleClose","state","actions","marginRight","apiKey","googleMapURL","LocationMap","defaultZoom","lat","lng","isMarkerShown","inputStyle","WebkitBoxShadow","hintStyle","zIndex","pointerEvents","handleSubmit","handleUserNameChange","handlePasswordChange","marginTop","hasForgotPassword","linkBtn","ScrollToTopRoute","scrollTo","component","componentProps","rest","seasonalIndex","getCurrentSeason","getYear","legalWranglings","refundPolicy","additionalInfo","retrieveCustomer","customerId","createCustomer","token","chargeCustomer","customer","description","extractCardInfo","cardIdx","card","sources","brand","expiryMonth","exp_month","expiryYear","exp_year","last4","levels","loadActivities","reject","Error","SET_ACTIVITIES","assetUrl","activityAssetUrl","getWeeks","activities","activity","week","w","activityWithId","courseName","puzzleTypeToImgKey","boss","maze","memory","puzzle","solitaire","scenario","video","getPuzzleImgKey","getComponent","App","checkingSession","store","mapStateToProps","session","modalStyles","content","margin","fontFamily","overflowX","fontSize","overlay","backgroundColor","hideAutoFillColorStyle","menuProps","desktop","disableAutoFocus","searchFilter","searchText","parseDates","dates","testDate","test","CourseModal","getClasses","parsedDates","startHours","getHours","startMinutes","getMinutes","endHours","endMinutes","parsedDate","setHours","setMinutes","toISOString","editCourse","locationId","teacherId","afterSchool","addCourse","clearForm","isValid","validateForm","selected","_id","searchTeacherText","searchSchoolText","priceError","teacherError","schoolError","startTimeError","endTimeError","datesError","handleAfterOpen","isFormValid","some","field","handleSchoolBlur","schools","handleTeacherBlur","teachers","handleGenericChange","handleSchoolNameChange","schoolName","handleTeacherNameChange","teacherName","handleStartTimeChange","handleEndTimeChange","handleDateChange","isDateError","isNaN","valueOf","handleAfterSchoolChange","handleSoldOutChange","fullDates","errorMessage","err","courseModal","text","marginLeft","padding","marginBottom","alignContent","Array","isArray","join","closeModal","ownProps","timeStrOptions","dateStrOptions","CoursesTab","closeAddCourseModal","showAddCourseModal","ogStartTime","ogEndTime","rawPrice","deSerializeCourses","evening","recentness","times","coursesError","paddingTop","SchoolModal","editSchool","addSchool","phone","address","city","mapUrl","province","nameError","phoneError","emailError","postalCodeError","handleNameChange","handlePhoneChange","validatePhoneNumber","handleEmailChange","validateEmail","handlePostalCodeChange","validatePostalCode","every","match","schoolModal","schoolFilter","SchoolsTab","closeAddSchoolModal","showAddSchoolModal","handleInputChange","SchoolError","TeacherModal","editTeacher","addTeacher","firstNameError","lastNameError","handleFirstNameChange","handleLastNameChange","teacherModal","TeachersTab","closeAddTeacherModal","showAddTeacherModal","Course","handleTabChange","HomeworkLevel","href","seasons","formatYear","RegistrationLink","registrationLink","Registration","seasonList","aVals","bVals","diff","entry","ElevatedView","TeacherView","AdminPage","filteredNavLinks","adminPage","INITIAL_STATE","teachersError","updatedTeacher","updatedTeachers","Concentration","getMessage","started","gameOver","score","solution","aiTurn","startGame","conf","ai","sound","highScore","now","getHomeLink","primaryBtn","exitBtn","header","banner","bannerAvatar","body","chessBoard","leftRow","rank","num","properBoardContainer","switchTurn","bottomRow","file","letter","feedback","successBtn","isCorrect","onComplete","newConf","hu","prevState","concentration","sequence","getOnDropHandler","isLastStep","game","from","substr","to","promotion","getColorName","turn","getResultMessage","winner","getTurnMessage","Game","decisive","resignGame","getAiColor","failBtn","isHumanTurn","players","getConf","drawGame","drawCondition","keys","agent","player","winningPlayer","lastMove","history","verbose","in_check","in_checkmate","game_over","endGame","object","HighlightPuzzle","splice","missing","wrong","getProgressUpdate","isPromotion","isCastle","isKing","homework","moveType","Homework","rightMove","isThereAnotherPuzzle","puzzleNumber","puzzles","nextPuzzle","Maze","parseMoves","startIdx","blackFirst","hist","san","artifacts","legal","them","us","pieceSquares","isSolved","Solitaire","overflow","solitaireBoard","string","getMove","getScore","enginePath","engine","Worker","defaults","initialized","onmessage","setOptions","send","forEach","option","postMessage","ForgotPassword","loading","requestError","requestSuccess","info","gMap","ResetPassword","confirmPassword","handleConfirmPasswordChange","params","invalid","hasSession","sessionError","capitalize","__forceSmoothScrollPolyfill__","require","polyfill","muiTheme","palette","primary1Color","primary2Color","secondary1Color","render","AdminLogin","loginContainer","campSection","halo","portrait","circle","background","ContactInput","handleChange","placeholder","disabled","ContactMessage","Contact","isLoading","subject","contactSection","headerSm","contact","minWidth","cursor","borderRadius","flyer","imgLeft","imgRight","introContainer","introLogo","signalling","firstRowPhotos","imgSrc","caption","isSmall","secondRowPhotos","thirdRowPhotos","photos","GalleryCell","photo","backgroundImage","photoCaption","sm","gallerySection","gallery","heroSection","bg","opacity","alias","Teacher","bio","teacherSection","teacherContainer","LanderPage","_onScroll","isVisible","introEl","firstIntroTime","animateIntro","campEl","firstCampTime","animateCamp","scrollIntoView","block","inline","querySelectorAll","firstTeacherTime","handleScroll","debounce","rect","getBoundingClientRect","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","clearTimeout","staggerTo","ease","easeOut","scale","animateTeacher","getElementsByClassName","childNodes","flipPortrait","rotationY","fadeInTeacher","getElementsByTagName","AdditionalInfo","bulletPoints","fontWeight","border","bulletPoint","NoCourseMessage","CampSelection","coursesForSchool","schoolId","_init","campSchool","form","sum","registration","CardDetail","cardDetail","PaymentCard","StudentCard","guardian","guardians","dateOfBirth","allergies","notes","ListItem","ConfirmationPage","shouldGoBack","time","CourseSelection","handleBlur","selectedCourses","labelStyle","minHeight","ErrorPage","status","daysOfTheWeek","daysOfTheWeekSortOrder","getCourseDay","getDay","CourseGrouping","handleSignup","getSortedCourseKeys","customWeekdaySort","customSortCompare","getTime","EveningCourseSelection","courseKeys","prevProps","prevCourses","screen","availWidth","paddingBottom","groupBy","SignupButton","getSignupColumn","Address","verticalAlign","base","lineHeight","fontSmoothing","iconColor","PaymentDetails","stripe","createToken","goBack","Stripe","elements","create","mount","cardSectionStyle","stripeBadgeStyle","Purchase","editPreviousPage","disableBtn","desc","svg","iconStyle","RegisterLink","registerLink","icon","flexWrap","justifyContent","alignItems","activeStep","StudentDetails","threeYearsAgo","subtract","toDate","dateOfBirthError","guardianFirstNameError","guardianLastNameError","guardianPhoneError","guardianEmailError","focusError","indentStyle","menuItemStyle","borderTop","gravityStyle","handleDobChange","handleAllergiesChange","handleNotesChange","handleGuardianFirstNameChange","handleGuardianLastNameChange","requiredFields","firstError","focus","valid","RegistrationWizard","getActiveStep","paddingStyle","Signup","navigateToRoot","handleCheckbox","nextViewSchools","viewSchools","courseId","signupForm","handleUsernameChange","trim","personal","StudentLogin","minHeightStyle","navBtn","funWork","borderColor","borderLeftColor","borderTopColor","Lander","isBigLogo","navigateToPath","path","campsError","updatedCourse","updatedCourses","initState","charges","schoolsError","updatedSchool","updatedSchools","baseIconUrl","CoursePageWithLevel","paper","routes","arr","exact","School","isCoursePage","RegExp","route","Placeholder","Activity","handleMouseLeave","handleMouseEnter","loaded","normalUrl","handleImgLoaded","hide","rollUrl","ActivityContainer","isComplete","courseProgress","imgKey","baseUrl","CourseAvatar","courseAvatar","playerCard","CoursePage","flyerBg","nextArrow","prevArrow","WeekTitle","weekTitle","Pagination","len","pagination","handlePageClick","beforeChange","handleBeforeChange","CourseShell","oldVal","newVal","getPuzzleComponent","getConnectedPuzzleComponent","HomeworkPage","handleComplete","PuzzleComponent","activityId","IconLink","navigateToLink","showRollover","hideRollover","activeRoute","IconLinkContainer","iconNavbar","iconLink","ProfilePage","getCourseInfo","carousel","showName","tile","Redirect"],"mappings":"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","file":"app.js","sourcesContent":["// removed by extract-text-webpack-plugin\nmodule.exports = {\"form\":\"_2YS8Rz0fC0ODWuAlNycjg9\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/themes/form.css\n// module id = 39\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"primaryBtn\":\"_37yVz1sT5pP9QPGZQFB5e2\",\"linkBtn\":\"_1VJLfEY6Q7aJSzq-p7sfju\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/themes/button.css\n// module id = 44\n// module chunks = 0","export const getErrorMessage = (error, fallback) => {\r\n  return error && error.response && error.response.data &&\r\n    error.response.data.message || fallback;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/error.js","import {\r\n  CLEAR_REGISTRATION,\r\n  SET_REGISTRATION,\r\n  SET_IS_CAMP\r\n} from './types'\r\n\r\nexport const registerCourses = courses => {\r\n  return {\r\n    type: SET_REGISTRATION,\r\n    payload: {\r\n      courses\r\n    }\r\n  }\r\n}\r\n\r\nexport const registerStudent = student => {\r\n  return {\r\n    type: SET_REGISTRATION,\r\n    payload: {\r\n      student\r\n    }\r\n  }\r\n}\r\n\r\nexport const registerPayment = payment => {\r\n  return {\r\n    type: SET_REGISTRATION,\r\n    payload: {\r\n      payment\r\n    }\r\n  }\r\n}\r\n\r\nexport const recordCharge = charge => {\r\n  return {\r\n    type: SET_REGISTRATION,\r\n    payload: {\r\n      charge\r\n    }\r\n  }\r\n}\r\n\r\nexport const clearRegistration = () => {\r\n  return {\r\n    type: CLEAR_REGISTRATION\r\n  }\r\n}\r\n\r\nexport const setRegistrationError = error => {\r\n  return {\r\n    type: SET_REGISTRATION,\r\n    payload: {\r\n      error\r\n    }\r\n  }\r\n}\r\n\r\nexport const setIsCamp = isCamp => {\r\n  return {\r\n    type: SET_IS_CAMP,\r\n    payload: isCamp\r\n  }\r\n}\r\n\r\nexport const flipMode = isCamp => {\r\n  return {\r\n    type: 'flipMode',\r\n    payload: isCamp\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/actions/registration.js","export const ADD_COURSE = 'ADD_COURSE'\r\nexport const UPDATE_COURSE = 'UPDATE_COURSE'\r\nexport const SET_COURSES = 'SET_COURSES'\r\nexport const SET_CAMPS = 'SET_CAMPS'\r\nexport const LOAD_COURSES_FAILED = 'LOAD_COURSES_FAILED'\r\nexport const LOAD_CAMPS_FAILED = 'LOAD_CAMPS_FAILED'\r\nexport const CLEAR_REGISTRATION = 'CLEAR_REGISTRATION'\r\nexport const SET_REGISTRATION = 'SET_REGISTRATION'\r\nexport const CREATE_USER_PAYMENT = 'CREATE_USER_PAYMENT'\r\nexport const CREATE_USER_PAYMENT_FAILED = 'CREATE_USER_PAYMENT_FAILED'\r\nexport const SET_SCHOOLS = 'SET_SCHOOLS'\r\nexport const LOAD_SCHOOLS_FAILED = 'LOAD_SCHOOLS_FAILED'\r\nexport const ADD_SCHOOL = 'ADD_SCHOOL'\r\nexport const UPDATE_SCHOOL = 'UPDATE_SCHOOL'\r\nexport const SET_IS_CAMP = 'SET_IS_CAMP'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/actions/types.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"container\":\"_3Uc_JQUzBC5efxa_xkaZuo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/themes/layout.css\n// module id = 59\n// module chunks = 0","import axios from 'axios'\r\n\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {\r\n  SESSION_START,\r\n  SESSION_END,\r\n  SESSION_START_FAILED,\r\n  CLEAR_USER\r\n} from './types'\r\nimport {setUser} from './user.js'\r\n\r\nexport const checkSession = () => dispatch => {\r\n  axios.get('/api/check-session')\r\n    .then(response => {\r\n      const sessionType = response.data\r\n      if (sessionType !== 'noSession') {\r\n        axios.get('/api/user')\r\n          .then(response => {\r\n            dispatch(setUser(response.data))\r\n            dispatch({\r\n              type: SESSION_START,\r\n              payload: sessionType.slice(0, sessionType.indexOf('Session'))\r\n            })\r\n          })\r\n      } else {\r\n        dispatch({\r\n          type: SESSION_END\r\n        })\r\n      }\r\n    })\r\n}\r\n\r\nexport const adminLogin = (username, password) => dispatch => {\r\n  const fallback = 'Incorrect username or password'\r\n  axios.post('/api/login/admin', {username, password})\r\n    .then(response => {\r\n      dispatch(setUser(response.data))\r\n      dispatch({\r\n        type: SESSION_START,\r\n        payload: 'admin'\r\n      })\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: SESSION_START_FAILED,\r\n        payload: getErrorMessage(error, fallback)\r\n      })\r\n    })\r\n}\r\n\r\nexport const login = (username, password) => dispatch => {\r\n  const fallback = 'Incorrect username or password'\r\n  axios.post('/login', {username, password})\r\n    .then(response => {\r\n      dispatch(setUser(response.data))\r\n      dispatch({\r\n        type: SESSION_START,\r\n        payload: 'student'\r\n      })\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: SESSION_START_FAILED,\r\n        payload: getErrorMessage(error, fallback)\r\n      })\r\n    })\r\n}\r\n\r\nexport const logout = () => dispatch => {\r\n  axios.post('/api/logout')\r\n    .then(response => {\r\n      dispatch({\r\n        type: SESSION_END\r\n      })\r\n      dispatch({\r\n        type: CLEAR_USER\r\n      })\r\n    })\r\n}\r\n\r\nexport const signup = (newUser) => dispatch => {\r\n  const fallback = 'Could not create user'\r\n  return axios.post('/api/signup', newUser)\r\n    .then(response => {\r\n      dispatch(setUser(response.data))\r\n      dispatch({\r\n        type: SESSION_START,\r\n        payload: 'student'\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/session.js","import React, { PropTypes } from 'react';\r\nimport ChessBoard from './chessboardjs/chessboard';\r\nimport styles from './styles.css';\r\nimport boardStyles from './chessboardjs/chessboard-0.3.0.css'\r\n\r\nexport default class Chessboard extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.config = {\r\n      draggable: this.props.draggable,\r\n      position: this.props.position,\r\n      pieceTheme: '/assets/pieces/wikipedia/{piece}.png',\r\n      onDragStart: this.handleDragStart,\r\n      onDrop: this.handleDrop,\r\n      onSnapEnd: this.handleSnapEnd,\r\n      showErrors: false,\r\n      showNotation: false\r\n    };\r\n\r\n    this.board = ChessBoard(this.props.boardId, this.config);\r\n\r\n    this.refs.chessboard.addEventListener('click', this.onSquareClick)\r\n\r\n    if (this.props.onStart) {\r\n      this.props.onStart.call(this);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    let task = nextProps.position\r\n      ? this.setPosition(nextProps.position)\r\n      : Promise.resolve()\r\n\r\n    task.then(() => {\r\n      if ('draggable' in nextProps) {\r\n        this.setConfig({ draggable: nextProps.draggable })\r\n      }\r\n      if (this.props.onDrop !== nextProps.onDrop) {\r\n        this.setConfig({ onDrop: nextProps.onDrop.bind(this)})\r\n      }\r\n      if (nextProps.onStart) {\r\n        nextProps.onStart.call(this)\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.refs.chessboard.removeEventListener('click', this.onSquareClick)\r\n  }\r\n\r\n  onSquareClick = event => {\r\n    let square = [...event.target.classList]\r\n      .find(className => className.indexOf('square-') > -1)\r\n    if (!square) {\r\n      square = [...event.target.parentNode.classList]\r\n        .find(className => className.indexOf('square-') > -1)\r\n    }\r\n    if (square && this.props.handleSquareClick) {\r\n      this.props.handleSquareClick(square.split('square-').pop())\r\n    }\r\n  }\r\n\r\n  setConfig(options) {\r\n    this.config = Object.assign(this.config, options);\r\n  }\r\n\r\n  handleResize = () => {\r\n    this.board.resize();\r\n  }\r\n\r\n  handleDragStart = (source, piece, position, orientation) => {\r\n    this.props.onDragStart.call(this, source, piece, position, orientation);\r\n  }\r\n\r\n  handleDrop = (...args) => {\r\n    this.props.onDrop.apply(this, args);\r\n  }\r\n\r\n  handleSnapEnd = () => {\r\n    this.props.onSnapEnd.call(this);\r\n  }\r\n\r\n  highlightSquare = (square) => {\r\n    const elem = this.refs.chessboard.querySelector(`.square-${square}`)\r\n    if (elem) {\r\n      elem.classList.add(`${boardStyles.highlight}`)\r\n    }\r\n  }\r\n\r\n  unHighlightSquare = (square) => {\r\n    const elem = this.refs.chessboard.querySelector(`.square-${square}`)\r\n    if (elem) {\r\n      elem.classList.remove(`${boardStyles.highlight}`)\r\n    }\r\n  }\r\n\r\n  setPosition = (position) => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        this.board.position(position);\r\n        resolve();\r\n      }, 200);\r\n    });\r\n  }\r\n\r\n  makeMove = (move) => {\r\n    return new Promise(resolve => {\r\n      setTimeout(() => {\r\n        this.board.move(move);\r\n        resolve();\r\n      }, this.props.delay || 500);\r\n    });\r\n  }\r\n\r\n  makeMoves = (moves) => {\r\n    return moves.reduce((chain, move) => {\r\n      return chain.then(this.makeMove.bind(this, move))\r\n    }, Promise.resolve())\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id={this.props.boardId}\r\n        className={this.props.boardContainer || styles.boardContainer}\r\n        ref=\"chessboard\" />\r\n    );\r\n  }\r\n}\r\n\r\nChessboard.propTypes = {\r\n  draggable: PropTypes.bool,\r\n  onDragStart: PropTypes.func,\r\n  onDrop: PropTypes.func,\r\n  onSnapEnd: PropTypes.func\r\n};\r\n\r\nChessboard.defaultProps = {\r\n  draggable: true,\r\n  onDragStart() {},\r\n  onDrop() {},\r\n  onSnapEnd() {}\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Chessboard/Chessboard.js","import React from 'react'\r\nimport styles from './styles.css'\r\n\r\nexport default props => {\r\n  return (\r\n    <div className={`flex flex-column items-center ${styles.instructions}`}>\r\n      <img src=\"/assets/pieces/cwms/bN.png\"/>\r\n      <h2>Instructions</h2>\r\n      <p>{props.instructions}</p>\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Instructions/index.js","import React from 'react'\r\nimport styles from './styles.css'\r\n\r\nexport default props => {\r\n  return (\r\n    <div className={`${styles.avatar} ${props.className || ''}`}>\r\n      <img src={props.src} />\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Avatar/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"boardContainer\":\"_1rhViOI31-_Ce1IEe3gFpA\",\"header\":\"_3Lew2EM5r58G3xeiEyfPH_\",\"banner\":\"_2pwO9ytbsOW8hgPFf9Hrfw\",\"body\":\"_2U6gLuaU4tneRm--S-cqAz\",\"chessBoard\":\"_3IVker8I8dJAzx8Zqd6s8U\",\"leftRow\":\"bZvSZ8rUn_n5lNzjoBMyK\",\"properBoardContainer\":\"_3fyL8KbJ3mQUZbEnkrC5j-\",\"properBoard\":\"_2ONnVgwtgElQb4NCrS7cUP\",\"bottomRow\":\"_1eE2KAtlwMs8GulICFE362\",\"feedback\":\"_3R8yi7lEwIvd5i8jZxGUGr\",\"rank\":\"_1GRxLNSJi-FVu-0A2pG7jP\",\"file\":\"_1pscZqztSuQTXxkOpmRHWd\",\"failBtn\":\"_1tyk1VcdVgV2JN5hDQJhqS\",\"successBtn\":\"_3zDye_f6jlYYFRmHUBVC-Y\",\"exitBtn\":\"NB7_ruQgb1-su3yhNxnlN\",\"bannerAvatar\":\"_3uS2WJDShHvCUCp1n7e65r\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/styles.css\n// module id = 79\n// module chunks = 0","import React from 'react'\r\n\r\nconst typeToFile = {\r\n  check: 'move-check.mp3',\r\n  capture: 'capture.mp3',\r\n  castle: 'castle.mp3',\r\n  promote: 'promote.mp3',\r\n  normal: 'move-self.mp3',\r\n  success: 'success.wav',\r\n  error: 'error.wav'\r\n}\r\n\r\nclass ChessmoveSound extends React.Component {\r\n  getSoundSrc = type => {\r\n    //return `/assets/${typeToFile[type]}`\r\n    return '';\r\n  }\r\n  componentDidMount () {\r\n    /*this.refs.audio.addEventListener('loadeddata', () => {\r\n      this.refs.audio.play()\r\n    })*/\r\n  }\r\n  render () {\r\n    return (\r\n      <audio ref=\"audio\" src={this.getSoundSrc(this.props.type)}/>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChessmoveSound\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/ChessmoveSound/index.js","export default {\r\n  email: /^[a-zA-Z0-9.!#$%&*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/,\r\n  postalCode: /[a-z]\\d[a-z]\\s?\\d[a-z]\\d/i,\r\n  camelCase: /([a-z])([A-Z])/g\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/pattern.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"courseCell\":\"_2QjdDR-2JmoSXD7F0aoWaC\",\"courseTable\":\"uxVfdFNUbg62mFU-29Jui\",\"courseModal\":\"_3twbNqQBXtZiUlVOyPpHZq\",\"schoolModal\":\"_6H87CCgybwkzuFEvVGoEw\",\"teacherModal\":\"_3Lnt5uwjGvupudmbedNO9k\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/admin/components/Courses/styles.css\n// module id = 98\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"headerSm\":\"_3vX6M38UoHD1-m9ylFJUKD\",\"container\":\"_3WlzGjWpWDxYVo9icJFjLr\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/styles.css\n// module id = 99\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"courseCell\":\"_2Xizq3lSZALFPXHeAwj9zo\",\"courseTable\":\"MiPyEgEabZFWQ2HJSOcrY\",\"campHeader\":\"_2u6J_rer6vo4_f5afZmdEV\",\"icon\":\"_1toyXns0R6LVcjkTapLKC6\",\"registerLink\":\"_1mFu-r3v9FUsiQQK3lKUq\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/RegistrationWizardPage/styles.css\n// module id = 100\n// module chunks = 0","export const SESSION_START = 'SESSION_START'\r\nexport const SESSION_END = 'SESSION_END'\r\nexport const SESSION_START_FAILED = 'SESSION_START_FAILED'\r\nexport const CLEAR_USER = 'CLEAR_USER'\r\nexport const SET_USER = 'SET_USER'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/types.js","import classNames from 'classnames/bind'\r\nimport React from 'react'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport styles from './styles.css'\r\n\r\nconst cx = classNames.bind(styles)\r\n\r\nexport const NavLink = withRouter(props => {\r\n  const className = cx({\r\n    active: props.location.pathname.indexOf(props.url) === 0,\r\n    navLink: true,\r\n  })\r\n  return (\r\n    <Link className={`flex items-center justify-center ${className}`}\r\n      to={props.url}>\r\n      {props.name}\r\n    </Link>\r\n  )\r\n})\r\n\r\nexport const NavLinkBtn = withRouter(props => {\r\n  const className = cx({\r\n    active: props.location.pathname.indexOf(props.url) === 0,\r\n    navLink: true\r\n  })\r\n  return (\r\n    <div style={props.style || {}} \r\n      className={`flex items-center justify-center ${className} ${props.className || ''}`}\r\n      onClick={props.handleClick}>\r\n      {props.name}\r\n    </div>\r\n  )\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Navbar/nav-link.js","import React from 'react'\r\n\r\nexport default props => {\r\n  return (\r\n    <span>\r\n      {props.date.toLocaleTimeString([], {hour12: props.hour12,\r\n        hour: '2-digit', minute:'2-digit', timeZone: 'America/New_York'})}\r\n    </span>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/TimeOfDay.js","import axios from 'axios'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {\r\n  ADD_COURSE,\r\n  SET_COURSES,\r\n  LOAD_COURSES_FAILED,\r\n  UPDATE_COURSE,\r\n  SET_CAMPS,\r\n  LOAD_CAMPS,FAILED\r\n} from './types'\r\n\r\nexport const updateCourse = course => {\r\n  return {\r\n    type: UPDATE_COURSE,\r\n    payload: course\r\n  }\r\n}\r\n\r\nexport const loadCourse = course => {\r\n  return {\r\n    type: ADD_COURSE,\r\n    payload: course\r\n  }\r\n}\r\n\r\nexport const loadCamps = () => dispatch => {\r\n  const fallbackErrorMessage = 'Could not retrieve camps'\r\n  axios.get('/api/camps')\r\n    .then(response => {\r\n      dispatch({\r\n        type: SET_CAMPS,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: LOAD_CAMPS_FAILED,\r\n        payload: getErrorMessage(error, fallbackErrorMessage)\r\n      })\r\n    })\r\n}\r\n\r\nexport const loadCourses = (filter, withCamps) => dispatch => {\r\n  const fallbackErrorMessage = 'Could not retrieve courses'\r\n  const url = filter\r\n    ? `/api/courses/${filter.season}/${filter.year}`\r\n    : `/api/courses`\r\n\r\n  axios.get(`${url}${withCamps ? '?camps=true' : ''}`)\r\n    .then(response => {\r\n      dispatch({\r\n        type: SET_COURSES,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      dispatch({\r\n        type: LOAD_COURSES_FAILED,\r\n        payload: getErrorMessage(error, fallbackErrorMessage)\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/actions/courses.js","import axios from 'axios'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {\r\n  ADD_SCHOOL,\r\n  UPDATE_SCHOOL,\r\n  SET_SCHOOLS,\r\n  LOAD_SCHOOLS_FAILED\r\n} from 'lander/actions/types'\r\n\r\nexport const updateSchool = school => {\r\n  return {\r\n    type: UPDATE_SCHOOL,\r\n    payload: school\r\n  }\r\n}\r\n\r\nexport const loadSchool = school => {\r\n  return {\r\n    type: ADD_SCHOOL,\r\n    payload: school\r\n  }\r\n}\r\n\r\nexport const loadSchools = () => dispatch => {\r\n  return axios.get('/api/schools')\r\n    .then(response => {\r\n      dispatch({\r\n        type: SET_SCHOOLS,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      const defaultMessage = 'School is out'\r\n      dispatch({\r\n        type: LOAD_SCHOOLS_FAILED,\r\n        payload: getErrorMessage(error, defaultMessage)\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/actions/schools.js","export const galleryPhotos = [\r\n  'bday.jpg',\r\n  'concentration.jpg',\r\n  'notation.jpg',\r\n  'participation.jpg',\r\n  'popsicle.jpg',\r\n  'popsicleII.jpg',\r\n  'ruylopez.jpg',\r\n  'tournament.jpg',\r\n  'assistant.jpg'\r\n]\r\n\r\nexport const navLinks = [{\r\n  url: '/classes',\r\n  name: 'Classes'\r\n}, {\r\n  url: '/camps',\r\n  name: 'Camps'\r\n}, {\r\n  url: '/contactus',\r\n  name: 'Contact Us'\r\n}]\r\n\r\nexport const chessLevels = [\r\n  'pawn',\r\n  'knight',\r\n  'bishop',\r\n  'rook',\r\n  'queen',\r\n  'king',\r\n  'advanced 1',\r\n  'advanced 2',\r\n  'advanced 3'\r\n]\r\n\r\nexport const sectionText = {\r\n  whatWeDo: `We teach, inspire, and develop young minds through the art and\r\n  science of chess. We transform newcomers to the game into the confident and\r\n  bright individuals they are meant to become. Chess with Mr. S has helped thousands\r\n  of students across the GTA develop stronger academic performance, leadership skills,\r\n  and overall confidence through a unique and effective training system. Students\r\n  are exposed to a variety of engaging group activities which inspires team work\r\n  and the development of strong social skills. We encourage you to set up a time,\r\n  and join one of our many classes or camps to see why Chess with Mr. S has become one of the\r\n  most respected and sought-after instructional programs in the region.`,\r\n\r\n  objective: `Being a sport of the mind, chess provides many opportunities for children\r\n  to develop their cognitive abilities. Our goal is to ensure that children of all ages\r\n  learn to maximize their creativity and problem solving skills by providing a complete\r\n  curriculum that effectively challenges their minds. In addition to improving decision making,\r\n  the study of chess offers countless lessons that heighten emotional intelligence.\r\n  The experience of learning from past mistakes and overcoming defeat contributes to greater\r\n  maturity and superior emotional control. In essence, learning chess provides a balanced approach\r\n  that develops a healthy mind which in turn serves as a cornerstone to attaining a healthy life.`,\r\n\r\n  classes: {\r\n    warmUp: `The warm up includes \"sparring\" with a partner of similar ability in\r\n    a semi formal casual style of play, while receiving occasional instruction\r\n    and guidance.`,\r\n    lessons: `Our teachers focus on specific topics geared at increasing positional and\r\n    strategic play, while making sure the students are well engaged and entertained.`,\r\n    competitivePlay: `Students will prepare themselves for a competitive game in\r\n    which tournament rules will be followed incorporating the lessons covered.`\r\n  },\r\n  camps: {\r\n    intro: `Chess with Mr. S summer camps are simply amazing! Students will enjoy\r\n    several lectures daily, mixed with competitive and casual play.  As a part of our\r\n    exciting camps, students are included in many other activities including,\r\n    Outdoor Sports, Lego Challenges, Drama Productions, Arts and Crafts, Minecraft,\r\n    Double Chess and more!`,\r\n    northYork: `Chess with Mr. S summer camps are in partership with Focus learning\r\n    - please visit Focus Learning for additional information, registration or to sign\r\n    up to many other wonderul programs we offer throughout the year, including Chess,\r\n    Robotics, Coding, Writing, Math and Much More! www.focus-learning.ca`,\r\n    markham: `Chess with Mr. S summer camps are in partnership with Canada Chess Youth Club (CCYC) -\r\n    please visit www.youthchess.ca for additional information.`\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/constants/index.js","import React from 'react'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableFooter\r\n} from 'material-ui/Table'\r\nimport FlatButton from 'material-ui/FlatButton'\r\nimport styles from './styles.css'\r\n\r\nconst Entity = props => {\r\n  const {entity} = props\r\n  return (\r\n    <TableRow>\r\n      {\r\n        props.colList.map((key, idx) => {\r\n          return (\r\n            <TableRowColumn key={idx}>\r\n              <div className={styles.courseCell}>\r\n                {entity[key].toString()}\r\n              </div>\r\n            </TableRowColumn>\r\n          )\r\n        })\r\n      }\r\n      <TableRowColumn>\r\n        <div className={styles.courseCell}>\r\n          <FlatButton label=\"Edit\" onClick={() => {props.onEditClick(entity)}} />\r\n        </div>\r\n      </TableRowColumn>\r\n    </TableRow>\r\n  )\r\n}\r\n\r\nexport const EntityTable = props => {\r\n  return (\r\n    <Table className={styles.courseTable}>\r\n      <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n        <TableRow>\r\n          {\r\n            props.colList.map(({name, key}) => {\r\n              return (\r\n                <TableHeaderColumn key={key}>{name}</TableHeaderColumn>\r\n              )\r\n            }).concat(<TableHeaderColumn key=\"edit\">Update</TableHeaderColumn>)\r\n          }\r\n        </TableRow>\r\n      </TableHeader>\r\n      <TableBody displayRowCheckbox={false}>\r\n        {\r\n          props.items.map((item, key) => (\r\n            <Entity onEditClick={props.onEditClick}\r\n              colList={props.colList.map(({key}) => key)}\r\n              key={key} entity={item}/>\r\n          ))\r\n        }\r\n      </TableBody>\r\n    </Table>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/Tables.js","import axios from 'axios'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {\r\n  CLEAR_USER,\r\n  SET_USER\r\n} from './types'\r\n\r\nexport const setUser = user => {\r\n  return {\r\n    type: SET_USER,\r\n    payload: user\r\n  }\r\n}\r\n\r\nexport const clearUser = user => {\r\n  return {\r\n    type: CLEAR_USER\r\n  }\r\n}\r\n\r\nexport const updateProgressByLevel = (level, weekNumber, index, data) => dispatch => {\r\n  return axios.post('/api/user/progress-by-level', {\r\n    level, weekNumber, index, data\r\n  })\r\n  .then(({data}) => {\r\n    dispatch({\r\n      type: SET_USER,\r\n      payload: {\r\n        progress: data\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nexport const updateUser = (update) => dispatch => {\r\n  return axios.put('/api/user', {...update})\r\n    .then(({data}) => {\r\n      dispatch({\r\n        type: SET_USER,\r\n        payload: data\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/actions/user.js","import React from 'react'\r\n\r\nexport default (props) => {\r\n  const formatCurrency = (cents, currency) => {\r\n    let value = (props.cents / 100).toLocaleString('en-US', {\r\n      style: 'currency',\r\n      currency: props.currency || 'USD',\r\n      minimumFractionDigits: 2\r\n    })\r\n    return cents >= 0 ? value : `(${value.slice(1)})`\r\n  }\r\n\r\n  return (\r\n    <span style={props.style}>\r\n      {formatCurrency(props.cents, props.currency)}\r\n    </span>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Currency.js","import React from 'react'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport {NavLink} from './nav-link'\r\nimport Separator from '../Separator'\r\nimport layout from 'common/themes/layout.css'\r\nimport styles from './styles.css'\r\n\r\nconst NavLogo = withRouter(props => {\r\n  const className = props.showBigLogo\r\n    ? styles.navLogo\r\n    : styles.smallLogo\r\n  return (\r\n    <Link className={`${className} flex items-center`} to={props.root || '/'}>\r\n      <img src=\"/assets/shield.png\" />\r\n      <h2>Chess with<br /> Mr. S</h2>\r\n    </Link>\r\n  )\r\n})\r\n\r\nexport default props => {\r\n  return (\r\n    <nav className={`${styles.navbar} flex`}>\r\n      <div style={{height: \"90px\"}} className={`${layout.container} flex justify-between`}>\r\n        <NavLogo {...props}/>\r\n        <div style={{height: '100%'}} className={`flex justify-between items-center`}>\r\n            {\r\n              props.links.map((link, idx) => {\r\n                return (\r\n                  <div key={`navlink-${idx}`} style={{color: \"white\"}} className=\"flex\">\r\n                    <NavLink key={link.name} {...link}/>\r\n                    {idx < props.links.length - 1 &&\r\n                      <Separator key={`separator-${idx}`}/>\r\n                    }\r\n                  </div>\r\n                )\r\n              })\r\n            }\r\n            {\r\n              props.children\r\n            }\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Navbar/index.js","import React from 'react'\r\nimport styles from './styles.css'\r\n\r\nexport default props => {\r\n  return (\r\n    <span className={`${styles.separator} ${props.className || ''}`}> | </span>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Separator/index.js","import {camelCase} from './pattern'\r\nimport {capitalize} from './batman'\r\n\r\nexport const getField = key => {\r\n  return {\r\n    key,\r\n    name: capitalize(key.replace(camelCase, '$1 $2'))\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/schema.js","import React from 'react'\r\nimport styles from './styles.css'\r\n\r\nexport default ({\r\n  label,\r\n  handleOnClick,\r\n  style={}\r\n}) => (\r\n  <button style={style}\r\n    onClick={handleOnClick}\r\n    className={styles.button}>\r\n    {label}\r\n  </button>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/button/index.js","import React from 'react'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableFooter\r\n} from 'material-ui/Table'\r\nimport Currency from 'common/components/Currency'\r\nimport School from 'common/components/School'\r\nimport Teacher from 'common/components/Teacher'\r\nimport TimeOfDay from 'common/components/TimeOfDay'\r\nimport styles from './styles.css'\r\n\r\nconst months = [\r\n  'Jan',\r\n  'Feb',\r\n  'Mar',\r\n  'Apr',\r\n  'May',\r\n  'Jun',\r\n  'Jul',\r\n  'Aug',\r\n  'Sep',\r\n  'Oct',\r\n  'Nov',\r\n  'Dec'\r\n]\r\n\r\nconst getPriceColumn = course => {\r\n  //Restore this as necessary\r\n\r\n  // if (course.soldOut) {\r\n  //   return (\r\n  //     <strong style={{textTransform: \"uppercase\", color: \"red\"}}>Sold out</strong>\r\n  //   )\r\n  // } else if (course.isCamp) {\r\n  //   return (\r\n  //     <span>\r\n  //       <Currency cents={course.price * 100} /><br />\r\n  //       <strong>{course.magicNumber - course.registered} spots left</strong>\r\n  //     </span>\r\n  //   )\r\n  // }\r\n  if (course.soldOut) {\r\n    return (\r\n      <strong style={{textTransform: \"uppercase\", color: \"red\"}}>Sold out</strong>\r\n    )\r\n  }\r\n  return (\r\n    <Currency cents={course.price * 100} />\r\n  )\r\n}\r\n\r\nconst getClassDate = chessClass => {\r\n  const startDT = new Date(chessClass.startTime)\r\n  return months[startDT.getMonth()] + ' ' + startDT.getDate()\r\n}\r\n\r\nconst ClassTime = props => {\r\n  const startDT = new Date(props.startTime)\r\n  const endDT = new Date(props.endTime)\r\n  return (\r\n    <div>\r\n      <TimeOfDay date={startDT} />-<TimeOfDay date={endDT} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst pairUp = (result, item, idx) => {\r\n  if (idx % 2) {\r\n    result[result.length - 1] = `${result[result.length - 1]}, ${getClassDate(item)}${idx !== result.length - 1 ? ',' : ''}`\r\n  } else {\r\n    result.push(getClassDate(item));\r\n  }\r\n  return result\r\n}\r\n\r\nexport default props => {\r\n  const handleRowSelection = selectedRows => {\r\n    if (props.handleRowSelect) {\r\n      props.handleRowSelect(selectedRows);\r\n    }\r\n  }\r\n  return (\r\n    <Table className={styles.courseTable}\r\n        multiSelectable={true} onRowSelection={handleRowSelection}>\r\n       <TableHeader displaySelectAll={false} adjustForCheckbox={props.readonly}>\r\n         <TableRow>\r\n           <TableHeaderColumn>School</TableHeaderColumn>\r\n           <TableHeaderColumn>Teacher</TableHeaderColumn>\r\n           <TableHeaderColumn>Time</TableHeaderColumn>\r\n           <TableHeaderColumn>Dates</TableHeaderColumn>\r\n           <TableHeaderColumn>Price</TableHeaderColumn>\r\n         </TableRow>\r\n       </TableHeader>\r\n       <TableBody deselectOnClickaway={false}\r\n         displayRowCheckbox={props.readonly !== true}>\r\n        {\r\n          props.courses.map((course, idx) => {\r\n            return (\r\n              <TableRow key={idx} selected={props.readonly !== true &&\r\n                props.selectedRows.includes(idx)} selectable={course.soldOut !== true}>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {course.school.name}\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {`${course.teacher.firstName} ${course.teacher.lastName}`}\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    <ClassTime {...course.classes[0]} />\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {\r\n                      course.classes.reduce(pairUp, [])\r\n                        .map(str => {\r\n                          return (\r\n                            <div key={str}>{str}</div>\r\n                          )\r\n                        })\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {\r\n                      getPriceColumn(course)\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            )\r\n          })\r\n        }\r\n       </TableBody>\r\n       <TableFooter adjustForCheckbox={props.readonly !== true}>\r\n          <TableRow>\r\n            <TableRowColumn colSpan={3}></TableRowColumn>\r\n            <TableRowColumn style={{textAlign: 'center'}}>\r\n              <div className={styles.courseCell}>\r\n                <strong>Total:</strong>\r\n              </div>\r\n            </TableRowColumn>\r\n            <TableRowColumn>\r\n              <div className={styles.courseCell}>\r\n                <strong><Currency cents={props.total * 100} /></strong>\r\n              </div>\r\n            </TableRowColumn>\r\n          </TableRow>\r\n        </TableFooter>\r\n     </Table>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/CourseTable.js","import axios from 'axios'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {\r\n  ADD_TEACHER,\r\n  LOAD_TEACHERS_FAILED,\r\n  SET_TEACHERS,\r\n  UPDATE_TEACHER\r\n} from 'admin/actions/types'\r\n\r\nexport const updateTeacher = teacher => {\r\n  return {\r\n    type: UPDATE_TEACHER,\r\n    payload: teacher\r\n  }\r\n}\r\n\r\nexport const loadTeacher = teacher => {\r\n  return {\r\n    type: ADD_TEACHER,\r\n    payload: teacher\r\n  }\r\n}\r\n\r\nexport const loadTeachers = () => dispatch => {\r\n  return axios.get('/api/teachers')\r\n    .then(response => {\r\n      dispatch({\r\n        type: SET_TEACHERS,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(error => {\r\n      const defaultMessage = 'Could not load teachers'\r\n      dispatch({\r\n        type: LOAD_TEACHERS_FAILED,\r\n        payload: getErrorMessage(error, defaultMessage)\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/actions/teachers.js","export const ADD_TEACHER = 'ADD_TEACHER'\r\nexport const LOAD_TEACHERS_FAILED = 'LOAD_TEACHERS_FAILED'\r\nexport const SET_TEACHERS = 'SET_TEACHERS'\r\nexport const UPDATE_TEACHER = 'UPDATE_TEACHER'\r\nexport const ADD_SCHOOL = 'ADD_SCHOOL'\r\nexport const LOAD_SCHOOLS_FAILED = 'LOAD_SCHOOLS_FAILED'\r\nexport const SET_SCHOOLS = 'SET_SCHOOLS'\r\nexport const UPDATE_SCHOOL = 'UPDATE_SCHOOL'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/actions/types.js","export const navLinks = [{\r\n  url: '/registration',\r\n  name: 'Registration'\r\n}, {\r\n  url: '/homework',\r\n  name: 'Homework'\r\n}, {\r\n  url: '/courses',\r\n  name: 'Courses'\r\n}]\r\n\r\nexport const homeworkLinks = [{\r\n  level: 'Pawn',\r\n  weeks: [\r\n    'PawnMoves',\r\n    'KnightMoves',\r\n    'BishopMoves',\r\n    'RookMoves',\r\n    'QueenMoves',\r\n    'KingMoves'\r\n  ]\r\n}, {\r\n  level: 'Knight',\r\n  weeks: [\r\n    'Castling',\r\n    'Check',\r\n    'CheckmateInOne',\r\n    'ChessNotation',\r\n    'EnPassant',\r\n    'ImpossiblePositions',\r\n    'Stalemate'\r\n  ]\r\n}, {\r\n  level: 'Bishop',\r\n  weeks: [\r\n    'ABCsOfTheOpening',\r\n    'FairOrNot',\r\n    'Forks',\r\n    'ForksII',\r\n    'Openings',\r\n    'OpeningsII',\r\n    'PieceValue',\r\n    'ScholarsMate'\r\n  ]\r\n}, {\r\n  level: 'Rook',\r\n  weeks: [\r\n    'CheckmateInTwo',\r\n    'DiscoveredAttack',\r\n    'KingAndQueenMates',\r\n    'KingAndRookMates',\r\n    'MagicIf',\r\n    'MatePatterns',\r\n    'Pins',\r\n    'Skewers'\r\n  ]\r\n}, {\r\n  level: 'Queen',\r\n  weeks: [\r\n    'ClearanceSacrifice',\r\n    'Decoys',\r\n    'Deflections',\r\n    'KingAndPawnEndgames',\r\n    'KingAndPawnEndgamesII',\r\n    'TacticalCombinations'\r\n  ]\r\n}, {\r\n  level: 'King',\r\n  weeks: [\r\n    'AttackOnCastledKing',\r\n    'AttackOnCastledKingII',\r\n    'AttackOnUncastledKing',\r\n    'AttackOnUncastledKingII',\r\n    'DefensivePuzzles',\r\n    'MatePatterns'\r\n  ]\r\n}]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/constants/index.js","/*!\r\n * chessboard.js v0.3.0\r\n *\r\n * Copyright 2013 Chris Oakman\r\n * Released under the MIT license\r\n * http://chessboardjs.com/license\r\n *\r\n * Date: 10 Aug 2013\r\n */\r\n\r\nimport $ from 'jquery';\r\nimport styles from './chessboard-0.3.0.css';\r\n\r\n//------------------------------------------------------------------------------\r\n// Chess Util Functions\r\n//------------------------------------------------------------------------------\r\nvar COLUMNS = 'abcdefgh'.split('');\r\n\r\nfunction validMove(move) {\r\n  // move should be a string\r\n  if (typeof move !== 'string') return false;\r\n\r\n  // move should be in the form of \"e2-e4\", \"f6-d5\"\r\n  var tmp = move.split('-');\r\n  if (tmp.length !== 2) return false;\r\n\r\n  return (validSquare(tmp[0]) === true && validSquare(tmp[1]) === true);\r\n}\r\n\r\nfunction validSquare(square) {\r\n  if (typeof square !== 'string') return false;\r\n  return (square.search(/^[a-h][1-8]$/) !== -1);\r\n}\r\n\r\nfunction validPieceCode(code) {\r\n  if (typeof code !== 'string') return false;\r\n  return (code.search(/^[bw][KQRNBP]$/) !== -1);\r\n}\r\n\r\n// TODO: this whole function could probably be replaced with a single regex\r\nfunction validFen(fen) {\r\n  if (typeof fen !== 'string') return false;\r\n\r\n  // cut off any move, castling, etc info from the end\r\n  // we're only interested in position information\r\n  fen = fen.replace(/ .+$/, '');\r\n\r\n  // FEN should be 8 sections separated by slashes\r\n  var chunks = fen.split('/');\r\n  if (chunks.length !== 8) return false;\r\n\r\n  // check the piece sections\r\n  for (var i = 0; i < 8; i++) {\r\n    if (chunks[i] === '' ||\r\n        chunks[i].length > 8 ||\r\n        chunks[i].search(/[^kqrbnpKQRNBP1-8]/) !== -1) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction validPositionObject(pos) {\r\n  if (typeof pos !== 'object') return false;\r\n\r\n  for (var i in pos) {\r\n    if (pos.hasOwnProperty(i) !== true) continue;\r\n\r\n    if (validSquare(i) !== true || validPieceCode(pos[i]) !== true) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n// convert FEN piece code to bP, wK, etc\r\nfunction fenToPieceCode(piece) {\r\n  // black piece\r\n  if (piece.toLowerCase() === piece) {\r\n    return 'b' + piece.toUpperCase();\r\n  }\r\n\r\n  // white piece\r\n  return 'w' + piece.toUpperCase();\r\n}\r\n\r\n// convert bP, wK, etc code to FEN structure\r\nfunction pieceCodeToFen(piece) {\r\n  var tmp = piece.split('');\r\n\r\n  // white piece\r\n  if (tmp[0] === 'w') {\r\n    return tmp[1].toUpperCase();\r\n  }\r\n\r\n  // black piece\r\n  return tmp[1].toLowerCase();\r\n}\r\n\r\n// convert FEN string to position object\r\n// returns false if the FEN string is invalid\r\nfunction fenToObj(fen) {\r\n  if (validFen(fen) !== true) {\r\n    return false;\r\n  }\r\n\r\n  // cut off any move, castling, etc info from the end\r\n  // we're only interested in position information\r\n  fen = fen.replace(/ .+$/, '');\r\n\r\n  var rows = fen.split('/');\r\n  var position = {};\r\n\r\n  var currentRow = 8;\r\n  for (var i = 0; i < 8; i++) {\r\n    var row = rows[i].split('');\r\n    var colIndex = 0;\r\n\r\n    // loop through each character in the FEN section\r\n    for (var j = 0; j < row.length; j++) {\r\n      // number / empty squares\r\n      if (row[j].search(/[1-8]/) !== -1) {\r\n        var emptySquares = parseInt(row[j], 10);\r\n        colIndex += emptySquares;\r\n      }\r\n      // piece\r\n      else {\r\n        var square = COLUMNS[colIndex] + currentRow;\r\n        position[square] = fenToPieceCode(row[j]);\r\n        colIndex++;\r\n      }\r\n    }\r\n\r\n    currentRow--;\r\n  }\r\n\r\n  return position;\r\n}\r\n\r\n// position object to FEN string\r\n// returns false if the obj is not a valid position object\r\nfunction objToFen(obj) {\r\n  if (validPositionObject(obj) !== true) {\r\n    return false;\r\n  }\r\n\r\n  var fen = '';\r\n\r\n  var currentRow = 8;\r\n  for (var i = 0; i < 8; i++) {\r\n    for (var j = 0; j < 8; j++) {\r\n      var square = COLUMNS[j] + currentRow;\r\n\r\n      // piece exists\r\n      if (obj.hasOwnProperty(square) === true) {\r\n        fen += pieceCodeToFen(obj[square]);\r\n      }\r\n\r\n      // empty space\r\n      else {\r\n        fen += '1';\r\n      }\r\n    }\r\n\r\n    if (i !== 7) {\r\n      fen += '/';\r\n    }\r\n\r\n    currentRow--;\r\n  }\r\n\r\n  // squeeze the numbers together\r\n  // haha, I love this solution...\r\n  fen = fen.replace(/11111111/g, '8');\r\n  fen = fen.replace(/1111111/g, '7');\r\n  fen = fen.replace(/111111/g, '6');\r\n  fen = fen.replace(/11111/g, '5');\r\n  fen = fen.replace(/1111/g, '4');\r\n  fen = fen.replace(/111/g, '3');\r\n  fen = fen.replace(/11/g, '2');\r\n\r\n  return fen;\r\n}\r\n\r\nconst ChessBoard = function(containerElOrId, cfg) {\r\n\r\ncfg = cfg || {};\r\n\r\n//------------------------------------------------------------------------------\r\n// Constants\r\n//------------------------------------------------------------------------------\r\n\r\nvar MINIMUM_JQUERY_VERSION = '1.7.0',\r\n  START_FEN = 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR',\r\n  START_POSITION = fenToObj(START_FEN);\r\n\r\n// use unique class names to prevent clashing with anything else on the page\r\n// and simplify selectors\r\nvar CSS = {\r\n  alpha: 'alpha-d2270',\r\n  black: 'black-3c85d',\r\n  board: 'board-b72b1',\r\n  chessboard: 'chessboard-63f37',\r\n  clearfix: 'clearfix-7da63',\r\n  highlight1: 'highlight1-32417',\r\n  highlight2: 'highlight2-9c5d2',\r\n  notation: 'notation-322f9',\r\n  numeric: 'numeric-fc462',\r\n  piece: 'piece-417db',\r\n  row: 'row-5277c',\r\n  sparePieces: 'spare-pieces-7492f',\r\n  sparePiecesBottom: 'spare-pieces-bottom-ae20f',\r\n  sparePiecesTop: 'spare-pieces-top-4028b',\r\n  square: 'square-55d63',\r\n  white: 'white-1e1d7'\r\n};\r\n\r\n//------------------------------------------------------------------------------\r\n// Module Scope Variables\r\n//------------------------------------------------------------------------------\r\n\r\n// DOM elements\r\nvar containerEl,\r\n  boardEl,\r\n  draggedPieceEl,\r\n  sparePiecesTopEl,\r\n  sparePiecesBottomEl;\r\n\r\n// constructor return object\r\nvar widget = {};\r\n\r\n//------------------------------------------------------------------------------\r\n// Stateful\r\n//------------------------------------------------------------------------------\r\n\r\nvar ANIMATION_HAPPENING = false,\r\n  BOARD_BORDER_SIZE = 2,\r\n  CURRENT_ORIENTATION = 'white',\r\n  CURRENT_POSITION = {},\r\n  SQUARE_SIZE,\r\n  DRAGGED_PIECE,\r\n  DRAGGED_PIECE_LOCATION,\r\n  DRAGGED_PIECE_SOURCE,\r\n  DRAGGING_A_PIECE = false,\r\n  SPARE_PIECE_ELS_IDS = {},\r\n  SQUARE_ELS_IDS = {},\r\n  SQUARE_ELS_OFFSETS;\r\n\r\n//------------------------------------------------------------------------------\r\n// JS Util Functions\r\n//------------------------------------------------------------------------------\r\n\r\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\r\nfunction createId() {\r\n  return 'xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx-xxxx'.replace(/x/g, function(c) {\r\n    var r = Math.random() * 16 | 0;\r\n    return r.toString(16);\r\n  });\r\n}\r\n\r\nfunction deepCopy(thing) {\r\n  return JSON.parse(JSON.stringify(thing));\r\n}\r\n\r\nfunction parseSemVer(version) {\r\n  var tmp = version.split('.');\r\n  return {\r\n    major: parseInt(tmp[0], 10),\r\n    minor: parseInt(tmp[1], 10),\r\n    patch: parseInt(tmp[2], 10)\r\n  };\r\n}\r\n\r\n// returns true if version is >= minimum\r\nfunction compareSemVer(version, minimum) {\r\n  version = parseSemVer(version);\r\n  minimum = parseSemVer(minimum);\r\n\r\n  var versionNum = (version.major * 10000 * 10000) +\r\n    (version.minor * 10000) + version.patch;\r\n  var minimumNum = (minimum.major * 10000 * 10000) +\r\n    (minimum.minor * 10000) + minimum.patch;\r\n\r\n  return (versionNum >= minimumNum);\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Validation / Errors\r\n//------------------------------------------------------------------------------\r\n\r\nfunction error(code, msg, obj) {\r\n  // do nothing if showErrors is not set\r\n  if (cfg.hasOwnProperty('showErrors') !== true ||\r\n      cfg.showErrors === false) {\r\n    return;\r\n  }\r\n\r\n  var errorText = 'ChessBoard Error ' + code + ': ' + msg;\r\n\r\n  // print to console\r\n  if (cfg.showErrors === 'console' &&\r\n      typeof console === 'object' &&\r\n      typeof console.log === 'function') {\r\n    console.log(errorText);\r\n    if (arguments.length >= 2) {\r\n      console.log(obj);\r\n    }\r\n    return;\r\n  }\r\n\r\n  // alert errors\r\n  if (cfg.showErrors === 'alert') {\r\n    if (obj) {\r\n      errorText += '\\n\\n' + JSON.stringify(obj);\r\n    }\r\n    window.alert(errorText);\r\n    return;\r\n  }\r\n\r\n  // custom function\r\n  if (typeof cfg.showErrors === 'function') {\r\n    cfg.showErrors(code, msg, obj);\r\n  }\r\n}\r\n\r\n// check dependencies\r\nfunction checkDeps() {\r\n  // if containerId is a string, it must be the ID of a DOM node\r\n  if (typeof containerElOrId === 'string') {\r\n    // cannot be empty\r\n    if (containerElOrId === '') {\r\n      window.alert('ChessBoard Error 1001: ' +\r\n        'The first argument to ChessBoard() cannot be an empty string.' +\r\n        '\\n\\nExiting...');\r\n      return false;\r\n    }\r\n\r\n    // make sure the container element exists in the DOM\r\n    var el = document.getElementById(containerElOrId);\r\n    if (! el) {\r\n      window.alert('ChessBoard Error 1002: Element with id \"' +\r\n        containerElOrId + '\" does not exist in the DOM.' +\r\n        '\\n\\nExiting...');\r\n      return false;\r\n    }\r\n\r\n    // set the containerEl\r\n    containerEl = $(el);\r\n  }\r\n\r\n  // else it must be something that becomes a jQuery collection\r\n  // with size 1\r\n  // ie: a single DOM node or jQuery object\r\n  else {\r\n    containerEl = $(containerElOrId);\r\n\r\n    if (containerEl.length !== 1) {\r\n      window.alert('ChessBoard Error 1003: The first argument to ' +\r\n        'ChessBoard() must be an ID or a single DOM node.' +\r\n        '\\n\\nExiting...');\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // JSON must exist\r\n  if (! window.JSON ||\r\n      typeof JSON.stringify !== 'function' ||\r\n      typeof JSON.parse !== 'function') {\r\n    window.alert('ChessBoard Error 1004: JSON does not exist. ' +\r\n      'Please include a JSON polyfill.\\n\\nExiting...');\r\n    return false;\r\n  }\r\n\r\n  // check for a compatible version of jQuery\r\n  if (! (typeof window.$ && $.fn && $.fn.jquery &&\r\n      compareSemVer($.fn.jquery, MINIMUM_JQUERY_VERSION) === true)) {\r\n    window.alert('ChessBoard Error 1005: Unable to find a valid version ' +\r\n      'of jQuery. Please include jQuery ' + MINIMUM_JQUERY_VERSION + ' or ' +\r\n      'higher on the page.\\n\\nExiting...');\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction validAnimationSpeed(speed) {\r\n  if (speed === 'fast' || speed === 'slow') {\r\n    return true;\r\n  }\r\n\r\n  if ((parseInt(speed, 10) + '') !== (speed + '')) {\r\n    return false;\r\n  }\r\n\r\n  return (speed >= 0);\r\n}\r\n\r\n// validate config / set default options\r\nfunction expandConfig() {\r\n  if (typeof cfg === 'string' || validPositionObject(cfg) === true) {\r\n    cfg = {\r\n      position: cfg\r\n    };\r\n  }\r\n\r\n  // default for orientation is white\r\n  if (cfg.orientation !== 'black') {\r\n    cfg.orientation = 'white';\r\n  }\r\n  CURRENT_ORIENTATION = cfg.orientation;\r\n\r\n  // default for showNotation is true\r\n  if (cfg.showNotation !== false) {\r\n    cfg.showNotation = true;\r\n  }\r\n\r\n  // default for draggable is false\r\n  if (cfg.draggable !== true) {\r\n    cfg.draggable = false;\r\n  }\r\n\r\n  // default for dropOffBoard is 'snapback'\r\n  if (cfg.dropOffBoard !== 'trash') {\r\n    cfg.dropOffBoard = 'snapback';\r\n  }\r\n\r\n  // default for sparePieces is false\r\n  if (cfg.sparePieces !== true) {\r\n    cfg.sparePieces = false;\r\n  }\r\n\r\n  // draggable must be true if sparePieces is enabled\r\n  if (cfg.sparePieces === true) {\r\n    cfg.draggable = true;\r\n  }\r\n\r\n  // default piece theme is wikipedia\r\n  if (cfg.hasOwnProperty('pieceTheme') !== true ||\r\n      (typeof cfg.pieceTheme !== 'string' &&\r\n       typeof cfg.pieceTheme !== 'function')) {\r\n    cfg.pieceTheme = 'img/chesspieces/wikipedia/{piece}.png';\r\n  }\r\n\r\n  // animation speeds\r\n  if (cfg.hasOwnProperty('appearSpeed') !== true ||\r\n      validAnimationSpeed(cfg.appearSpeed) !== true) {\r\n    cfg.appearSpeed = 200;\r\n  }\r\n  if (cfg.hasOwnProperty('moveSpeed') !== true ||\r\n      validAnimationSpeed(cfg.moveSpeed) !== true) {\r\n    cfg.moveSpeed = 200;\r\n  }\r\n  if (cfg.hasOwnProperty('snapbackSpeed') !== true ||\r\n      validAnimationSpeed(cfg.snapbackSpeed) !== true) {\r\n    cfg.snapbackSpeed = 50;\r\n  }\r\n  if (cfg.hasOwnProperty('snapSpeed') !== true ||\r\n      validAnimationSpeed(cfg.snapSpeed) !== true) {\r\n    cfg.snapSpeed = 25;\r\n  }\r\n  if (cfg.hasOwnProperty('trashSpeed') !== true ||\r\n      validAnimationSpeed(cfg.trashSpeed) !== true) {\r\n    cfg.trashSpeed = 100;\r\n  }\r\n\r\n  // make sure position is valid\r\n  if (cfg.hasOwnProperty('position') === true) {\r\n    if (cfg.position === 'start') {\r\n      CURRENT_POSITION = deepCopy(START_POSITION);\r\n    }\r\n\r\n    else if (validFen(cfg.position) === true) {\r\n      CURRENT_POSITION = fenToObj(cfg.position);\r\n    }\r\n\r\n    else if (validPositionObject(cfg.position) === true) {\r\n      CURRENT_POSITION = deepCopy(cfg.position);\r\n    }\r\n\r\n    else {\r\n      error(7263, 'Invalid value passed to config.position.', cfg.position);\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// DOM Misc\r\n//------------------------------------------------------------------------------\r\n\r\n// calculates square size based on the width of the container\r\n// got a little CSS black magic here, so let me explain:\r\n// get the width of the container element (could be anything), reduce by 1 for\r\n// fudge factor, and then keep reducing until we find an exact mod 8 for\r\n// our square size\r\nfunction calculateSquareSize() {\r\n  var containerWidth = parseInt(containerEl.css('width'), 10);\r\n\r\n  // defensive, prevent infinite loop\r\n  if (! containerWidth || containerWidth <= 0) {\r\n    return 0;\r\n  }\r\n\r\n  // pad one pixel\r\n  var boardWidth = containerWidth - 1;\r\n\r\n  while (boardWidth % 8 !== 0 && boardWidth > 0) {\r\n    boardWidth--;\r\n  }\r\n\r\n  return (boardWidth / 8);\r\n}\r\n\r\n// create random IDs for elements\r\nfunction createElIds() {\r\n  // squares on the board\r\n  for (var i = 0; i < COLUMNS.length; i++) {\r\n    for (var j = 1; j <= 8; j++) {\r\n      var square = COLUMNS[i] + j;\r\n      SQUARE_ELS_IDS[square] = square + '-' + createId();\r\n    }\r\n  }\r\n\r\n  // spare pieces\r\n  var pieces = 'KQRBNP'.split('');\r\n  for (var i = 0; i < pieces.length; i++) {\r\n    var whitePiece = 'w' + pieces[i];\r\n    var blackPiece = 'b' + pieces[i];\r\n    SPARE_PIECE_ELS_IDS[whitePiece] = whitePiece + '-' + createId();\r\n    SPARE_PIECE_ELS_IDS[blackPiece] = blackPiece + '-' + createId();\r\n  }\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Markup Building\r\n//------------------------------------------------------------------------------\r\n\r\nfunction buildBoardContainer() {\r\n\r\n  var html = '<div class=\"' + styles.chessboard + '\">';\r\n\r\n  if (cfg.sparePieces === true) {\r\n    html += '<div class=\"' + styles.sparePieces + ' ' +\r\n      styles.sparePiecesTop + '\"></div>';\r\n  }\r\n\r\n  html += '<div class=\"' + styles.board + '\"></div>';\r\n\r\n  if (cfg.sparePieces === true) {\r\n    html += '<div class=\"' + styles.sparePieces + ' ' +\r\n      styles.sparePiecesBottom + '\"></div>';\r\n  }\r\n\r\n  html += '</div>';\r\n\r\n  return html;\r\n}\r\n\r\nfunction buildBoard(orientation) {\r\n  if (orientation !== 'black') {\r\n    orientation = 'white';\r\n  }\r\n\r\n  var html = '';\r\n\r\n  // algebraic notation / orientation\r\n  var alpha = deepCopy(COLUMNS);\r\n  var row = 8;\r\n  if (orientation === 'black') {\r\n    alpha.reverse();\r\n    row = 1;\r\n  }\r\n\r\n  var squareColor = 'white';\r\n  for (var i = 0; i < 8; i++) {\r\n    html += '<div class=\"' + styles.row + '\">';\r\n    for (var j = 0; j < 8; j++) {\r\n      var square = alpha[j] + row;\r\n\r\n      html += '<div class=\"' + styles.square + ' ' + styles[squareColor] + ' ' +\r\n        'square-' + square + '\" ' +\r\n        'style=\"width: ' + SQUARE_SIZE + 'px; height: ' + SQUARE_SIZE + 'px\" ' +\r\n        'id=\"' + SQUARE_ELS_IDS[square] + '\" ' +\r\n        'data-square=\"' + square + '\">';\r\n\r\n      if (cfg.showNotation === true) {\r\n        // alpha notation\r\n        if ((orientation === 'white' && row === 1) ||\r\n            (orientation === 'black' && row === 8)) {\r\n          html += '<div class=\"' + styles.notation + ' ' + styles.alpha + '\">' +\r\n            alpha[j] + '</div>';\r\n        }\r\n\r\n        // numeric notation\r\n        if (j === 0) {\r\n          html += '<div class=\"' + styles.notation + ' ' + styles.numeric + '\">' +\r\n            row + '</div>';\r\n        }\r\n      }\r\n\r\n      html += '</div>'; // end .square\r\n\r\n      squareColor = (squareColor === 'white' ? 'black' : 'white');\r\n    }\r\n    html += '<div class=\"' + styles.clearfix + '\"></div></div>';\r\n\r\n    squareColor = (squareColor === 'white' ? 'black' : 'white');\r\n\r\n    if (orientation === 'white') {\r\n      row--;\r\n    }\r\n    else {\r\n      row++;\r\n    }\r\n  }\r\n\r\n  return html;\r\n}\r\n\r\nfunction buildPieceImgSrc(piece) {\r\n  if (typeof cfg.pieceTheme === 'function') {\r\n    return cfg.pieceTheme(piece);\r\n  }\r\n\r\n  if (typeof cfg.pieceTheme === 'string') {\r\n    return cfg.pieceTheme.replace(/{piece}/g, piece);\r\n  }\r\n\r\n  // NOTE: this should never happen\r\n  error(8272, 'Unable to build image source for cfg.pieceTheme.');\r\n  return '';\r\n}\r\n\r\nfunction buildPiece(piece, hidden, id) {\r\n  var html = '<img src=\"' + buildPieceImgSrc(piece) + '\" ';\r\n  if (id && typeof id === 'string') {\r\n    html += 'id=\"' + id + '\" ';\r\n  }\r\n  html += 'alt=\"\" ' +\r\n  'class=\"' + styles.piece + '\" ' +\r\n  'data-piece=\"' + piece + '\" ' +\r\n  'style=\"width: ' + SQUARE_SIZE + 'px;' +\r\n  'height: ' + SQUARE_SIZE + 'px;';\r\n  if (hidden === true) {\r\n    html += 'display:none;';\r\n  }\r\n  html += '\" />';\r\n\r\n  return html;\r\n}\r\n\r\nfunction buildSparePieces(color) {\r\n  var pieces = ['wK', 'wQ', 'wR', 'wB', 'wN', 'wP'];\r\n  if (color === 'black') {\r\n    pieces = ['bK', 'bQ', 'bR', 'bB', 'bN', 'bP'];\r\n  }\r\n\r\n  var html = '';\r\n  for (var i = 0; i < pieces.length; i++) {\r\n    html += buildPiece(pieces[i], false, SPARE_PIECE_ELS_IDS[pieces[i]]);\r\n  }\r\n\r\n  return html;\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Animations\r\n//------------------------------------------------------------------------------\r\n\r\nfunction animateSquareToSquare(src, dest, piece, completeFn) {\r\n  // get information about the source and destination squares\r\n  var srcSquareEl = $('#' + SQUARE_ELS_IDS[src]);\r\n  var srcSquarePosition = srcSquareEl.offset();\r\n  var destSquareEl = $('#' + SQUARE_ELS_IDS[dest]);\r\n  var destSquarePosition = destSquareEl.offset();\r\n\r\n  // create the animated piece and absolutely position it\r\n  // over the source squastylesre\r\n  var animatedPieceId = createId();\r\n  $('body').append(buildPiece(piece, true, animatedPieceId));\r\n  var animatedPieceEl = $('#' + animatedPieceId);\r\n  animatedPieceEl.css({\r\n    display: '',\r\n    position: 'absolute',\r\n    top: srcSquarePosition.top,\r\n    left: srcSquarePosition.left\r\n  });\r\n\r\n  // remove original piece from source square\r\n  srcSquareEl.find('.' + styles.piece).remove();\r\n\r\n  // on complete\r\n  var complete = function() {\r\n    // add the \"real\" piece to the destination square\r\n    destSquareEl.append(buildPiece(piece));\r\n\r\n    // remove the animated piece\r\n    animatedPieceEl.remove();\r\n\r\n    // run complete function\r\n    if (typeof completeFn === 'function') {\r\n      completeFn();\r\n    }\r\n  };\r\n\r\n  // animate the piece to the destination square\r\n  var opts = {\r\n    duration: cfg.moveSpeed,\r\n    complete: complete\r\n  };\r\n  animatedPieceEl.animate(destSquarePosition, opts);\r\n}\r\n\r\nfunction animateSparePieceToSquare(piece, dest, completeFn) {\r\n  var srcOffset = $('#' + SPARE_PIECE_ELS_IDS[piece]).offset();\r\n  var destSquareEl = $('#' + SQUARE_ELS_IDS[dest]);\r\n  var destOffset = destSquareEl.offset();\r\n\r\n  // create the animate piece\r\n  var pieceId = createId();\r\n  $('body').append(buildPiece(piece, true, pieceId));\r\n  var animatedPieceEl = $('#' + pieceId);\r\n  animatedPieceEl.css({\r\n    display: '',\r\n    position: 'absolute',\r\n    left: srcOffset.left,\r\n    top: srcOffset.top\r\n  });\r\n\r\n  // on complete\r\n  var complete = function() {\r\n    // add the \"real\" piece to the destination square\r\n    destSquareEl.find('.' + styles.piece).remove();\r\n    destSquareEl.append(buildPiece(piece));\r\n\r\n    // remove the animated piece\r\n    animatedPieceEl.remove();\r\n\r\n    // run complete function\r\n    if (typeof completeFn === 'function') {\r\n      completeFn();\r\n    }\r\n  };\r\n\r\n  // animate the piece to the destination square\r\n  var opts = {\r\n    duration: cfg.moveSpeed,\r\n    complete: complete\r\n  };\r\n  animatedPieceEl.animate(destOffset, opts);\r\n}\r\n\r\n// execute an array of animations\r\nfunction doAnimations(a, oldPos, newPos) {\r\n  ANIMATION_HAPPENING = true;\r\n\r\n  var numFinished = 0;\r\n  function onFinish() {\r\n    numFinished++;\r\n\r\n    // exit if all the animations aren't finished\r\n    if (numFinished !== a.length) return;\r\n\r\n    drawPositionInstant();\r\n    ANIMATION_HAPPENING = false;\r\n\r\n    // run their onMoveEnd function\r\n    if (cfg.hasOwnProperty('onMoveEnd') === true &&\r\n      typeof cfg.onMoveEnd === 'function') {\r\n      cfg.onMoveEnd(deepCopy(oldPos), deepCopy(newPos));\r\n    }\r\n  }\r\n\r\n  for (var i = 0; i < a.length; i++) {\r\n    // clear a piece\r\n    if (a[i].type === 'clear') {\r\n      $('#' + SQUARE_ELS_IDS[a[i].square] + ' .' + styles.piece)\r\n        .fadeOut(cfg.trashSpeed, onFinish);\r\n    }\r\n\r\n    // add a piece (no spare pieces)\r\n    if (a[i].type === 'add' && cfg.sparePieces !== true) {\r\n      $('#' + SQUARE_ELS_IDS[a[i].square])\r\n        .append(buildPiece(a[i].piece, true))\r\n        .find('.' + styles.piece)\r\n        .fadeIn(cfg.appearSpeed, onFinish);\r\n    }\r\n\r\n    // add a piece from a spare piece\r\n    if (a[i].type === 'add' && cfg.sparePieces === true) {\r\n      animateSparePieceToSquare(a[i].piece, a[i].square, onFinish);\r\n    }\r\n\r\n    // move a piece\r\n    if (a[i].type === 'move') {\r\n      animateSquareToSquare(a[i].source, a[i].destination, a[i].piece,\r\n        onFinish);\r\n    }\r\n  }\r\n}\r\n\r\n// returns the distance between two squares\r\nfunction squareDistance(s1, s2) {\r\n  s1 = s1.split('');\r\n  var s1x = COLUMNS.indexOf(s1[0]) + 1;\r\n  var s1y = parseInt(s1[1], 10);\r\n\r\n  s2 = s2.split('');\r\n  var s2x = COLUMNS.indexOf(s2[0]) + 1;\r\n  var s2y = parseInt(s2[1], 10);\r\n\r\n  var xDelta = Math.abs(s1x - s2x);\r\n  var yDelta = Math.abs(s1y - s2y);\r\n\r\n  if (xDelta >= yDelta) return xDelta;\r\n  return yDelta;\r\n}\r\n\r\n// returns an array of closest squares from square\r\nfunction createRadius(square) {\r\n  var squares = [];\r\n\r\n  // calculate distance of all squares\r\n  for (var i = 0; i < 8; i++) {\r\n    for (var j = 0; j < 8; j++) {\r\n      var s = COLUMNS[i] + (j + 1);\r\n\r\n      // skip the square we're starting from\r\n      if (square === s) continue;\r\n\r\n      squares.push({\r\n        square: s,\r\n        distance: squareDistance(square, s)\r\n      });\r\n    }\r\n  }\r\n\r\n  // sort by distance\r\n  squares.sort(function(a, b) {\r\n    return a.distance - b.distance;\r\n  });\r\n\r\n  // just return the square code\r\n  var squares2 = [];\r\n  for (var i = 0; i < squares.length; i++) {\r\n    squares2.push(squares[i].square);\r\n  }\r\n\r\n  return squares2;\r\n}\r\n\r\n// returns the square of the closest instance of piece\r\n// returns false if no instance of piece is found in position\r\nfunction findClosestPiece(position, piece, square) {\r\n  // create array of closest squares from square\r\n  var closestSquares = createRadius(square);\r\n\r\n  // search through the position in order of distance for the piece\r\n  for (var i = 0; i < closestSquares.length; i++) {\r\n    var s = closestSquares[i];\r\n\r\n    if (position.hasOwnProperty(s) === true && position[s] === piece) {\r\n      return s;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n// calculate an array of animations that need to happen in order to get\r\n// from pos1 to pos2\r\nfunction calculateAnimations(pos1, pos2) {\r\n  // make copies of both\r\n  pos1 = deepCopy(pos1);\r\n  pos2 = deepCopy(pos2);\r\n\r\n  var animations = [];\r\n  var squaresMovedTo = {};\r\n\r\n  // remove pieces that are the same in both positions\r\n  for (var i in pos2) {\r\n    if (pos2.hasOwnProperty(i) !== true) continue;\r\n\r\n    if (pos1.hasOwnProperty(i) === true && pos1[i] === pos2[i]) {\r\n      delete pos1[i];\r\n      delete pos2[i];\r\n    }\r\n  }\r\n\r\n  // find all the \"move\" animations\r\n  for (var i in pos2) {\r\n    if (pos2.hasOwnProperty(i) !== true) continue;\r\n\r\n    var closestPiece = findClosestPiece(pos1, pos2[i], i);\r\n    if (closestPiece !== false) {\r\n      animations.push({\r\n        type: 'move',\r\n        source: closestPiece,\r\n        destination: i,\r\n        piece: pos2[i]\r\n      });\r\n\r\n      delete pos1[closestPiece];\r\n      delete pos2[i];\r\n      squaresMovedTo[i] = true;\r\n    }\r\n  }\r\n\r\n  // add pieces to pos2\r\n  for (var i in pos2) {\r\n    if (pos2.hasOwnProperty(i) !== true) continue;\r\n\r\n    animations.push({\r\n      type: 'add',\r\n      square: i,\r\n      piece: pos2[i]\r\n    })\r\n\r\n    delete pos2[i];\r\n  }\r\n\r\n  // clear pieces from pos1\r\n  for (var i in pos1) {\r\n    if (pos1.hasOwnProperty(i) !== true) continue;\r\n\r\n    // do not clear a piece if it is on a square that is the result\r\n    // of a \"move\", ie: a piece capture\r\n    if (squaresMovedTo.hasOwnProperty(i) === true) continue;\r\n\r\n    animations.push({\r\n      type: 'clear',\r\n      square: i,\r\n      piece: pos1[i]\r\n    });\r\n\r\n    delete pos1[i];\r\n  }\r\n\r\n  return animations;\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Control Flow\r\n//------------------------------------------------------------------------------\r\n\r\nfunction drawPositionInstant() {\r\n  // clear the board\r\n  boardEl.find('.' + styles.piece).remove();\r\n\r\n  // add the pieces\r\n  for (var i in CURRENT_POSITION) {\r\n    if (CURRENT_POSITION.hasOwnProperty(i) !== true) continue;\r\n\r\n    $('#' + SQUARE_ELS_IDS[i]).append(buildPiece(CURRENT_POSITION[i]));\r\n  }\r\n}\r\n\r\nfunction drawBoard() {\r\n  boardEl.html(buildBoard(CURRENT_ORIENTATION));\r\n  drawPositionInstant();\r\n\r\n  if (cfg.sparePieces === true) {\r\n    if (CURRENT_ORIENTATION === 'white') {\r\n      sparePiecesTopEl.html(buildSparePieces('black'));\r\n      sparePiecesBottomEl.html(buildSparePieces('white'));\r\n    }\r\n    else {\r\n      sparePiecesTopEl.html(buildSparePieces('white'));\r\n      sparePiecesBottomEl.html(buildSparePieces('black'));\r\n    }\r\n  }\r\n}\r\n\r\n// given a position and a set of moves, return a new position\r\n// with the moves executed\r\nfunction calculatePositionFromMoves(position, moves) {\r\n  position = deepCopy(position);\r\n\r\n  for (var i in moves) {\r\n    if (moves.hasOwnProperty(i) !== true) continue;\r\n\r\n    // skip the move if the position doesn't have a piece on the source square\r\n    if (position.hasOwnProperty(i) !== true) continue;\r\n\r\n    var piece = position[i];\r\n    delete position[i];\r\n    position[moves[i]] = piece;\r\n  }\r\n\r\n  return position;\r\n}\r\n\r\nfunction setCurrentPosition(position) {\r\n  var oldPos = deepCopy(CURRENT_POSITION);\r\n  var newPos = deepCopy(position);\r\n  var oldFen = objToFen(oldPos);\r\n  var newFen = objToFen(newPos);\r\n\r\n  // do nothing if no change in position\r\n  if (oldFen === newFen) return;\r\n\r\n  // run their onChange function\r\n  if (cfg.hasOwnProperty('onChange') === true &&\r\n    typeof cfg.onChange === 'function') {\r\n    cfg.onChange(oldPos, newPos);\r\n  }\r\n\r\n  // update state\r\n  CURRENT_POSITION = position;\r\n}\r\n\r\nfunction isXYOnSquare(x, y) {\r\n  for (var i in SQUARE_ELS_OFFSETS) {\r\n    if (SQUARE_ELS_OFFSETS.hasOwnProperty(i) !== true) continue;\r\n\r\n    var s = SQUARE_ELS_OFFSETS[i];\r\n    if (x >= s.left && x < s.left + SQUARE_SIZE &&\r\n        y >= s.top && y < s.top + SQUARE_SIZE) {\r\n      return i;\r\n    }\r\n  }\r\n\r\n  return 'offboard';\r\n}\r\n\r\n// records the XY coords of every square into memory\r\nfunction captureSquareOffsets() {\r\n  SQUARE_ELS_OFFSETS = {};\r\n\r\n  for (var i in SQUARE_ELS_IDS) {\r\n    if (SQUARE_ELS_IDS.hasOwnProperty(i) !== true) continue;\r\n\r\n    SQUARE_ELS_OFFSETS[i] = $('#' + SQUARE_ELS_IDS[i]).offset();\r\n  }\r\n}\r\n\r\nfunction removeSquareHighlights() {\r\n  boardEl.find('.' + styles.square)\r\n    .removeClass(styles.highlight1 + ' ' + styles.highlight2);\r\n}\r\n\r\nfunction snapbackDraggedPiece() {\r\n  // there is no \"snapback\" for spare pieces\r\n  if (DRAGGED_PIECE_SOURCE === 'spare') {\r\n    trashDraggedPiece();\r\n    return;\r\n  }\r\n\r\n  removeSquareHighlights();\r\n\r\n  // animation complete\r\n  function complete() {\r\n    drawPositionInstant();\r\n    draggedPieceEl.css('display', 'none');\r\n\r\n    // run their onSnapbackEnd function\r\n    if (cfg.hasOwnProperty('onSnapbackEnd') === true &&\r\n      typeof cfg.onSnapbackEnd === 'function') {\r\n      cfg.onSnapbackEnd(DRAGGED_PIECE, DRAGGED_PIECE_SOURCE,\r\n        deepCopy(CURRENT_POSITION), CURRENT_ORIENTATION);\r\n    }\r\n  }\r\n\r\n  // get source square position\r\n  var sourceSquarePosition =\r\n    $('#' + SQUARE_ELS_IDS[DRAGGED_PIECE_SOURCE]).offset();\r\n\r\n  // animate the piece to the target square\r\n  var opts = {\r\n    duration: cfg.snapbackSpeed,\r\n    complete: complete\r\n  };\r\n  draggedPieceEl.animate(sourceSquarePosition, opts);\r\n\r\n  // set state\r\n  DRAGGING_A_PIECE = false;\r\n}\r\n\r\nfunction trashDraggedPiece() {\r\n  removeSquareHighlights();\r\n\r\n  // remove the source piece\r\n  var newPosition = deepCopy(CURRENT_POSITION);\r\n  delete newPosition[DRAGGED_PIECE_SOURCE];\r\n  setCurrentPosition(newPosition);\r\n\r\n  // redraw the position\r\n  drawPositionInstant();\r\n\r\n  // hide the dragged piece\r\n  draggedPieceEl.fadeOut(cfg.trashSpeed);\r\n\r\n  // set state\r\n  DRAGGING_A_PIECE = false;\r\n}\r\n\r\nfunction dropDraggedPieceOnSquare(square) {\r\n  removeSquareHighlights();\r\n\r\n  // update position\r\n  var newPosition = deepCopy(CURRENT_POSITION);\r\n  delete newPosition[DRAGGED_PIECE_SOURCE];\r\n  newPosition[square] = DRAGGED_PIECE;\r\n  setCurrentPosition(newPosition);\r\n\r\n  // get target square information\r\n  var targetSquarePosition = $('#' + SQUARE_ELS_IDS[square]).offset();\r\n\r\n  // animation complete\r\n  var complete = function() {\r\n    drawPositionInstant();\r\n    draggedPieceEl.css('display', 'none');\r\n\r\n    // execute their onSnapEnd function\r\n    if (cfg.hasOwnProperty('onSnapEnd') === true &&\r\n      typeof cfg.onSnapEnd === 'function') {\r\n      cfg.onSnapEnd(DRAGGED_PIECE_SOURCE, square, DRAGGED_PIECE);\r\n    }\r\n  };\r\n\r\n  // snap the piece to the target square\r\n  var opts = {\r\n    duration: cfg.snapSpeed,\r\n    complete: complete\r\n  };\r\n  draggedPieceEl.animate(targetSquarePosition, opts);\r\n\r\n  // set state\r\n  DRAGGING_A_PIECE = false;\r\n}\r\n\r\nfunction beginDraggingPiece(source, piece, x, y) {\r\n  // run their custom onDragStart function\r\n  // their custom onDragStart function can cancel drag start\r\n  if (typeof cfg.onDragStart === 'function' &&\r\n      cfg.onDragStart(source, piece,\r\n        deepCopy(CURRENT_POSITION), CURRENT_ORIENTATION) === false) {\r\n    return;\r\n  }\r\n\r\n  // set state\r\n  DRAGGING_A_PIECE = true;\r\n  DRAGGED_PIECE = piece;\r\n  DRAGGED_PIECE_SOURCE = source;\r\n\r\n  // if the piece came from spare pieces, location is offboard\r\n  if (source === 'spare') {\r\n    DRAGGED_PIECE_LOCATION = 'offboard';\r\n  }\r\n  else {\r\n    DRAGGED_PIECE_LOCATION = source;\r\n  }\r\n\r\n  // capture the x, y coords of all squares in memory\r\n  captureSquareOffsets();\r\n\r\n  // create the dragged piece\r\n  draggedPieceEl.attr('src', buildPieceImgSrc(piece))\r\n    .css({\r\n      display: '',\r\n      position: 'absolute',\r\n      left: x - (SQUARE_SIZE / 2),\r\n      top: y - (SQUARE_SIZE / 2)\r\n    });\r\n\r\n  if (source !== 'spare') {\r\n    // highlight the source square and hide the piece\r\n    $('#' + SQUARE_ELS_IDS[source]).addClass(styles.highlight1)\r\n      .find('.' + styles.piece).css('display', 'none');\r\n  }\r\n}\r\n\r\nfunction updateDraggedPiece(x, y) {\r\n  // put the dragged piece over the mouse cursor\r\n  draggedPieceEl.css({\r\n    left: x - (SQUARE_SIZE / 2),\r\n    top: y - (SQUARE_SIZE / 2)\r\n  });\r\n\r\n  // get location\r\n  var location = isXYOnSquare(x, y);\r\n\r\n  // do nothing if the location has not changed\r\n  if (location === DRAGGED_PIECE_LOCATION) return;\r\n\r\n  // remove highlight from previous square\r\n  if (validSquare(DRAGGED_PIECE_LOCATION) === true) {\r\n    $('#' + SQUARE_ELS_IDS[DRAGGED_PIECE_LOCATION])\r\n      .removeClass(styles.highlight2);\r\n  }\r\n\r\n  // add highlight to new square\r\n  if (validSquare(location) === true) {\r\n    $('#' + SQUARE_ELS_IDS[location]).addClass(styles.highlight2);\r\n  }\r\n\r\n  // run onDragMove\r\n  if (typeof cfg.onDragMove === 'function') {\r\n    cfg.onDragMove(location, DRAGGED_PIECE_LOCATION,\r\n      DRAGGED_PIECE_SOURCE, DRAGGED_PIECE,\r\n      deepCopy(CURRENT_POSITION), CURRENT_ORIENTATION);\r\n  }\r\n\r\n  // update state\r\n  DRAGGED_PIECE_LOCATION = location;\r\n}\r\n\r\nfunction stopDraggedPiece(location) {\r\n  // determine what the action should be\r\n  var action = 'drop';\r\n  if (location === 'offboard' && cfg.dropOffBoard === 'snapback') {\r\n    action = 'snapback';\r\n  }\r\n  if (location === 'offboard' && cfg.dropOffBoard === 'trash') {\r\n    action = 'trash';\r\n  }\r\n\r\n  // run their onDrop function, which can potentially change the drop action\r\n  if (cfg.hasOwnProperty('onDrop') === true &&\r\n    typeof cfg.onDrop === 'function') {\r\n    var newPosition = deepCopy(CURRENT_POSITION);\r\n\r\n    // source piece is a spare piece and position is off the board\r\n    //if (DRAGGED_PIECE_SOURCE === 'spare' && location === 'offboard') {...}\r\n    // position has not changed; do nothing\r\n\r\n    // source piece is a spare piece and position is on the board\r\n    if (DRAGGED_PIECE_SOURCE === 'spare' && validSquare(location) === true) {\r\n      // add the piece to the board\r\n      newPosition[location] = DRAGGED_PIECE;\r\n    }\r\n\r\n    // source piece was on the board and position is off the board\r\n    if (validSquare(DRAGGED_PIECE_SOURCE) === true && location === 'offboard') {\r\n      // remove the piece from the board\r\n      delete newPosition[DRAGGED_PIECE_SOURCE];\r\n    }\r\n\r\n    // source piece was on the board and position is on the board\r\n    if (validSquare(DRAGGED_PIECE_SOURCE) === true &&\r\n      validSquare(location) === true) {\r\n      // move the piece\r\n      delete newPosition[DRAGGED_PIECE_SOURCE];\r\n      newPosition[location] = DRAGGED_PIECE;\r\n    }\r\n\r\n    var oldPosition = deepCopy(CURRENT_POSITION);\r\n\r\n    var result = cfg.onDrop(DRAGGED_PIECE_SOURCE, location, DRAGGED_PIECE,\r\n      newPosition, oldPosition, CURRENT_ORIENTATION);\r\n    if (result === 'snapback' || result === 'trash') {\r\n      action = result;\r\n    }\r\n  }\r\n\r\n  // do it!\r\n  if (action === 'snapback') {\r\n    snapbackDraggedPiece();\r\n  }\r\n  else if (action === 'trash') {\r\n    trashDraggedPiece();\r\n  }\r\n  else if (action === 'drop') {\r\n    dropDraggedPieceOnSquare(location);\r\n  }\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Public Methods\r\n//------------------------------------------------------------------------------\r\n\r\n// clear the board\r\nwidget.clear = function(useAnimation) {\r\n  widget.position({}, useAnimation);\r\n};\r\n\r\n/*\r\n// get or set config properties\r\n// TODO: write this, GitHub Issue #1\r\nwidget.config = function(arg1, arg2) {\r\n  // get the current config\r\n  if (arguments.length === 0) {\r\n    return deepCopy(cfg);\r\n  }\r\n};\r\n*/\r\n\r\n// remove the widget from the page\r\nwidget.destroy = function() {\r\n  // remove markup\r\n  containerEl.html('');\r\n  draggedPieceEl.remove();\r\n\r\n  // remove event handlers\r\n  containerEl.unbind();\r\n};\r\n\r\n// shorthand method to get the current FEN\r\nwidget.fen = function() {\r\n  return widget.position('fen');\r\n};\r\n\r\n// flip orientation\r\nwidget.flip = function() {\r\n  widget.orientation('flip');\r\n};\r\n\r\n/*\r\n// TODO: write this, GitHub Issue #5\r\nwidget.highlight = function() {\r\n\r\n};\r\n*/\r\n\r\n// move pieces\r\nwidget.move = function() {\r\n  // no need to throw an error here; just do nothing\r\n  if (arguments.length === 0) return;\r\n\r\n  var useAnimation = true;\r\n\r\n  // collect the moves into an object\r\n  var moves = {};\r\n  for (var i = 0; i < arguments.length; i++) {\r\n    // any \"false\" to this function means no animations\r\n    if (arguments[i] === false) {\r\n      useAnimation = false;\r\n      continue;\r\n    }\r\n\r\n    // skip invalid arguments\r\n    if (validMove(arguments[i]) !== true) {\r\n      error(2826, 'Invalid move passed to the move method.', arguments[i]);\r\n      continue;\r\n    }\r\n\r\n    var tmp = arguments[i].split('-');\r\n    moves[tmp[0]] = tmp[1];\r\n  }\r\n\r\n  // calculate position from moves\r\n  var newPos = calculatePositionFromMoves(CURRENT_POSITION, moves);\r\n\r\n  // update the board\r\n  widget.position(newPos, useAnimation);\r\n\r\n  // return the new position object\r\n  return newPos;\r\n};\r\n\r\nwidget.orientation = function(arg) {\r\n  // no arguments, return the current orientation\r\n  if (arguments.length === 0) {\r\n    return CURRENT_ORIENTATION;\r\n  }\r\n\r\n  // set to white or black\r\n  if (arg === 'white' || arg === 'black') {\r\n    CURRENT_ORIENTATION = arg;\r\n    drawBoard();\r\n    return;\r\n  }\r\n\r\n  // flip orientation\r\n  if (arg === 'flip') {\r\n    CURRENT_ORIENTATION = (CURRENT_ORIENTATION === 'white') ? 'black' : 'white';\r\n    drawBoard();\r\n    return;\r\n  }\r\n\r\n  error(5482, 'Invalid value passed to the orientation method.', arg);\r\n};\r\n\r\nwidget.position = function(position, useAnimation) {\r\n  // no arguments, return the current position\r\n  if (arguments.length === 0) {\r\n    return deepCopy(CURRENT_POSITION);\r\n  }\r\n\r\n  // get position as FEN\r\n  if (typeof position === 'string' && position.toLowerCase() === 'fen') {\r\n    return objToFen(CURRENT_POSITION);\r\n  }\r\n\r\n  // default for useAnimations is true\r\n  if (useAnimation !== false) {\r\n    useAnimation = true;\r\n  }\r\n\r\n  // start position\r\n  if (typeof position === 'string' && position.toLowerCase() === 'start') {\r\n    position = deepCopy(START_POSITION);\r\n  }\r\n\r\n  // convert FEN to position object\r\n  if (validFen(position) === true) {\r\n    position = fenToObj(position);\r\n  }\r\n\r\n  // validate position object\r\n  if (validPositionObject(position) !== true) {\r\n    error(6482, 'Invalid value passed to the position method.', position);\r\n    return;\r\n  }\r\n\r\n  if (useAnimation === true) {\r\n    // start the animations\r\n    doAnimations(calculateAnimations(CURRENT_POSITION, position),\r\n      CURRENT_POSITION, position);\r\n\r\n    // set the new position\r\n    setCurrentPosition(position);\r\n  }\r\n  // instant update\r\n  else {\r\n    setCurrentPosition(position);\r\n    drawPositionInstant();\r\n  }\r\n};\r\n\r\nwidget.resize = function() {\r\n  // calulate the new square size\r\n  SQUARE_SIZE = calculateSquareSize();\r\n\r\n  // set board width\r\n  boardEl.css('width', (SQUARE_SIZE * 8) + 'px');\r\n\r\n  // set drag piece size\r\n  draggedPieceEl.css({\r\n    height: SQUARE_SIZE,\r\n    width: SQUARE_SIZE\r\n  });\r\n\r\n  // spare pieces\r\n  if (cfg.sparePieces === true) {\r\n    containerEl.find('.' + styles.sparePieces)\r\n      .css('paddingLeft', (SQUARE_SIZE + BOARD_BORDER_SIZE) + 'px');\r\n  }\r\n\r\n  // redraw the board\r\n  drawBoard();\r\n};\r\n\r\n// set the starting position\r\nwidget.start = function(useAnimation) {\r\n  widget.position('start', useAnimation);\r\n};\r\n\r\n//------------------------------------------------------------------------------\r\n// Browser Events\r\n//------------------------------------------------------------------------------\r\n\r\nfunction isTouchDevice() {\r\n  return ('ontouchstart' in document.documentElement);\r\n}\r\n\r\n// reference: http://www.quirksmode.org/js/detect.html\r\nfunction isMSIE() {\r\n  return (navigator && navigator.userAgent &&\r\n      navigator.userAgent.search(/MSIE/) !== -1);\r\n}\r\n\r\nfunction stopDefault(e) {\r\n  e.preventDefault();\r\n}\r\n\r\nfunction mousedownSquare(e) {\r\n  // do nothing if we're not draggable\r\n  if (cfg.draggable !== true) return;\r\n\r\n  var square = $(this).attr('data-square');\r\n\r\n  // no piece on this square\r\n  if (validSquare(square) !== true ||\r\n      CURRENT_POSITION.hasOwnProperty(square) !== true) {\r\n    return;\r\n  }\r\n\r\n  beginDraggingPiece(square, CURRENT_POSITION[square], e.pageX, e.pageY);\r\n}\r\n\r\nfunction touchstartSquare(e) {\r\n  // do nothing if we're not draggable\r\n  if (cfg.draggable !== true) return;\r\n\r\n  var square = $(this).attr('data-square');\r\n\r\n  // no piece on this square\r\n  if (validSquare(square) !== true ||\r\n      CURRENT_POSITION.hasOwnProperty(square) !== true) {\r\n    return;\r\n  }\r\n\r\n  e = e.originalEvent;\r\n  beginDraggingPiece(square, CURRENT_POSITION[square],\r\n    e.changedTouches[0].pageX, e.changedTouches[0].pageY);\r\n}\r\n\r\nfunction mousedownSparePiece(e) {\r\n  // do nothing if sparePieces is not enabled\r\n  if (cfg.sparePieces !== true) return;\r\n\r\n  var piece = $(this).attr('data-piece');\r\n\r\n  beginDraggingPiece('spare', piece, e.pageX, e.pageY);\r\n}\r\n\r\nfunction touchstartSparePiece(e) {\r\n  // do nothing if sparePieces is not enabled\r\n  if (cfg.sparePieces !== true) return;\r\n\r\n  var piece = $(this).attr('data-piece');\r\n\r\n  e = e.originalEvent;\r\n  beginDraggingPiece('spare', piece,\r\n    e.changedTouches[0].pageX, e.changedTouches[0].pageY);\r\n}\r\n\r\nfunction mousemoveWindow(e) {\r\n  // do nothing if we are not dragging a piece\r\n  if (DRAGGING_A_PIECE !== true) return;\r\n\r\n  updateDraggedPiece(e.pageX, e.pageY);\r\n}\r\n\r\nfunction touchmoveWindow(e) {\r\n  // do nothing if we are not dragging a piece\r\n  if (DRAGGING_A_PIECE !== true) return;\r\n\r\n  // prevent screen from scrolling\r\n  e.preventDefault();\r\n\r\n  updateDraggedPiece(e.originalEvent.changedTouches[0].pageX,\r\n    e.originalEvent.changedTouches[0].pageY);\r\n}\r\n\r\nfunction mouseupWindow(e) {\r\n  // do nothing if we are not dragging a piece\r\n  if (DRAGGING_A_PIECE !== true) return;\r\n\r\n  // get the location\r\n  var location = isXYOnSquare(e.pageX, e.pageY);\r\n\r\n  stopDraggedPiece(location);\r\n}\r\n\r\nfunction touchendWindow(e) {\r\n  // do nothing if we are not dragging a piece\r\n  if (DRAGGING_A_PIECE !== true) return;\r\n\r\n  // get the location\r\n  var location = isXYOnSquare(e.originalEvent.changedTouches[0].pageX,\r\n    e.originalEvent.changedTouches[0].pageY);\r\n\r\n  stopDraggedPiece(location);\r\n}\r\n\r\nfunction mouseenterSquare(e) {\r\n  // do not fire this event if we are dragging a piece\r\n  // NOTE: this should never happen, but it's a safeguard\r\n  if (DRAGGING_A_PIECE !== false) return;\r\n\r\n  if (cfg.hasOwnProperty('onMouseoverSquare') !== true ||\r\n    typeof cfg.onMouseoverSquare !== 'function') return;\r\n\r\n  // get the square\r\n  var square = $(e.currentTarget).attr('data-square');\r\n\r\n  // NOTE: this should never happen; defensive\r\n  if (validSquare(square) !== true) return;\r\n\r\n  // get the piece on this square\r\n  var piece = false;\r\n  if (CURRENT_POSITION.hasOwnProperty(square) === true) {\r\n    piece = CURRENT_POSITION[square];\r\n  }\r\n\r\n  // execute their function\r\n  cfg.onMouseoverSquare(square, piece, deepCopy(CURRENT_POSITION),\r\n    CURRENT_ORIENTATION);\r\n}\r\n\r\nfunction mouseleaveSquare(e) {\r\n  // do not fire this event if we are dragging a piece\r\n  // NOTE: this should never happen, but it's a safeguard\r\n  if (DRAGGING_A_PIECE !== false) return;\r\n\r\n  if (cfg.hasOwnProperty('onMouseoutSquare') !== true ||\r\n    typeof cfg.onMouseoutSquare !== 'function') return;\r\n\r\n  // get the square\r\n  var square = $(e.currentTarget).attr('data-square');\r\n\r\n  // NOTE: this should never happen; defensive\r\n  if (validSquare(square) !== true) return;\r\n\r\n  // get the piece on this square\r\n  var piece = false;\r\n  if (CURRENT_POSITION.hasOwnProperty(square) === true) {\r\n    piece = CURRENT_POSITION[square];\r\n  }\r\n\r\n  // execute their function\r\n  cfg.onMouseoutSquare(square, piece, deepCopy(CURRENT_POSITION),\r\n    CURRENT_ORIENTATION);\r\n}\r\n\r\n//------------------------------------------------------------------------------\r\n// Initialization\r\n//------------------------------------------------------------------------------\r\n\r\nfunction addEvents() {\r\n  // prevent browser \"image drag\"\r\n  $('body').on('mousedown mousemove', '.' + styles.piece, stopDefault);\r\n\r\n  // mouse drag pieces\r\n  boardEl.on('mousedown', '.' + styles.square, mousedownSquare);\r\n  containerEl.on('mousedown', '.' + styles.sparePieces + ' .' + styles.piece,\r\n    mousedownSparePiece);\r\n\r\n  // mouse enter / leave square\r\n  boardEl.on('mouseenter', '.' + styles.square, mouseenterSquare);\r\n  boardEl.on('mouseleave', '.' + styles.square, mouseleaveSquare);\r\n\r\n  // IE doesn't like the events on the window object, but other browsers\r\n  // perform better that way\r\n  if (isMSIE() === true) {\r\n    // IE-specific prevent browser \"image drag\"\r\n    document.ondragstart = function() { return false; };\r\n\r\n    $('body').on('mousemove', mousemoveWindow);\r\n    $('body').on('mouseup', mouseupWindow);\r\n  }\r\n  else {\r\n    $(window).on('mousemove', mousemoveWindow);\r\n    $(window).on('mouseup', mouseupWindow);\r\n  }\r\n\r\n  // touch drag pieces\r\n  if (isTouchDevice() === true) {\r\n    boardEl.on('touchstart', '.' + styles.square, touchstartSquare);\r\n    containerEl.on('touchstart', '.' + styles.sparePieces + ' .' + styles.piece,\r\n      touchstartSparePiece);\r\n    $(window).on('touchmove', touchmoveWindow);\r\n    $(window).on('touchend', touchendWindow);\r\n  }\r\n}\r\n\r\nfunction initDom() {\r\n  // build board and save it in memory\r\n  containerEl.html(buildBoardContainer());\r\n  boardEl = containerEl.find('.' + styles.board);\r\n\r\n  if (cfg.sparePieces === true) {\r\n    sparePiecesTopEl = containerEl.find('.' + styles.sparePiecesTop);\r\n    sparePiecesBottomEl = containerEl.find('.' + styles.sparePiecesBottom);\r\n  }\r\n\r\n  // create the drag piece\r\n  var draggedPieceId = createId();\r\n  $('body').append(buildPiece('wP', true, draggedPieceId));\r\n  draggedPieceEl = $('#' + draggedPieceId);\r\n\r\n  // get the border size\r\n  BOARD_BORDER_SIZE = parseInt(boardEl.css('borderLeftWidth'), 10);\r\n\r\n  // set the size and draw the board\r\n  widget.resize();\r\n}\r\n\r\nfunction init() {\r\n  if (checkDeps() !== true ||\r\n      expandConfig() !== true) return;\r\n\r\n  // create unique IDs for all the elements we will create\r\n  createElIds();\r\n\r\n  initDom();\r\n  addEvents();\r\n}\r\n\r\n// go time\r\ninit();\r\n\r\n// return the widget object\r\nreturn widget;\r\n\r\n};\r\n\r\n// expose util functions\r\nChessBoard.fenToObj = fenToObj;\r\nChessBoard.objToFen = objToFen;\r\n\r\nexport default ChessBoard;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Chessboard/chessboardjs/chessboard.js","import React from 'react'\r\nimport Slider from 'react-slick'\r\nimport styles from './styles.css'\r\n\r\nconst avatars = [\r\n  'pawn',\r\n  'knight',\r\n  'bishop',\r\n  'rook',\r\n  'queen',\r\n  'king',\r\n  'advanced1',\r\n  'advanced2',\r\n  'advanced3'\r\n]\r\n\r\nclass AvatarCarousel extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.settings = {\r\n      arrows: false,\r\n      fade: true,\r\n      draggable: false,\r\n      swipeToSlide: false,\r\n      swipe: false,\r\n      autoplay: props.autoplay !== undefined ? props.autoplay : true,\r\n      autoplaySpeed: 5000,\r\n      speed: 1400,\r\n      pauseOnHover: false,\r\n      initialSlide: props.index || 0\r\n    }\r\n  }\r\n  handleLevelChange = index => {\r\n    this.refs.slider.slickGoTo(index)\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.avatarCarousel}>\r\n        <Slider ref=\"slider\" {...this.settings}>\r\n          {\r\n            avatars.map(avatar => {\r\n              return (\r\n                <div key={avatar} className=\"slide\">\r\n                  <img src={`/assets/school/${avatar}-roll.png`}/>\r\n                </div>\r\n              )\r\n            })\r\n          }\r\n        </Slider>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default AvatarCarousel\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/AvatarCarousel/index.js","import React from 'react'\r\nimport Separator from 'common/components/Separator'\r\nimport styles from './styles.css'\r\n\r\nexport default props => {\r\n  return (\r\n    <footer className={`${styles.footer} flex justify-center`}>\r\n      <div> Chess With Mr. S Inc.</div>\r\n      <Separator />\r\n      <div>All trademarks are property of Chess With Mr. S Inc.</div>\r\n    </footer>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Footer/index.js","import React from 'react'\r\n\r\nexport const FormattedDate = props => {\r\n  return (\r\n    <span>{props.date.toLocaleString('en-US', props.options)}</span>\r\n  )\r\n}\r\n\r\nconst calendarDateOptions = {\r\n  month: 'long',\r\n  day: 'numeric',\r\n  year: 'numeric',\r\n  timeZone: 'America/New_York'\r\n}\r\nexport const CalendarDate = props => {\r\n  return (\r\n    <FormattedDate date={props.date} options={calendarDateOptions} />\r\n  )\r\n}\r\n\r\nexport const ShortCalendarDate = props => {\r\n  const options = {\r\n    ...calendarDateOptions,\r\n    month: 'short'\r\n  }\r\n  return(\r\n    <FormattedDate date={props.date} options={options} />\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/FormattedDate.js","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Dialog from 'material-ui/Dialog'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\n\r\nclass GoBack extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      open: props.open\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this.setState({\r\n      ...nextProps\r\n    })\r\n  }\r\n  handleOpen = () => {\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  handleClose = () => {\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <span>\r\n        <Dialog\r\n          title=\"Please confirm\"\r\n          actions={this.props.actions}\r\n          modal={false}\r\n          open={this.state.open}\r\n          onRequestClose={this.handleClose}>\r\n          Unsaved changes will be lost.  Are you sure you want to continue ?\r\n        </Dialog>\r\n        <RaisedButton\r\n          style={{marginRight: '20px'}}\r\n          onClick={this.handleOpen}\r\n          label=\"Back\"\r\n          secondary={true} />\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\nexport default GoBack\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/GoBack.js","import React from 'react'\r\nimport {\r\n  withScriptjs,\r\n  withGoogleMap,\r\n  GoogleMap,\r\n  Marker\r\n} from 'react-google-maps'\r\n\r\nconst apiKey = `AIzaSyB9fW7cIm3FfJzJ8ozLGc1gp0xnDtICNi8`\r\nconst googleMapURL = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&v=3.exp&libraries=geometry,drawing,places`\r\n\r\nconst LocationMap = props => {\r\n  return (\r\n    <GoogleMap\r\n      defaultZoom={props.defaultZoom}\r\n      defaultCenter={{ lat: props.lat, lng: props.lng }}\r\n    >\r\n      {props.isMarkerShown &&\r\n        <Marker position={{ lat: props.lat, lng: props.lng }} />\r\n      }\r\n    </GoogleMap>\r\n  )\r\n}\r\n\r\nexport default withScriptjs(withGoogleMap(LocationMap))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Location/LocationMap.js","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport btnStyles from 'common/themes/button.css'\r\n\r\nexport default props => {\r\n  const inputStyle = {\r\n      WebkitBoxShadow: '0 0 0 1000px white inset',\r\n      ...props.inputStyle\r\n  }\r\n  const hintStyle = {zIndex: '1', pointerEvents: 'none'}\r\n  return (\r\n    <div>\r\n      <form className={props.className || ''}\r\n        onSubmit={props.handleSubmit}>\r\n        {\r\n          props.error &&\r\n          <p style={{color: '#f44336'}}>\r\n            {props.error}\r\n          </p>\r\n        }\r\n        <div>\r\n          <TextField hintText=\"Enter your username\"\r\n            type=\"text\"\r\n            value={props.username}\r\n            inputStyle={inputStyle}\r\n            hintStyle={hintStyle}\r\n            fullWidth={true}\r\n            onChange={props.handleUserNameChange} />\r\n        </div>\r\n        <div>\r\n          <TextField hintText=\"Enter your password\"\r\n            type=\"password\"\r\n            floatingLabelText=\"Password\"\r\n            value={props.password}\r\n            inputStyle={inputStyle}\r\n            hintStyle={hintStyle}\r\n            fullWidth={true}\r\n            onChange={props.handlePasswordChange} />\r\n        </div>\r\n        <div style={{marginTop: '20px'}}>\r\n          <RaisedButton type=\"submit\"\r\n            label=\"Submit\" primary={true}\r\n            fullWidth={true}/>\r\n        </div>\r\n        {\r\n          props.hasForgotPassword &&\r\n          <div>\r\n            <Link className={btnStyles.linkBtn}\r\n              to=\"/forgot-password\">\r\n              Forgot Password\r\n            </Link>\r\n          </div>\r\n        }\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Login/index.js","import React from 'react';\r\nimport {Route, withRouter} from 'react-router-dom';\r\n\r\nclass ScrollToTopRoute extends React.Component {\r\n  componentDidMount () {\r\n    window.scrollTo(0, 0)\r\n  }\r\n  componentDidUpdate () {\r\n    window.scrollTo(0, 0)\r\n  }\r\n  render () {\r\n    const {component: Component, componentProps, ...rest} = this.props\r\n    return (\r\n      <Route {...rest} render={\r\n        props => <Component {...props} {...componentProps} />\r\n      } />\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ScrollToTopRoute)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/ScrollToTopRoute.js","\r\nconst seasonalIndex = [0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 3]\r\n\r\nexport const getCurrentSeason = () => {\r\n  const date = new Date()\r\n  return {\r\n    season: seasonalIndex[date.getMonth()],\r\n    year: date.getYear()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/season.js","import React from 'react'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n  TableRow,\r\n  TableRowColumn,\r\n  TableFooter\r\n} from 'material-ui/Table'\r\nimport TimeOfDay from 'common/components/TimeOfDay'\r\n\r\nconst months = [\r\n  'Jan',\r\n  'Feb',\r\n  'Mar',\r\n  'Apr',\r\n  'May',\r\n  'Jun',\r\n  'Jul',\r\n  'Aug',\r\n  'Sep',\r\n  'Oct',\r\n  'Nov',\r\n  'Dec'\r\n]\r\n\r\nconst getClassDate = chessClass => {\r\n  const startDT = new Date(chessClass.startTime)\r\n  return months[startDT.getMonth()] + ' ' + startDT.getDate()\r\n}\r\n\r\nconst ClassTime = props => {\r\n  const startDT = new Date(props.startTime)\r\n  const endDT = new Date(props.endTime)\r\n  return (\r\n    <div>\r\n      <TimeOfDay date={startDT} />-<TimeOfDay date={endDT} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default props => {\r\n  const handleRowSelection = selectedRows => {\r\n    if (props.handleRowSelect) {\r\n      props.handleRowSelect(selectedRows);\r\n    }\r\n  }\r\n  return (\r\n    <Table multiSelectable={false} onRowSelection={handleRowSelection}>\r\n       <TableHeader displaySelectAll={false}>\r\n         <TableRow>\r\n           <TableHeaderColumn>School</TableHeaderColumn>\r\n           <TableHeaderColumn>Time</TableHeaderColumn>\r\n           <TableHeaderColumn>Start Date</TableHeaderColumn>\r\n         </TableRow>\r\n       </TableHeader>\r\n       <TableBody deselectOnClickaway={false}\r\n        displayRowCheckbox={true}>\r\n        {\r\n          props.courses.map((course, idx) => {\r\n            return (\r\n              <TableRow key={idx} selected={props.readonly !== true && props.selectedRows.includes(idx)}>\r\n                <TableRowColumn>\r\n                  <div>\r\n                    {course.school.name}\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div>\r\n                    <ClassTime {...course.classes[0]} />\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div>\r\n                    {\r\n                      <div>\r\n                        {getClassDate(course.classes[0])}\r\n                      </div>\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            )\r\n          })\r\n        }\r\n       </TableBody>\r\n     </Table>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/CourseForSchool/index.js","const legalWranglings = `Please Note: You will have a chance to review your purchase\r\nprior to payment.`\r\nexport default {\r\n  key: '',\r\n  legalWranglings\r\n}\r\n\r\nexport const refundPolicy = [\r\n  '100% camp fee (less 25 admin fee) on cancellations received over 30 days before Camp start date.',\r\n  '75% camp fee (less $25 admin fee) on cancellations received over 15 days before Camp start date.',\r\n  '50%  camp fee (less $25 admin fee) on cancellations received over 7 days before Camp start date.',\r\n  'No refunds on cancellations received less than 2 business days before Camp start date.'\r\n]\r\n\r\nexport const additionalInfo = [\r\n  'Extended care is an additional $5/hr. Early drop off is available from 7:30am - 9am.',\r\n  'Late pick up is available from 4pm - 6pm.',\r\n  `Lunch: Due to numerous dietary and allergy concerns we ask that you provide\r\n   peanut free / nut free lunch and snacks for your children. CWMS will also provide its own\r\n   peanut free / nut free snacks during morning snack/break time and afternoon snack/break time.`,\r\n   `Pizza Lunch: CWMS offers an option for pepperoni or cheese pizza. This can be\r\n    requested in advance or on the day of camp. We try and provide a flexible\r\n    and convenient option to our wonderful parents and students.`\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/data.js","import axios from 'axios'\r\n\r\nexport const retrieveCustomer = customerId => {\r\n  return axios.post('/api/retrieve-customer', {customerId})\r\n}\r\n\r\nexport const createCustomer = token => {\r\n  return axios.post('/api/create-customer', {token})\r\n}\r\n\r\nexport const chargeCustomer = (customer, charge, description) => {\r\n  return axios.post('/api/charge-customer', {\r\n    customerId: customer.id,\r\n    charge,\r\n    description\r\n  })\r\n}\r\n\r\nexport const extractCardInfo = (customer, cardIdx) => {\r\n  const card = customer.sources.data[cardIdx || 0]\r\n  const {\r\n    brand,\r\n    exp_month: expiryMonth,\r\n    exp_year: expiryYear,\r\n    last4\r\n  } = card\r\n\r\n  return {\r\n    brand,\r\n    expiryMonth,\r\n    expiryYear,\r\n    last4\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/util/stripe.js","import axios from 'axios'\r\nimport {\r\n  SET_ACTIVITIES\r\n} from './types'\r\n\r\nconst levels = [\r\n  'pawn',\r\n  'knight',\r\n  'bishop',\r\n  'rook',\r\n  'queen',\r\n  'king',\r\n  'advanced1',\r\n  'advanced2',\r\n  'advanced3'\r\n]\r\n\r\nexport const loadActivities = level => dispatch => {\r\n  if (!level || !(levels.indexOf(level) > -1)) {\r\n    return Promise.reject(new Error('missing level'))\r\n  }\r\n  return axios.get(`/api/school/activities/${level}`)\r\n    .then(response => {\r\n      const payload = {}\r\n      payload[level] = response.data\r\n      dispatch({\r\n        type: SET_ACTIVITIES,\r\n        payload\r\n      })\r\n    })\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/actions/activities.js","export const SET_ACTIVITIES = 'SET_ACTIVITIES'\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/actions/types.js","export const assetUrl = '/assets/school'\r\nexport const activityAssetUrl = `${assetUrl}/activities`\r\n\r\nexport const navLinks = [{\r\n  type: 'pawn',\r\n  url: '/pawn'\r\n}, {\r\n  type: 'knight',\r\n  url: '/knight'\r\n}, {\r\n  type: 'bishop',\r\n  url: '/bishop'\r\n}, {\r\n  type: 'rook',\r\n  url: '/rook'\r\n}, {\r\n  type: 'queen',\r\n  url: '/queen'\r\n}, {\r\n  type: 'king',\r\n  url: '/king'\r\n}, {\r\n  type: 'advanced1',\r\n  url: '/advanced1'\r\n}, {\r\n  type: 'advanced2',\r\n  url: '/advanced2'\r\n}, {\r\n  type: 'advanced3',\r\n  url: '/advanced3'\r\n}]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/constants/index.js","export const getWeeks = activities => {\r\n  return activities && activities.reduce((weeks, activity) => {\r\n    let week = weeks.find(w => w.index === activity.weekNumber - 1)\r\n    let activityWithId = {\r\n      ...activity,\r\n      id: `${activity.courseName}-${activity.weekNumber}-${activity.index}`\r\n    }\r\n    if (week) {\r\n      week.activities.push(activityWithId)\r\n    } else {\r\n      week = {\r\n        index: activity.weekNumber - 1,\r\n        name: `week-${activity.weekNumber}`,\r\n        activities: [activityWithId]\r\n      }\r\n      weeks = weeks.concat([week])\r\n    }\r\n    return weeks\r\n  }, [])\r\n}\r\n\r\nconst puzzleTypeToImgKey = {\r\n  boss: 'boss',\r\n  maze: 'maze',\r\n  memory: 'memory',\r\n  puzzle: 'puzzle',\r\n  solitaire: 'solitaire',\r\n  scenario: 'scenario',\r\n  video: 'video',\r\n  highlight: 'puzzle'\r\n}\r\nexport const getPuzzleImgKey = type => {\r\n  return puzzleTypeToImgKey[type] || ''\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/util/index.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"clearfix\":\"_2ntd56G3scltJW4OL-KOn6\",\"board\":\"RqSF7VqpadxPkjK73egHI\",\"square\":\"_3lvM-RCn-JFW5qK5wOl8O9\",\"white\":\"_2bmw5IwzPOSNMEYT51Vfsk\",\"black\":\"O4juaX9PxiTn-t2vQzsp9\",\"highlight\":\"_3Jy7xw1QSpaRSHItPm4sR-\",\"highlight1\":\"mst8BvNrSYsyQ7bxa9YZn\",\"highlight2\":\"_3peJMyY4GDy_8b7pv4Jjg8\",\"notation\":\"_1EDwm3poJhawEz_nrN04sP\",\"alpha\":\"_1Pdh9QYt0fd0Ui0IjnDK_D\",\"numeric\":\"_22JRWbun6FWCey5iVJtOpk\",\"row\":\"_3oix-O5jnQTATe7Q6B4MGe\",\"piece\":\"_2SWx1DsthRcf90KOueWb_o\",\"spare-pieces\":\"_1hXGVLMEMuDLHKQUxsx95y\",\"spare-pieces-bottom\":\"_2UVGrELgRAtEjfGfHseDt_\",\"spare-pieces-top\":\"_19yyAjh1L4hzATmuuv_lZu\",\"chessboard\":\"_2v5JPUMy0FsEA-XUt6A-kd\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/components/Chessboard/chessboardjs/chessboard-0.3.0.css\n// module id = 275\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"navbar\":\"_2iQxninUI5X7mZwbj3k-Se\",\"navLogo\":\"_19f_j4MhFCdBmU1I3iLFLE\",\"smallLogo\":\"_2GWJ7U55PWxUZcPLawoKig\",\"navLink\":\"_3dL_LL4NnYt8-5I8UdlvRR\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/Navbar/styles.css\n// module id = 276\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"requestError\":\"_2yQvrFM7He2nwU21vTpBZc\",\"requestSuccess\":\"_2w1h_fWnN68CxYkR-AB745\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/themes/validation.css\n// module id = 277\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"iconNavbar\":\"_1h3zgIDOiGYoeGN_dYv449\",\"navLink\":\"_3jUy81-dSXmhaHLg0ZSGzS\",\"active\":\"_1js4O5ByBJ40gyyor3MsiG\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/IconNavbar/styles.css\n// module id = 278\n// module chunks = 0","import React from 'react'\r\nimport {connect, Provider} from 'react-redux'\r\nimport {Route, BrowserRouter as Router} from 'react-router-dom'\r\nimport Admin from 'admin'\r\nimport Lander from 'lander'\r\nimport School from 'school/School'\r\n\r\nconst getComponent = sessionType => {\r\n  switch (sessionType) {\r\n    case 'admin':\r\n      return <Admin />\r\n    case 'student':\r\n      return <School/>\r\n  }\r\n  return <Lander />\r\n}\r\n\r\nconst App = props => {\r\n  if (props.checkingSession) {\r\n    return <div></div>\r\n  }\r\n\r\n  return (\r\n    <Provider store={props.store}>\r\n      <Router>\r\n        {\r\n          getComponent(props.sessionType)\r\n        }\r\n      </Router>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({session}) => ({...session})\r\n\r\nexport default connect(mapStateToProps, {})(App)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.js","import {createStore, applyMiddleware} from 'redux'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport rootReducer from './rootReducer'\r\n\r\nexport default createStore(rootReducer, applyMiddleware(ReduxThunk))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"slick-container\":\"QiluGpsWegJinB40CDQ4b\",\"slick-next\":\"MVADO8dYwRcH9LjyEd2Ed\",\"slick-prev\":\"YjdsFcpZwPaDcccndotH9\",\"slide\":\"_1Iezr0YeTm_M4-DO1IEzZ5\",\"StripeElement\":\"_1wJfoOf1iWZoZHx6ZptGo9\",\"StripeElement--focus\":\"_1BFEtwGUo0aqkDm5_0nZyv\",\"StripeElement--invalid\":\"_2VtgkjG3fTjuTAmlhwKceR\",\"StripeElement--webkit-autofill\":\"_2GUihZMb-MGDO2FBv3bkYz\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app.css\n// module id = 517\n// module chunks = 0","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {loadCourse, updateCourse} from 'lander/actions/courses'\r\nimport Modal from 'react-modal'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport TextField from 'material-ui/TextField'\r\nimport TimePicker from 'material-ui/TimePicker';\r\nimport Checkbox from 'material-ui/Checkbox';\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport pattern from 'common/util/pattern'\r\nimport styles from './styles.css'\r\n\r\nconst modalStyles = {\r\n  content: {\r\n    top: '40px',\r\n    width: '800px',\r\n    margin: 'auto',\r\n    fontFamily: 'Nunito, sans-serif',\r\n    overflowX: 'hidden',\r\n    zIndex: 4,\r\n    fontSize: '16px'\r\n  },\r\n  overlay: {\r\n    zIndex: 9,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.3)'\r\n  }\r\n}\r\n\r\nconst hideAutoFillColorStyle = {\r\n    WebkitBoxShadow: '0 0 0 1000px white inset'\r\n}\r\nconst hintStyle = {zIndex: '1', pointerEvents: 'none'}\r\nconst menuProps = {\r\n  desktop: true,\r\n  disableAutoFocus: true,\r\n}\r\nconst searchFilter = (searchText, key) => {\r\n  return searchText !== '' &&\r\n    key.toLowerCase().indexOf(searchText.toLowerCase()) === 0\r\n}\r\n\r\nconst parseDates = dates => (\r\n  dates.map(date => new Date(date))\r\n)\r\n\r\nconst testDate = str => /[a-z,A-Z]{3}\\s\\d{1,2}\\s\\d{4}/.test(str)\r\n\r\nclass CourseModal extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      teacherId: '',\r\n      searchTeacherText: '',\r\n      locationId: '',\r\n      searchSchoolText: '',\r\n      startTime: null,\r\n      endTime: null,\r\n      dates: '',\r\n      parsedDates: null,\r\n      price: '',\r\n      priceError: '',\r\n      teacherError: '',\r\n      schoolError: '',\r\n      startTimeError: null,\r\n      endTimeError: '',\r\n      datesError: '',\r\n      description: '',\r\n      afterSchool: false,\r\n      soldOut: false\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps (nextProps) {\r\n    if (nextProps.selected) {\r\n      const {fullDates: dates, startTime, endTime, teacher, school,\r\n        teacherId, locationId, price, afterSchool, soldOut,\r\n        description} = nextProps.selected\r\n      this.setState({\r\n        teacherId,\r\n        locationId,\r\n        price,\r\n        searchTeacherText: teacher,\r\n        searchSchoolText: school,\r\n        startTime,\r\n        endTime,\r\n        dates,\r\n        parsedDates: parseDates(dates.split(' , ')),\r\n        success: '',\r\n        error: '',\r\n        afterSchool: !!afterSchool,\r\n        soldOut: !!soldOut,\r\n        description\r\n      })\r\n    }\r\n  }\r\n\r\n  getClasses = (parsedDates) => {\r\n    return parsedDates.map(parsedDate => {\r\n      const startHours = this.state.startTime.getHours()\r\n      const startMinutes = this.state.startTime.getMinutes()\r\n      const endHours = this.state.endTime.getHours()\r\n      const endMinutes = this.state.endTime.getMinutes()\r\n      let startTime = new Date(parsedDate)\r\n      let endTime = new Date(parsedDate)\r\n      startTime.setHours(startHours)\r\n      startTime.setMinutes(startMinutes)\r\n      endTime.setHours(endHours)\r\n      endTime.setMinutes(endMinutes)\r\n      return {\r\n        startTime: startTime.toISOString(),\r\n        endTime: endTime.toISOString()\r\n      }\r\n    })\r\n  }\r\n\r\n  editCourse = id => {\r\n    const {\r\n      price,\r\n      locationId,\r\n      teacherId,\r\n      parsedDates,\r\n      soldOut,\r\n      afterSchool,\r\n      description\r\n    } = this.state\r\n\r\n    return axios.put(`/api/courses/${id}`, {\r\n      price, locationId, teacherId, classes: this.getClasses(parsedDates),\r\n      soldOut: !!soldOut, afterSchool: !!afterSchool,\r\n      description\r\n    }).then(response => {\r\n      this.props.updateCourse(response.data)\r\n      this.setState({\r\n        success: 'Course has been successfully updated',\r\n        error: ''\r\n      })\r\n    }).catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: Course could not be updated'\r\n      })\r\n    })\r\n  }\r\n\r\n  addCourse = () => {\r\n    const {\r\n      price,\r\n      locationId,\r\n      teacherId,\r\n      parsedDates,\r\n      soldOut,\r\n      afterSchool,\r\n      description\r\n    } = this.state\r\n\r\n    return axios.post('/api/courses', {\r\n      price, locationId, teacherId, classes: this.getClasses(parsedDates),\r\n      soldOut, afterSchool, description\r\n    })\r\n    .then(response => {\r\n      this.props.loadCourse(response.data)\r\n      this.setState({\r\n        success: 'Course has been successfully added',\r\n        error: ''\r\n      })\r\n    })\r\n    .catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: Course could not be added'\r\n      })\r\n    })\r\n    .then(this.clearForm)\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    const isValid = this.validateForm()\r\n    if (!isValid) {\r\n      return\r\n    }\r\n    if (this.props.selected) {\r\n      this.editCourse(this.props.selected._id)\r\n    } else {\r\n      this.addCourse()\r\n    }\r\n  }\r\n\r\n  clearForm = () => {\r\n    this.setState({\r\n      teacherId: '',\r\n      searchTeacherText: '',\r\n      locationId: '',\r\n      searchSchoolText: '',\r\n      startTime: null,\r\n      endTime: null,\r\n      dates: '',\r\n      parsedDates: null,\r\n      price: '',\r\n      priceError: '',\r\n      teacherError: '',\r\n      schoolError: '',\r\n      startTimeError: null,\r\n      endTimeError: '',\r\n      datesError: '',\r\n      afterSchool: false,\r\n      soldOut: false,\r\n      description: ''\r\n    })\r\n  }\r\n\r\n  handleAfterOpen = () => {\r\n    this.setState({\r\n      success: '',\r\n      error: ''\r\n    })\r\n    if (!this.props.selected) {\r\n      this.clearForm()\r\n    }\r\n  }\r\n\r\n  validateForm () {\r\n    const errorMessage = 'This field is required'\r\n    const teacherError = this.state.teacherId ? '' : errorMessage\r\n    const schoolError = this.state.locationId ? '' : errorMessage\r\n    const startTimeError = this.state.startTime ? '' : errorMessage\r\n    const endTimeError = this.state.endTime  ? '' : errorMessage\r\n    const priceError = this.state.price ? '' : errorMessage\r\n    const datesError = this.state.parsedDates ? '' : errorMessage\r\n\r\n    const isValid = [\r\n      teacherError, schoolError, startTimeError,\r\n      endTimeError, priceError, datesError\r\n    ].some(err => err) === false\r\n\r\n    if (!isValid) {\r\n      this.setState({\r\n        teacherError, schoolError, startTimeError,\r\n        endTimeError, priceError, datesError\r\n      })\r\n    }\r\n    return isValid\r\n  }\r\n\r\n  isFormValid = () => {\r\n    return [\r\n      this.state.teacherError,\r\n      this.state.schoolError,\r\n      this.state.startTimeError,\r\n      this.state.endTimeError,\r\n      this.state.priceError,\r\n      this.state.datesError\r\n    ].some(field => field) === false\r\n  }\r\n\r\n  handleSchoolBlur = event => {\r\n    const school = this.props.schools\r\n      .find(school => school.name === this.state.searchSchoolText)\r\n\r\n    if (!school) {\r\n      this.setState({\r\n        locationId: '',\r\n        searchSchoolText: '',\r\n        schoolError: 'This field is required'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleTeacherBlur = event => {\r\n    const teacher = this.props.teachers\r\n      .find(teacher => `${teacher.firstName} ${teacher.lastName}` === this.state.searchTeacherText)\r\n\r\n    if (!teacher) {\r\n      this.setState({\r\n        teacherId: '',\r\n        searchTeacherText: '',\r\n        teacherError: 'This field is required'\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGenericChange = (key, value) => {\r\n    this.setState({\r\n      [key]: value\r\n    })\r\n  }\r\n\r\n  handleSchoolNameChange = schoolName => {\r\n    const school = this.props.schools\r\n      .find(school => school.name === schoolName)\r\n\r\n    if (!school) {\r\n      this.setState({locationId: '', searchSchoolText: ''})\r\n    } else {\r\n      this.setState({\r\n        locationId: school._id,\r\n        schoolError: ''\r\n      })\r\n    }\r\n  }\r\n\r\n  handleTeacherNameChange = teacherName => {\r\n    const teacher = this.props.teachers\r\n      .find(teacher => `${teacher.firstName} ${teacher.lastName}` === teacherName)\r\n\r\n    if (!teacher) {\r\n      this.setState({\r\n        teacherId: '',\r\n        searchTeacherText: ''\r\n      })\r\n    } else {\r\n      this.setState({\r\n        teacherError: '',\r\n        teacherId: teacher._id\r\n      })\r\n    }\r\n  }\r\n\r\n  handleStartTimeChange = (event, date) => {\r\n    this.setState({startTime: date, startTimeError: ''});\r\n  }\r\n\r\n  handleEndTimeChange = (event, date) => {\r\n    this.setState({endTime: date, endTimeError: ''})\r\n  }\r\n\r\n  handleDateChange = event => {\r\n    const dates = (event.target.value || '').split(',')\r\n    const isDateError =\r\n      dates.some(date => !testDate(date) || isNaN(new Date(date).valueOf()))\r\n\r\n    this.setState({\r\n      dates: event.target.value,\r\n      datesError: isDateError\r\n        ? 'Please enter valid dates separated by commas: i.e. Mar 8 2018, Mar 15 2018, etc'\r\n        : '',\r\n      parsedDates: isDateError\r\n        ? null\r\n        : parseDates(dates).sort((a, b) => a.valueOf() - b.valueOf())\r\n    })\r\n  }\r\n\r\n  handleAfterSchoolChange = () => {\r\n    this.setState(({afterSchool}) => ({\r\n      afterSchool: !afterSchool\r\n    }))\r\n  }\r\n\r\n  handleSoldOutChange = () => {\r\n    this.setState(({soldOut}) => ({\r\n      soldOut: !soldOut\r\n    }))\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <Modal {...this.props} onAfterOpen={this.handleAfterOpen}\r\n        style={modalStyles}>\r\n        <div className={styles.courseModal}>\r\n          <h2>{this.props.selected ? 'Edit course' : 'Add a course'}</h2>\r\n          {\r\n            this.state.success &&\r\n            <div>{this.state.success}</div>\r\n          }\r\n          {\r\n            this.state.error &&\r\n            <div>{this.state.error}</div>\r\n          }\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"flex\">\r\n              <AutoComplete\r\n                hintText=\"Enter teacher name\"\r\n                floatingLabelText=\"Search teachers\"\r\n                dataSource={this.props.teachers\r\n                  .map(teacher => `${teacher.firstName} ${teacher.lastName}`)\r\n                }\r\n                filter={searchFilter}\r\n                menuProps={menuProps}\r\n                errorText={this.state.teacherError}\r\n                searchText={this.state.searchTeacherText}\r\n                onBlur={this.handleTeacherBlur}\r\n                onNewRequest={this.handleTeacherNameChange}\r\n                onUpdateInput={text =>\r\n                  this.handleGenericChange('searchTeacherText', text)\r\n                } maxSearchResults={5} />\r\n              <AutoComplete\r\n                style={{marginLeft: '18px'}}\r\n                hintText=\"Enter school name\"\r\n                floatingLabelText=\"Search schools\"\r\n                dataSource={this.props.schools.map(({name}) => name)}\r\n                filter={searchFilter}\r\n                menuProps={menuProps}\r\n                errorText={this.state.schoolError}\r\n                searchText={this.state.searchSchoolText}\r\n                onBlur={this.handleSchoolBlur}\r\n                onNewRequest={this.handleSchoolNameChange}\r\n                onUpdateInput={text =>\r\n                  this.handleGenericChange('searchSchoolText', text)\r\n                } maxSearchResults={5} />\r\n            </div>\r\n            <div className=\"flex\">\r\n              <TimePicker\r\n                format=\"ampm\"\r\n                hintText=\"Start time\"\r\n                value={this.state.startTime}\r\n                onChange={this.handleStartTimeChange}\r\n                errorText={this.state.startTimeError}/>\r\n              <TimePicker\r\n                style={{marginLeft: '18px'}}\r\n                format=\"ampm\"\r\n                hintText=\"End time\"\r\n                value={this.state.endTime}\r\n                onChange={this.handleEndTimeChange}\r\n                errorText={this.state.endTimeError}/>\r\n            </div>\r\n            <div>\r\n              <TextField hintText=\"Enter price\"\r\n                floatingLabelText=\"Course price\"\r\n                errorText={this.state.priceError}\r\n                type=\"number\"\r\n                value={this.state.price}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event => this.handleGenericChange('price', event.target.value)}/>\r\n            </div>\r\n            <div className=\"flex\" style={{padding: '12px 0'}}>\r\n              <Checkbox\r\n                 label=\"Evening program\"\r\n                 checked={this.state.afterSchool}\r\n                 onCheck={this.handleAfterSchoolChange}\r\n               />\r\n              <Checkbox\r\n                 label=\"Sold out\"\r\n                 checked={this.state.soldOut}\r\n                 onCheck={this.handleSoldOutChange}\r\n               />\r\n            </div>\r\n            <div className=\"flex\" style={{marginBottom: '36px'}}>\r\n              <TextField\r\n                hintText=\"Course Dates\"\r\n                floatingLabelText=\"Enter comma separated dates\"\r\n                multiLine={true}\r\n                value={this.state.dates}\r\n                errorText={this.state.datesError}\r\n                onChange={this.handleDateChange}\r\n                rows={5} />\r\n              <div className=\"flex flex-wrap\"\r\n                style={{alignContent: 'flex-start', marginTop: '36px', marginLeft: '18px', width: '400px'}}>\r\n                {\r\n                  Array.isArray(this.state.parsedDates) &&\r\n                    this.state.parsedDates.map(date => (\r\n                      <div style={{marginRight: '9px'}}>\r\n                        {\r\n                          date.toString().split(' ').slice(0, 4).join(' ')\r\n                        }&#44;\r\n                      </div>\r\n                    ))\r\n                }\r\n              </div>\r\n            </div>\r\n            <div className=\"flex\" style={{marginBottom: '36px'}}>\r\n              <TextField\r\n                hintText=\"Course description\"\r\n                floatingLabelText=\"Enter optional course description\"\r\n                multiLine={true}\r\n                value={this.state.description}\r\n                onChange={\r\n                  event => this.handleGenericChange('description',\r\n                    event.target.value)\r\n                }\r\n                rows={2} />\r\n            </div>\r\n            <RaisedButton\r\n              style={{marginRight: '20px'}}\r\n              onClick={this.props.closeModal}\r\n              label=\"Cancel\"\r\n              secondary={true} />\r\n            <RaisedButton\r\n              disabled={this.isFormValid() !== true}\r\n              primary={true}\r\n              type=\"submit\"\r\n              label=\"Save\" />\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({}, ownProps) => ({\r\n  ...ownProps\r\n})\r\nexport default connect(mapStateToProps, {loadCourse, updateCourse})(CourseModal)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/CourseModal.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {getField} from 'common/util/schema'\r\nimport {EntityTable} from './Tables'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport CourseModal from './CourseModal'\r\n\r\nconst colList = ['school', 'teacher', 'times', 'dates',\r\n'price', 'evening', 'sold out'].map(key => getField(key))\r\n\r\nconst timeStrOptions = {\r\n  hour12: true,\r\n  hour: '2-digit',\r\n  minute: '2-digit',\r\n  timeZone: 'America/New_York'\r\n}\r\nconst dateStrOptions = {\r\n  month: 'short',\r\n  day: 'numeric',\r\n  timeZone: 'America/New_York'\r\n}\r\n\r\nclass CoursesTab extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      showAddCourseModal: false,\r\n      selected: null\r\n    }\r\n  }\r\n  closeAddCourseModal = () => {\r\n    this.setState({\r\n      showAddCourseModal: false,\r\n      selected: null\r\n    })\r\n  }\r\n  showAddCourseModal = () => {\r\n    this.setState({\r\n      showAddCourseModal: true\r\n    })\r\n  }\r\n  editCourse = course => {\r\n    this.setState({\r\n      selected: {\r\n        ...course,\r\n        startTime: course.ogStartTime,\r\n        endTime: course.ogEndTime,\r\n        price: course.rawPrice\r\n      },\r\n      showAddCourseModal: true\r\n    })\r\n  }\r\n\r\n  deSerializeCourses = response => {\r\n    return response.map(course => {\r\n      const teacher = this.props.teachers\r\n        .find(teacher => teacher._id === course.teacherId)\r\n      const school = this.props.schools\r\n        .find(school => school._id === course.locationId)\r\n      const ogStartTime = new Date(course.classes[0].startTime)\r\n      const ogEndTime = new Date(course.classes[0].endTime)\r\n      const startTime = ogStartTime.toLocaleTimeString([], timeStrOptions)\r\n      const endTime = ogEndTime.toLocaleTimeString([], timeStrOptions)\r\n\r\n      return {\r\n        _id: course._id,\r\n        teacherId: course.teacherId,\r\n        locationId: course.locationId,\r\n        rawPrice: course.price,\r\n        afterSchool: !!course.afterSchool,\r\n        soldOut: !!course.soldOut,\r\n        evening: course.afterSchool ? 'Yes' : 'No',\r\n        'sold out': course.soldOut ? 'Yes' : 'No',\r\n        description: course.description,\r\n        price: course.price.toLocaleString('en-US', {\r\n          style: 'currency',\r\n          currency: 'USD',\r\n          minimumFractionDigits: 2\r\n        }),\r\n        ogStartTime,\r\n        ogEndTime,\r\n        recentness: ogStartTime.valueOf(),\r\n        teacher: `${teacher.firstName} ${teacher.lastName}`,\r\n        school: school.name,\r\n        startTime,\r\n        endTime,\r\n        times: `${startTime} - ${endTime}`,\r\n        dates: course.classes.map((chessClass, idx) => {\r\n          return new Date(chessClass.startTime)\r\n            .toLocaleString('en-US', dateStrOptions)\r\n        }).join(' , '),\r\n        fullDates: course.classes.map((chessClass, idx) => {\r\n          return new Date(chessClass.startTime)\r\n            .toLocaleString('en-US', {...dateStrOptions, year: 'numeric'})\r\n            .replace(',', '')\r\n        }).join(' , ')\r\n      }\r\n    }).sort((a, b) => a.recentness - b.recentness)\r\n  }\r\n\r\n  render () {\r\n    if (this.props.coursesError) {\r\n      return (\r\n        <div>Unable to load Courses</div>\r\n      )\r\n    }\r\n    if (!this.props.courses.length || !this.props.schools.length\r\n      || !this.props.teachers) {\r\n      return (\r\n        <div>Loading Data...</div>\r\n      )\r\n    }\r\n    return (\r\n      <div style={{paddingTop: '40px'}}>\r\n        <CourseModal isOpen={this.state.showAddCourseModal}\r\n          teachers={this.props.teachers}\r\n          schools={this.props.schools}\r\n          closeModal={this.closeAddCourseModal}\r\n          selected={this.state.selected}/>\r\n        <RaisedButton onClick={this.showAddCourseModal} primary={true}\r\n          label=\"Add Course\" />\r\n        <EntityTable items={this.deSerializeCourses(this.props.courses)}\r\n          colList={colList}\r\n          onEditClick={this.editCourse}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({courses, teachers, schools}) =>\r\n  ({...courses, ...teachers, ...schools})\r\nexport default connect(mapStateToProps, {})(CoursesTab)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/CoursesTab.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport Modal from 'react-modal'\r\nimport {loadSchool, updateSchool} from 'lander/actions/schools'\r\nimport TextField from 'material-ui/TextField'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport pattern from 'common/util/pattern'\r\nimport styles from './styles.css'\r\n\r\nconst modalStyles = {\r\n  content: {\r\n    top: '40px',\r\n    width: '800px',\r\n    margin: 'auto',\r\n    fontFamily: 'Nunito, sans-serif',\r\n    overflowX: 'hidden',\r\n    zIndex: 4,\r\n    fontSize: '16px'\r\n  },\r\n  overlay: {\r\n    zIndex: 9,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.3)'\r\n  }\r\n}\r\nconst hideAutoFillColorStyle = {\r\n    WebkitBoxShadow: '0 0 0 1000px white inset'\r\n}\r\nconst hintStyle = {zIndex: '1', pointerEvents: 'none'}\r\nconst inputStyle = {width: '400px'}\r\n\r\nclass SchoolModal extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n      address: '',\r\n      city: '',\r\n      province: '',\r\n      postalCode: '',\r\n      nameError: '',\r\n      phoneError: '',\r\n      emailError: '',\r\n      postalCodeError: ''\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    if (nextProps.selected) {\r\n      const {\r\n        name,\r\n        phone,\r\n        email,\r\n        address,\r\n        city,\r\n        province,\r\n        postalCode,\r\n        lat,\r\n        lng,\r\n        mapUrl\r\n      } = nextProps.selected\r\n\r\n      this.setState({\r\n        name,\r\n        phone,\r\n        email,\r\n        address,\r\n        city,\r\n        province,\r\n        postalCode,\r\n        success: '',\r\n        error: '',\r\n        lat,\r\n        lng,\r\n        mapUrl\r\n      })\r\n    }\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    const isValid = this.validateForm()\r\n    if (!isValid) {\r\n      return\r\n    }\r\n    if (this.props.selected) {\r\n      this.editSchool(this.props.selected._id)\r\n    } else {\r\n      this.addSchool()\r\n    }\r\n  }\r\n  editSchool = id => {\r\n    const {\r\n      name,\r\n      phone,\r\n      email,\r\n      address,\r\n      city,\r\n      postalCode,\r\n      lat,\r\n      lng,\r\n      mapUrl\r\n    } = this.state\r\n    return axios.put(`/api/schools/${id}`, {\r\n      name, phone, email, address,\r\n      city, postalCode, lat, lng, mapUrl\r\n    }).then(response => {\r\n      this.props.updateSchool(response.data)\r\n      this.setState({\r\n        success: 'School has been successfully updated',\r\n        error: '',\r\n      })\r\n    }).catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: School could not be updated'\r\n      })\r\n    })\r\n  }\r\n  addSchool = () => {\r\n    const {\r\n      name,\r\n      phone,\r\n      email,\r\n      address,\r\n      city,\r\n      province,\r\n      postalCode,\r\n      lat,\r\n      lng,\r\n      mapUrl\r\n    } = this.state\r\n    return axios.post('/api/schools', {\r\n      name, phone, email, address,\r\n      city, province, postalCode, lat, lng, mapUrl\r\n    })\r\n    .then(response => {\r\n      this.props.loadSchool(response.data)\r\n      this.setState({\r\n        success: 'School has been successfully added',\r\n        error: ''\r\n      })\r\n    })\r\n    .catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: School could not be added'\r\n      })\r\n    })\r\n    .then(this.clearForm)\r\n  }\r\n  clearForm = () => {\r\n    this.setState({\r\n      name: '',\r\n      phone: '',\r\n      email: '',\r\n      address: '',\r\n      city: '',\r\n      province: '',\r\n      postalCode: '',\r\n      nameError: '',\r\n      phoneError: '',\r\n      emailError: '',\r\n      postalCodeError: '',\r\n      lat: '',\r\n      lng: '',\r\n      mapUrl: ''\r\n    })\r\n  }\r\n\r\n  handleAfterOpen = () => {\r\n    this.setState({\r\n      success: '',\r\n      error: ''\r\n    })\r\n    if (!this.props.selected) {\r\n      this.clearForm()\r\n    }\r\n  }\r\n  handleNameChange = event => {\r\n    this.setState({\r\n      name: event.target.value,\r\n      nameError: event.target.value ? '' : 'This field is required'\r\n    })\r\n  }\r\n  handlePhoneChange = event => {\r\n    const phone = event.target.value.replace(/[^\\d-()\\s]/,'')\r\n    const phoneError = phone\r\n      ? (this.validatePhoneNumber(phone) ? '' : 'Please enter a ten digit phone number')\r\n      : ''\r\n\r\n    this.setState({\r\n      phone,\r\n      phoneError\r\n    })\r\n  }\r\n  handleEmailChange = event => {\r\n    const email = event.target.value\r\n    const emailError = email\r\n      ? (this.validateEmail(email) ? '' : 'Please enter a valid email')\r\n      : ''\r\n    this.setState({\r\n      email,\r\n      emailError\r\n    })\r\n  }\r\n  handlePostalCodeChange = event => {\r\n    const postalCode = event.target.value\r\n    const postalCodeError = postalCode\r\n      ? (this.validatePostalCode(postalCode) ? '' : 'Please enter a valid postal code of format A1A 1A1')\r\n      : ''\r\n\r\n    this.setState({\r\n      postalCode,\r\n      postalCodeError\r\n    })\r\n  }\r\n  handleGenericChange = (key, value) => {\r\n    this.setState({\r\n      [key]: value\r\n    })\r\n  }\r\n  validatePhoneNumber (value) {\r\n    return (value.match(/\\d/g) || []).length === 10;\r\n  }\r\n  validateEmail (value) {\r\n    return pattern.email.test(value)\r\n  }\r\n  validatePostalCode (value) {\r\n    return pattern.postalCode.test(value)\r\n  }\r\n  validateForm () {\r\n    const errorMessage = 'This field is required'\r\n    const nameError = this.state.name ? '' : errorMessage\r\n    if (nameError) {\r\n      this.setState({\r\n        nameError\r\n      })\r\n    }\r\n    return !nameError\r\n  }\r\n  isFormValid = () => {\r\n    return [\r\n      this.state.nameError,\r\n      this.state.phoneError,\r\n      this.state.emailError,\r\n      this.state.postalCodeError\r\n    ].every(field => !field)\r\n  }\r\n  render () {\r\n    return (\r\n      <Modal {...this.props} onAfterOpen={this.handleAfterOpen}\r\n        style={modalStyles}>\r\n        <div className={styles.schoolModal}>\r\n          <h2>{this.props.selected ? 'Edit school' : 'Add a school'}</h2>\r\n          {\r\n            this.state.success &&\r\n            <div>{this.state.success}</div>\r\n          }\r\n          {\r\n            this.state.error &&\r\n            <div>{this.state.error}</div>\r\n          }\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter name\"\r\n                type=\"text\"\r\n                floatingLabelText=\"School name\"\r\n                errorText={this.state.nameError}\r\n                value={this.state.name}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handleNameChange} />\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter school phone\"\r\n                floatingLabelText=\"School phone\"\r\n                errorText={this.state.phoneError}\r\n                type=\"text\"\r\n                value={this.state.phone}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handlePhoneChange}/>\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter school email\"\r\n                floatingLabelText=\"School email\"\r\n                errorText={this.state.emailError}\r\n                type=\"email\"\r\n                value={this.state.email}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handleEmailChange}/>\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter address\"\r\n                type=\"text\"\r\n                floatingLabelText=\"School address\"\r\n                value={this.state.address}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event =>\r\n                  this.handleGenericChange('address', event.target.value)\r\n                } />\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter city\"\r\n                type=\"text\"\r\n                floatingLabelText=\"School city\"\r\n                value={this.state.city}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event =>\r\n                  this.handleGenericChange('city', event.target.value)\r\n                } />\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter postal code\"\r\n                type=\"text\"\r\n                floatingLabelText=\"Postal Code\"\r\n                value={this.state.postalCode}\r\n                errorText={this.state.postalCodeError}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handlePostalCodeChange}\r\n                />\r\n            </div>\r\n            <div className=\"flex justify-between\" style={{width: '80%'}}>\r\n              <TextField hintText=\"Enter latitude (optional)\"\r\n                floatingLabelText=\"Latitude\"\r\n                type=\"number\"\r\n                value={this.state.lat}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event => this.handleGenericChange('lat', event.target.value)}/>\r\n\r\n              <TextField hintText=\"Enter longitude (optional)\"\r\n                floatingLabelText=\"Longitude\"\r\n                type=\"number\"\r\n                value={this.state.lng}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event => this.handleGenericChange('lng', event.target.value)}/>\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter map url (optional)\"\r\n                type=\"text\"\r\n                floatingLabelText=\"Google maps URL\"\r\n                value={this.state.mapUrl}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={event => this.handleGenericChange('mapUrl', event.target.value)}\r\n                />\r\n            </div>\r\n            <div className=\"flex\">\r\n              <RaisedButton\r\n                style={{marginRight: '20px'}}\r\n                onClick={this.props.closeModal}\r\n                label=\"Cancel\"\r\n                secondary={true} />\r\n              <RaisedButton\r\n                disabled={this.isFormValid() !== true}\r\n                primary={true}\r\n                type=\"submit\"\r\n                label=\"Save\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({}, ownProps) => ({\r\n  ...ownProps\r\n})\r\nexport default connect(mapStateToProps, {loadSchool, updateSchool})(SchoolModal)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/SchoolModal.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {getField} from 'common/util/schema'\r\nimport {EntityTable} from './Tables'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport SchoolModal from './SchoolModal'\r\n\r\nconst colList = ['name', 'phone', 'email',\r\n  'address', 'postalCode'].map(key => getField(key))\r\n\r\nconst schoolFilter = (searchText, key) => {\r\n  return searchText !== '' &&\r\n    key.toLowerCase().indexOf(searchText.toLowerCase()) === 0\r\n}\r\n\r\nconst menuProps = {\r\n  desktop: true,\r\n  disableAutoFocus: true,\r\n}\r\n\r\nclass SchoolsTab extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      showAddSchoolModal: false,\r\n      selected: null,\r\n      school: null,\r\n      searchText: '',\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    if (this.state.school) {\r\n      this.setState({\r\n        school: nextProps.schools.find(({_id}) => _id === this.state.school._id)\r\n      })\r\n    }\r\n  }\r\n  closeAddSchoolModal = () => {\r\n    this.setState({\r\n      showAddSchoolModal: false,\r\n      selected: null\r\n    })\r\n  }\r\n  showAddSchoolModal = () => {\r\n    this.setState({\r\n      showAddSchoolModal: true\r\n    })\r\n  }\r\n  editSchool = school => {\r\n    this.setState({\r\n      selected: this.state.school,\r\n      showAddSchoolModal: true\r\n    })\r\n  }\r\n  handleInputChange = searchText => {\r\n    this.setState({\r\n      searchText\r\n    })\r\n  }\r\n  handleSchoolNameChange = schoolName => {\r\n    this.setState({\r\n      school: this.props.schools\r\n        .find(school => school.name === schoolName)\r\n    })\r\n  }\r\n  render () {\r\n    if (this.props.SchoolError) {\r\n      return (\r\n        <div>Unable to load Schools</div>\r\n      )\r\n    }\r\n    if (!this.props.schools) {\r\n      return (\r\n        <div>Loading Schools...</div>\r\n      )\r\n    }\r\n    return (\r\n      <div style={{paddingTop: '40px'}}>\r\n        <SchoolModal isOpen={this.state.showAddSchoolModal}\r\n          closeModal={this.closeAddSchoolModal} selected={this.state.selected}/>\r\n        <RaisedButton onClick={this.showAddSchoolModal} primary={true}\r\n          label=\"Add School\" />\r\n        <div>\r\n          <AutoComplete\r\n            hintText=\"Enter school name\"\r\n            floatingLabelText=\"Find your school\"\r\n            filter={schoolFilter}\r\n            dataSource={this.props.schools.map(({name}) => name)}\r\n            menuProps={menuProps}\r\n            searchText={this.state.searchText}\r\n            onNewRequest={this.handleSchoolNameChange}\r\n            onUpdateInput={this.handleInputChange}\r\n            maxSearchResults={5} />\r\n        </div>\r\n        {\r\n          this.state.school &&\r\n            <EntityTable items={[this.state.school]}\r\n              colList={colList}\r\n              onEditClick={this.editSchool}/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({schools}) => ({...schools})\r\nexport default connect(mapStateToProps, {})(SchoolsTab)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/SchoolsTab.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport Modal from 'react-modal'\r\nimport {loadTeacher, updateTeacher} from 'admin/actions/teachers'\r\nimport TextField from 'material-ui/TextField'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport pattern from 'common/util/pattern'\r\nimport styles from './styles.css'\r\n\r\nconst modalStyles = {\r\n  content: {\r\n    top: '40px',\r\n    width: '800px',\r\n    margin: 'auto',\r\n    fontFamily: 'Nunito, sans-serif',\r\n    overflowX: 'hidden',\r\n    zIndex: 4,\r\n    fontSize: '16px'\r\n  },\r\n  overlay: {\r\n    zIndex: 9,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.3)'\r\n  }\r\n}\r\nconst hideAutoFillColorStyle = {\r\n    WebkitBoxShadow: '0 0 0 1000px white inset'\r\n}\r\nconst hintStyle = {zIndex: '1', pointerEvents: 'none'}\r\nconst inputStyle = {width: '400px'}\r\n\r\nclass TeacherModal extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      firstName: '',\r\n      lastName: '',\r\n      phone: '',\r\n      email: '',\r\n      firstNameError: '',\r\n      lastNameError: '',\r\n      phoneError: '',\r\n      emailError: ''\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    if (nextProps.selected) {\r\n      const {firstName, lastName, phone, email} = nextProps.selected\r\n      this.setState({\r\n        firstName,\r\n        lastName,\r\n        phone,\r\n        email,\r\n        success: '',\r\n        error: ''\r\n      })\r\n    }\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    const isValid = this.validateForm()\r\n    if (!isValid) {\r\n      return\r\n    }\r\n    if (this.props.selected) {\r\n      this.editTeacher(this.props.selected._id)\r\n    } else {\r\n      this.addTeacher()\r\n    }\r\n  }\r\n  editTeacher = id => {\r\n    const {firstName, lastName, phone, email} = this.state\r\n    return axios.put(`/api/teachers/${id}`, {\r\n      firstName, lastName, phone, email\r\n    }).then(response => {\r\n      this.props.updateTeacher(response.data)\r\n      this.setState({\r\n        success: 'Teacher has been successfully updated',\r\n        error: ''\r\n      })\r\n    }).catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: Teacher could not be updated'\r\n      })\r\n    })\r\n  }\r\n  addTeacher = () => {\r\n    const {firstName, lastName, phone, email} = this.state\r\n    return axios.post('/api/teachers', {\r\n      firstName, lastName, phone, email\r\n    })\r\n    .then(response => {\r\n      this.props.loadTeacher(response.data)\r\n      this.setState({\r\n        success: 'Teacher has been successfully added',\r\n        error: ''\r\n      })\r\n    })\r\n    .catch(err => {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Error: Teacher could not be added'\r\n      })\r\n    })\r\n    .then(this.clearForm)\r\n  }\r\n  clearForm = () => {\r\n    this.setState({\r\n      firstName: '',\r\n      lastName: '',\r\n      phone: '',\r\n      email: '',\r\n      firstNameError: '',\r\n      lastNameError: '',\r\n      phoneError: '',\r\n      emailError: ''\r\n    })\r\n  }\r\n  handleAfterOpen = () => {\r\n    this.setState({\r\n      success: '',\r\n      error: ''\r\n    })\r\n    if (!this.props.selected) {\r\n      this.clearForm()\r\n    }\r\n  }\r\n  handleFirstNameChange = event => {\r\n    this.setState({\r\n      firstName: event.target.value,\r\n      firstNameError: event.target.value ? '' : 'This field is required'\r\n    })\r\n  }\r\n  handleLastNameChange = event => {\r\n    this.setState({\r\n      lastName: event.target.value,\r\n      lastNameError: event.target.value ? '' : 'This field is required'\r\n    })\r\n  }\r\n  handlePhoneChange = event => {\r\n    const phone = event.target.value.replace(/[^\\d-()\\s]/,'')\r\n    const phoneError = phone\r\n      ? (this.validatePhoneNumber(phone) ? '' : 'Please enter a ten digit phone number')\r\n      : ''\r\n\r\n    this.setState({\r\n      phone,\r\n      phoneError\r\n    })\r\n  }\r\n  handleEmailChange = event => {\r\n    const email = event.target.value\r\n    const emailError = email\r\n      ? (this.validateEmail(email) ? '' : 'Please enter a valid email')\r\n      : ''\r\n    this.setState({\r\n      email,\r\n      emailError\r\n    })\r\n  }\r\n  validatePhoneNumber (value) {\r\n    return (value.match(/\\d/g) || []).length === 10;\r\n  }\r\n  validateEmail (value) {\r\n    return pattern.email.test(value)\r\n  }\r\n  validateForm () {\r\n    const errorMessage = 'This field is required'\r\n    const firstNameError = this.state.firstName ? '' : errorMessage\r\n    const lastNameError = this.state.lastName ? '' : errorMessage\r\n    const isValid = firstNameError + lastNameError === ''\r\n    if (!isValid) {\r\n      this.setState({\r\n        firstNameError,\r\n        lastNameError\r\n      })\r\n    }\r\n    return isValid\r\n  }\r\n  isFormValid = () => {\r\n    return [\r\n      this.state.firstNameError,\r\n      this.state.lastNameError,\r\n      this.state.phoneError,\r\n      this.state.emailError\r\n    ].every(field => !field)\r\n  }\r\n  render () {\r\n    return (\r\n      <Modal {...this.props} onAfterOpen={this.handleAfterOpen}\r\n        style={modalStyles}>\r\n        <div className={styles.teacherModal}>\r\n          <h2>{this.props.selected ? 'Edit teacher' : 'Add a teacher'}</h2>\r\n          {\r\n            this.state.success &&\r\n            <div>{this.state.success}</div>\r\n          }\r\n          {\r\n            this.state.error &&\r\n            <div>{this.state.error}</div>\r\n          }\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter first name\"\r\n                type=\"text\"\r\n                floatingLabelText=\"Teacher first name\"\r\n                errorText={this.state.firstNameError}\r\n                value={this.state.firstName}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handleFirstNameChange} />\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter last name\"\r\n                type=\"text\"\r\n                floatingLabelText=\"Teacher last name\"\r\n                errorText={this.state.lastNameError}\r\n                value={this.state.lastName}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handleLastNameChange} />\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter teacher phone\"\r\n                floatingLabelText=\"Teacher phone\"\r\n                errorText={this.state.phoneError}\r\n                type=\"text\"\r\n                value={this.state.phone}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handlePhoneChange}/>\r\n            </div>\r\n            <div>\r\n              <TextField style={inputStyle}\r\n                hintText=\"Enter teacher email\"\r\n                floatingLabelText=\"Teacher email\"\r\n                errorText={this.state.emailError}\r\n                type=\"email\"\r\n                value={this.state.email}\r\n                inputStyle={hideAutoFillColorStyle}\r\n                hintStyle={hintStyle}\r\n                onChange={this.handleEmailChange}/>\r\n            </div>\r\n            <div className=\"flex\">\r\n              <RaisedButton\r\n                style={{marginRight: '20px'}}\r\n                onClick={this.props.closeModal}\r\n                label=\"Cancel\"\r\n                secondary={true} />\r\n              <RaisedButton\r\n                disabled={this.isFormValid() !== true}\r\n                primary={true}\r\n                type=\"submit\"\r\n                label=\"Save\" />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({}, ownProps) => ({\r\n  ...ownProps\r\n})\r\nexport default connect(mapStateToProps, {loadTeacher, updateTeacher})(TeacherModal)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/TeacherModal.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {getField} from 'common/util/schema'\r\nimport {EntityTable} from './Tables'\r\nimport TeacherModal from './TeacherModal'\r\n\r\nconst colList = ['firstName', 'lastName', 'phone','email']\r\n  .map(key => getField(key))\r\n\r\nclass TeachersTab extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      showAddTeacherModal: false,\r\n      selected: null\r\n    }\r\n  }\r\n  closeAddTeacherModal = () => {\r\n    this.setState({\r\n      showAddTeacherModal: false,\r\n      selected: null\r\n    })\r\n  }\r\n  showAddTeacherModal = () => {\r\n    this.setState({\r\n      showAddTeacherModal: true\r\n    })\r\n  }\r\n  editTeacher = teacher => {\r\n    this.setState({\r\n      selected: teacher,\r\n      showAddTeacherModal: true\r\n    })\r\n  }\r\n  render () {\r\n    if (this.props.teacherError) {\r\n      return (\r\n        <div>Unable to load teachers</div>\r\n      )\r\n    }\r\n    if (!this.props.teachers) {\r\n      return (\r\n        <div>Loading teachers...</div>\r\n      )\r\n    }\r\n    return (\r\n      <div style={{paddingTop: '40px'}}>\r\n        <TeacherModal isOpen={this.state.showAddTeacherModal}\r\n          closeModal={this.closeAddTeacherModal} selected={this.state.selected}/>\r\n        <RaisedButton onClick={this.showAddTeacherModal} primary={true}\r\n          label=\"Add teacher\" />\r\n        <EntityTable items={this.props.teachers} colList={colList}\r\n          onEditClick={this.editTeacher}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({teachers}) => ({...teachers})\r\nexport default connect(mapStateToProps, {})(TeachersTab)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/TeachersTab.js","import React from 'react'\r\nimport {Tabs, Tab} from 'material-ui/Tabs'\r\nimport TeachersTab from './TeachersTab'\r\nimport SchoolsTab from './SchoolsTab'\r\nimport CoursesTab from './CoursesTab'\r\nimport styles from './styles.css'\r\n\r\nclass Course extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      selected: 'teachers'\r\n    }\r\n  }\r\n  handleTabChange = value => {\r\n    this.setState({selected: value})\r\n  }\r\n  render () {\r\n    return (\r\n      <Tabs value={this.state.selected} onChange={this.handleTabChange}>\r\n        <Tab label=\"Teachers\" value=\"teachers\">\r\n          <TeachersTab />\r\n        </Tab>\r\n        <Tab label=\"Schools\" value=\"schools\">\r\n          <SchoolsTab />\r\n        </Tab>\r\n        <Tab label=\"Classes\" value=\"classes\">\r\n          <CoursesTab />\r\n        </Tab>\r\n      </Tabs>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Course\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Courses/index.js","import React from 'react'\r\nimport {homeworkLinks} from 'admin/constants'\r\nimport styles from './styles.css'\r\n\r\nconst HomeworkLevel = props => {\r\n  return (\r\n    <div>\r\n      <h1>{`${props.level} PDFs`}</h1>\r\n      <div className={styles.weeks}>\r\n        {\r\n          props.weeks.map(name => {\r\n            const href = `/api/admin/pdfs/${props.level}-${name}.pdf`\r\n            return (\r\n              <a target=\"_blank\" href={href}>{\r\n                name.replace(/([a-z])([A-Z])/g, \"$1 $2\")\r\n              }</a>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default props => {\r\n  return (\r\n    <div>\r\n      {\r\n        homeworkLinks.map(level => (\r\n          <HomeworkLevel {...level} />\r\n        ))\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Homework/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {uniq} from 'lodash/fp'\r\nimport styles from './styles.css'\r\n\r\nconst seasons = [\r\n  'winter',\r\n  'spring',\r\n  'summer',\r\n  'fall'\r\n]\r\n\r\nconst formatYear = year => parseInt(year) + 1900\r\n\r\nconst RegistrationLink = props => {\r\n  const href = `/api/admin/student-courses/${props.season}/${props.year}`\r\n  return (\r\n    <div className={styles.registrationLink}>\r\n      <h1>{seasons[props.season]} {formatYear(props.year)}</h1>\r\n      <div>\r\n        <a target=\"_blank\" href={href}>{\r\n          `Download ${seasons[props.season]} ${formatYear(props.year)} Registration List`\r\n        }</a>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Registration =  props => {\r\n  if (props.coursesError) {\r\n    return <div>Error loading courses</div>\r\n  }\r\n  if (props.courses.length < 1) {\r\n    return (\r\n      <div>Loading courses...</div>\r\n    )\r\n  }\r\n  const seasonList =\r\n    uniq(props.courses.map(({season, year}) => `${season}/${year}`))\r\n      .sort((a, b) => {\r\n        const aVals = a.split('/')\r\n        const bVals = b.split('/')\r\n        const diff = aVals[1] - bVals[1]\r\n        return diff ? diff : aVals[0] - bVals[0]\r\n      })\r\n  return (\r\n    <div>\r\n      {\r\n        seasonList.map(entry => {\r\n          const [season, year] = entry.split('/')\r\n          return (\r\n            <RegistrationLink key={entry} season={season} year={year} />\r\n          )\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({courses}) => {\r\n  return {\r\n    courses: courses.courses,\r\n    error: courses.coursesError\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(Registration)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/components/Registration/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {Switch, Route, Redirect} from 'react-router'\r\nimport {getCurrentSeason} from 'common/util/season'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {logout} from 'common/actions/session'\r\nimport {loadTeachers} from 'admin/actions/teachers'\r\nimport {loadSchools} from 'lander/actions/schools'\r\nimport {loadCourses} from 'lander/actions/courses'\r\nimport Navbar from 'common/components/Navbar'\r\nimport {NavLinkBtn} from 'common/components/Navbar/nav-link'\r\nimport Courses from 'admin/components/Courses'\r\nimport Homework from 'admin/components/Homework'\r\nimport Registration from 'admin/components/Registration'\r\nimport {navLinks} from 'admin/constants'\r\nimport styles from './styles.css'\r\n\r\nconst ElevatedView = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/registration\" component={Registration}/>\r\n      <Route path=\"/courses\" component={Courses}/>\r\n      <Route path=\"/homework\" component={Homework}/>\r\n      <Route path=\"*\" render={() => <Redirect to=\"/registration\"/>}/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nconst TeacherView = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/homework\" component={Homework}/>\r\n      <Route path=\"*\" render={() => <Redirect to=\"/homework\"/>}/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nclass AdminPage extends React.Component {\r\n  componentDidMount () {\r\n    if (!this.props.teachers) {\r\n      this.props.loadTeachers()\r\n    }\r\n    if (!this.props.schools.length) {\r\n      this.props.loadSchools()\r\n    }\r\n    this.props.loadCourses(getCurrentSeason(), true)\r\n  }\r\n  render () {\r\n    const filteredNavLinks = this.props.username === 'ashahi'\r\n      ? navLinks\r\n      : navLinks.filter(({name}) => name.toLowerCase() === 'homework')\r\n    return (\r\n      <div className={styles.adminPage}>\r\n        <Navbar links={filteredNavLinks}>\r\n          <NavLinkBtn name=\"Logout\" handleClick={this.props.logout}/>\r\n        </Navbar>\r\n        <div>\r\n            {\r\n              this.props.username === 'ashahi' &&\r\n              <ElevatedView />\r\n            }\r\n            {\r\n              this.props.username !== 'ashahi' &&\r\n              <TeacherView />\r\n            }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({teachers, schools, courses, user}) =>\r\n  ({...teachers, ...schools, ...courses, ...user})\r\nexport default withRouter(\r\n  connect(mapStateToProps, {logout, loadTeachers, loadSchools, loadCourses})(AdminPage)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/index.js","import teachersReducer from './teachers'\r\n\r\nexport default {\r\n  teachers: teachersReducer\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/reducers/index.js","import {\r\n  ADD_TEACHER,\r\n  UPDATE_TEACHER,\r\n  LOAD_TEACHERS_FAILED,\r\n  SET_TEACHERS\r\n} from 'admin/actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  teachers: null,\r\n  teachersError: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_TEACHER:\r\n      const updatedTeacher = state.teachers\r\n        .find(teacher => teacher._id === action.payload._id)\r\n      if (!updatedTeacher) {\r\n        break\r\n      }\r\n      const updatedTeachers = state.teachers.slice(0)\r\n      updatedTeachers[updatedTeachers.indexOf(updatedTeacher)] = action.payload\r\n      return {\r\n        teachers: updatedTeachers,\r\n        teachersError: ''\r\n      }\r\n    case ADD_TEACHER:\r\n      return {\r\n        teachers: (state.teachers || []).slice(0).concat(action.payload),\r\n        teachersError: ''\r\n      }\r\n    case SET_TEACHERS:\r\n      return {\r\n        teachers: action.payload,\r\n        teachersError: ''\r\n      }\r\n    case LOAD_TEACHERS_FAILED:\r\n      return {\r\n        teachers: null,\r\n        teachersError: action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin/reducers/teachers.js","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Chessboard from '../Chessboard/Chessboard'\r\nimport ChessmoveSound from 'common/components/ChessmoveSound'\r\nimport config from './config';\r\nimport Instructions from 'board/components/Instructions'\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\n\r\nclass Concentration extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      aiTurn: true,\r\n      config: config.conf.gameOver,\r\n      solution: this.props.solution,\r\n      level: 1,\r\n      started: false,\r\n      gameOver: true,\r\n      highScore: 0,\r\n      sound: ''\r\n    };\r\n  }\r\n  getMessage = () => {\r\n    if (!this.state.started) {\r\n      return 'A game of concentration';\r\n    }\r\n    if (this.state.gameOver) {\r\n      if (this.state.score === this.props.solution.length) {\r\n        return `Congratulations!  You have a good memory!  Your score is ${this.state.score}`\r\n      }\r\n      return `Game over. Your score is ${this.state.score}`;\r\n    } else if (this.state.aiTurn) {\r\n      return 'Memorize the sequence!';\r\n    } else {\r\n      return 'Your turn! Repeat the sequence!';\r\n    }\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.boardContainer}>\r\n        <ChessmoveSound key={Date.now()} type={this.state.sound}/>\r\n        <Link to={this.props.getHomeLink()}\r\n          className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n          Exit\r\n        </Link>\r\n        <div className={styles.header}>\r\n          <div className={styles.banner}>\r\n            {this.props.name}\r\n          </div>\r\n          <div className={styles.bannerAvatar}>\r\n            <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n          </div>\r\n        </div>\r\n        <div className={styles.body}>\r\n          <div className={styles.chessBoard}>\r\n            <div className={styles.leftRow}>\r\n              {\r\n                [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                  <div className={styles.rank}>\r\n                    {num}\r\n                  </div>\r\n                )\r\n              }\r\n            </div>\r\n            <div className={styles.properBoardContainer}>\r\n              <Chessboard {...this.state.config}\r\n                position={this.props.position}\r\n                boardId='concentration'\r\n                solution={this.state.solution}\r\n                level={this.state.level}\r\n                switchTurn={this.switchTurn.bind(this)}\r\n                delay={500} />\r\n              <div className={styles.bottomRow}>\r\n                {\r\n                  ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                    .map(letter =>\r\n                      <div className={styles.file}>\r\n                        {letter}\r\n                      </div>\r\n                    )\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.feedback}>\r\n            <Instructions instructions={this.getMessage()}/>\r\n            {(!this.state.started) &&\r\n                <button className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                  onClick={this.startGame}>\r\n                    Start\r\n                </button>\r\n            }\r\n            {\r\n              this.state.gameOver &&\r\n              this.state.score < this.state.solution.length &&\r\n              <button className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                onClick={this.startGame}>\r\n                  Try Again\r\n              </button>\r\n            }\r\n            {\r\n              this.state.gameOver &&\r\n              this.state.score >= this.state.solution.length &&\r\n              <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                to={this.props.getHomeLink()}>\r\n                Back to activities\r\n              </Link>\r\n            }\r\n            {!this.state.gameOver && <p>Level: {this.state.level}</p>}\r\n            <p>High: {this.state.highScore}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  startGame = () => {\r\n    this.setState({\r\n      config: config.conf.ai,\r\n      gameOver: false,\r\n      started: true,\r\n      aiTurn: true,\r\n      level: 1,\r\n      sound: ''\r\n    })\r\n  }\r\n\r\n  switchTurn (isCorrect) {\r\n    if (!isCorrect || this.state.level === this.state.solution.length &&\r\n      !this.state.aiTurn) {\r\n      const score = isCorrect ? this.state.level : this.state.level - 1;\r\n      const highScore = score > this.state.highScore\r\n        ? score\r\n        : this.state.highScore;\r\n\r\n      this.setState(prevState => {\r\n        return {\r\n          config: config.conf.gameOver,\r\n          gameOver: true,\r\n          score,\r\n          highScore,\r\n          sound: isCorrect ? 'success' : 'error'\r\n        };\r\n      });\r\n      if (isCorrect) {\r\n        this.props.onComplete();\r\n      }\r\n      return;\r\n    }\r\n\r\n    const newConf = this.state.aiTurn\r\n      ? config.conf.hu\r\n      : config.conf.ai\r\n\r\n    this.setState(prevState => {\r\n      return {\r\n        config: newConf,\r\n        aiTurn: !prevState.aiTurn,\r\n        level: prevState.aiTurn ? prevState.level : prevState.level + 1,\r\n        sound: prevState.aiTurn ? '' : 'success'\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport default Concentration;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Concentration/concentration.js","const concentration = {\r\n    conf: {\r\n        ai: {\r\n            draggable: false,\r\n            onStart: function () {\r\n                const sequence = this.props.solution\r\n                    .slice(0, this.props.level);\r\n\r\n                this.makeMoves(sequence)\r\n                    .then(() => {\r\n                        setTimeout(this.props.switchTurn.bind(null, true), 300);\r\n                    });\r\n            }\r\n        },\r\n        hu: {\r\n            draggable: true,\r\n            onDrop: getOnDropHandler()\r\n        },\r\n        gameOver: {\r\n            draggable: false\r\n        }\r\n    }\r\n};\r\n\r\nfunction getOnDropHandler () {\r\n    let progress = 0;\r\n    return function (source, target) {\r\n        const move = `${source}-${target}`;\r\n        const isCorrect = this.props.solution[progress] === move;\r\n        const isLastStep = progress + 1 === this.props.level;\r\n\r\n        if (isLastStep || !isCorrect) {\r\n            progress = 0;\r\n            this.setConfig({\r\n                draggable: false\r\n            });\r\n            this.props.switchTurn(isCorrect);\r\n            return;\r\n        }\r\n\r\n        progress += 1;\r\n    };\r\n}\r\n\r\nexport default concentration;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Concentration/config.js","import { getMove } from '../../engine/chess_engine';\r\n\r\nconst game = {\r\n    ai: {\r\n        draggable: false,\r\n        onStart: function () {\r\n            getMove(this.props.game.fen())\r\n                .then((str) => {\r\n                    const from = str.substr(0, 2);\r\n                    const to = str.substr(2, 2);\r\n                    this.props.game.move({from, to, promotion: 'q'});\r\n                    this.board.position(this.props.game.fen());\r\n                    this.props.switchTurn();\r\n                });\r\n        }\r\n    },\r\n    hu: {\r\n        draggable: true,\r\n        onDrop,\r\n        onSnapEnd\r\n    },\r\n    gameOver: {\r\n        draggable: false\r\n    }\r\n};\r\n\r\nfunction onDrop (source, target) {\r\n    const move = this.props.game.move({\r\n        from: source,\r\n        to: target,\r\n        promotion: 'q'\r\n    });\r\n\r\n    if (move === null) return 'snapback';\r\n\r\n    this.props.switchTurn();\r\n}\r\n\r\nfunction onSnapEnd () {\r\n    this.board.position(this.props.game.fen());\r\n}\r\n\r\nexport default game;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Game/config.js","import React, {PropTypes} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport Chess from 'chess.js';\r\nimport Chessboard from '../Chessboard/Chessboard'\r\nimport ChessmoveSound from 'common/components/ChessmoveSound'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Instructions from 'board/components/Instructions'\r\nimport config from './config';\r\nimport {parseMoves} from '../Movelist/util/move-helper';\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\n\r\nconst getColorName = (turn) => {\r\n    return {\r\n        b: 'Black',\r\n        w: 'White'\r\n    }[turn];\r\n}\r\n\r\nconst getResultMessage = (winner) => {\r\n    if (winner) {\r\n      return `${getColorName(winner)} won!`;\r\n    } else {\r\n      return 'Draw game!';\r\n    }\r\n}\r\n\r\nconst getTurnMessage = (turn) => {\r\n    return `${getColorName(turn)} to play`;\r\n}\r\n\r\nclass Game extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        const game = new Chess(this.props.position);\r\n        const conf = config.gameOver;\r\n\r\n        this.state = {\r\n            config: Object.assign({}, conf, {\r\n                position: this.props.position || 'start'\r\n            }),\r\n            game,\r\n            gameOver: false,\r\n            decisive: false,\r\n            moves: [],\r\n            started: false,\r\n            winner: ''\r\n        };\r\n        this.instructions = this.props.instructions;\r\n    }\r\n    isHumanTurn = (turn) => {\r\n        return this.props.players[turn] === 'hu';\r\n    }\r\n    getMessage = () => {\r\n      if (!this.state.started) {\r\n        return this.state.decisive\r\n          ? getResultMessage(this.state.winner)\r\n          : this.instructions\r\n      } else {\r\n        return getTurnMessage(this.state.game.turn())\r\n      }\r\n    }\r\n    render () {\r\n        return (\r\n          <div className={styles.boardContainer}>\r\n            <ChessmoveSound key={Date.now()} type={this.state.sound}/>\r\n            <Link to={this.props.getHomeLink()}\r\n              className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n              Exit\r\n            </Link>\r\n            <div className={styles.header}>\r\n              <div className={styles.banner}>\r\n                {this.props.name}\r\n              </div>\r\n              <div className={styles.bannerAvatar}>\r\n                <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n              </div>\r\n            </div>\r\n            <div className={styles.body}>\r\n              <div className={styles.chessBoard}>\r\n                <div className={styles.leftRow}>\r\n                  {\r\n                    [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                      <div className={styles.rank}>\r\n                        {num}\r\n                      </div>\r\n                    )\r\n                  }\r\n                </div>\r\n                <div className={styles.properBoardContainer}>\r\n                  <Chessboard {...this.state.config}\r\n                      boardId= {this.props.boardId}\r\n                      game = {this.state.game}\r\n                      switchTurn={this.switchTurn}\r\n                      delay={200} />\r\n                  <div className={styles.bottomRow}>\r\n                    {\r\n                      ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                        .map(letter =>\r\n                          <div className={styles.file}>\r\n                            {letter}\r\n                          </div>\r\n                        )\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={styles.feedback}>\r\n                <Instructions instructions={this.getMessage()}/>\r\n                {\r\n                  this.state.started !== true && !this.state.decisive &&\r\n                    <button onClick={this.startGame}\r\n                      className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}>\r\n                      New Game\r\n                    </button>\r\n                }\r\n                {\r\n                  this.state.decisive &&\r\n                    <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                      to={this.props.getHomeLink()}>\r\n                      Back to activities\r\n                    </Link>\r\n                }\r\n                {\r\n                  this.state.started && !this.state.decisive &&\r\n                  <button onClick={this.resignGame.bind(this, this.getAiColor())}\r\n                    className={`${buttonStyles.primaryBtn} ${styles.failBtn}`}>\r\n                    Resign Game\r\n                  </button>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n\r\n    getConf = (game) => {\r\n        return config[this.props.players[game.turn()]];\r\n    }\r\n\r\n    drawGame = (sound) => {\r\n        if (this.props.drawCondition) {\r\n          this.props.onComplete();\r\n        }\r\n        this.setState({\r\n            decisive: true,\r\n            started: false,\r\n            gameOver: true,\r\n            config: config.gameOver,\r\n            moves: [],\r\n            sound: sound || ''\r\n        });\r\n    }\r\n    getAiColor = () => {\r\n      return Object.keys(this.props.players)\r\n        .map(color => ({color, agent: this.props.players[color]}))\r\n        .find(player => player.agent === 'ai')\r\n        .color;\r\n    }\r\n    resignGame = (winningPlayer, sound) => {\r\n        const winner = winningPlayer ||\r\n          (this.state.game.turn() === 'w' ? 'b' : 'w');\r\n        if (this.props.players[winner] === 'hu') {\r\n          this.props.onComplete();\r\n        }\r\n        this.setState({\r\n            decisive: true,\r\n            started: false,\r\n            gameOver: true,\r\n            config: config.gameOver,\r\n            winner,\r\n            moves: [],\r\n            sound: sound || ''\r\n        });\r\n    }\r\n\r\n    startGame = () => {\r\n        const game = new Chess(this.props.position);\r\n        this.setState(prevState => {\r\n            return {\r\n                started: true,\r\n                game: game,\r\n                gameOver: false,\r\n                config: Object.assign({}, this.getConf(game), {\r\n                    position: this.props.position || 'start'\r\n                })\r\n            };\r\n        });\r\n    }\r\n\r\n    switchTurn = () => {\r\n        let sound = 'normal'\r\n        const lastMove = this.state.game.history({verbose: true}).slice(-1)[0]\r\n        if (this.state.game.in_check() || this.state.game.in_checkmate()) {\r\n          sound = 'check'\r\n        } else if ('captured' in lastMove) {\r\n          sound = 'capture'\r\n        }\r\n\r\n        if (this.state.game.game_over()) {\r\n            let endGame = this.state.game.in_checkmate()\r\n                ? this.resignGame.bind(this, null, sound)\r\n                : this.drawGame.bind(this, sound);\r\n\r\n            endGame();\r\n            return;\r\n        }\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                config: this.getConf(prevState.game),\r\n                moves: parseMoves(prevState.game.history({verbose: true})),\r\n                sound\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nGame.propTypes = {\r\n    players: PropTypes.object\r\n};\r\n\r\nGame.defaultProps = {\r\n    players: {\r\n        w: 'hu',\r\n        b: 'ai'\r\n    }\r\n};\r\n\r\nexport default Game;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Game/game.js","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport {difference} from 'lodash/fp'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Chessboard from '../Chessboard/Chessboard'\r\nimport ChessmoveSound from 'common/components/ChessmoveSound'\r\nimport Instructions from 'board/components/Instructions'\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\nimport highlightStyles from './styles.css'\r\n\r\nclass HighlightPuzzle extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      selected: [],\r\n      missing: [],\r\n      wrong: [],\r\n      gameOver: false,\r\n      sound: ''\r\n    }\r\n  }\r\n  handleSquareClick = square => {\r\n    this.setState(prevState => {\r\n      const idx = prevState.selected.indexOf(square)\r\n      const selected = prevState.selected\r\n      let sound = ''\r\n      if (idx > -1) {\r\n        selected.splice(idx, 1)\r\n        this.refs.chessboard.unHighlightSquare(square)\r\n      } else {\r\n        selected.push(square)\r\n        this.refs.chessboard.highlightSquare(square)\r\n        if (this.props.solution.indexOf(square) > -1) {\r\n          sound = 'success';\r\n        } else {\r\n          sound = 'error';\r\n        }\r\n      }\r\n      const missing = difference(this.props.solution, selected)\r\n      const wrong = difference(selected, this.props.solution)\r\n      return {\r\n        selected,\r\n        missing,\r\n        wrong,\r\n        gameOver: (missing.length + wrong.length) === 0,\r\n        sound\r\n      }\r\n    })\r\n  }\r\n  getMessage = () => {\r\n    if (this.state.gameOver) {\r\n      this.props.onComplete()\r\n      return 'Puzzle solved!'\r\n    } else {\r\n      return this.props.instructions || 'Click the squares to win'\r\n    }\r\n  }\r\n  getProgressUpdate = () => {\r\n    return (\r\n      <div style={{fontSize: '18px'}}>\r\n        <p>You have selected\r\n          <span style={{color: '#5cb85c'}}> {this.state.selected.length - this.state.wrong.length} </span>\r\n          correct squares out of {this.props.solution.length}\r\n        </p>\r\n        {\r\n          this.state.wrong.length > 0 &&\r\n          <p>\r\n            You have selected <span style={{color: '#f44336'}}> {this.state.wrong.length} </span> incorrect square(s)!\r\n          </p>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.boardContainer}>\r\n        {\r\n          this.state.sound !== '' &&\r\n            <ChessmoveSound key={Date.now()} type={this.state.sound}/>\r\n        }\r\n        <Link to={this.props.getHomeLink()}\r\n          className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n          Exit\r\n        </Link>\r\n        <div className={styles.header}>\r\n          <div className={styles.banner}>\r\n            {this.props.name}\r\n          </div>\r\n          <div className={styles.bannerAvatar}>\r\n            <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n          </div>\r\n        </div>\r\n        <div className={styles.body}>\r\n          <div className={styles.chessBoard}>\r\n            <div className={styles.leftRow}>\r\n              {\r\n                [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                  <div className={styles.rank}>\r\n                    {num}\r\n                  </div>\r\n                )\r\n              }\r\n            </div>\r\n            <div className={styles.properBoardContainer}>\r\n              <Chessboard boardId={this.props.boardId}\r\n                position={this.props.position}\r\n                draggable={false}\r\n                handleSquareClick={this.state.gameOver\r\n                  ? null\r\n                  : this.handleSquareClick\r\n                }\r\n                ref=\"chessboard\"\r\n                delay={200} />\r\n              <div className={styles.bottomRow}>\r\n                {\r\n                  ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                    .map(letter =>\r\n                      <div className={styles.file}>\r\n                        {letter}\r\n                      </div>\r\n                    )\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={styles.feedback}>\r\n            <Instructions instructions={this.getMessage()}/>\r\n            {\r\n              !this.state.gameOver &&\r\n                this.getProgressUpdate()\r\n            }\r\n            {\r\n              this.state.gameOver &&\r\n                <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                  to={this.props.getHomeLink()}>\r\n                  Back to activities\r\n                </Link>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HighlightPuzzle\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/HighlightPuzzle/index.js","import ChessBoard from 'board/components/Chessboard/chessboardjs/chessboard';\r\n\r\nconst position= '2bqkbn1/2pppp2/np2N3/r3P1p1/p2N2B1/5Q2/PPPPKPP1/RNB2r2';\r\n\r\nconst isPromotion = (piece, target) => {\r\n  return piece[1] === 'P' &&\r\n    (target[1] === '1' || target[1] === '8')\r\n}\r\n\r\nconst isCastle = (piece, source, target) => {\r\n  const isKing = piece[1] === 'K'\r\n  if (!isKing) {\r\n    return false;\r\n  }\r\n  const color = piece[0]\r\n  if (color === 'w') {\r\n    return (source === 'e1' && target === 'g1') ||\r\n      (source === 'e1' && target === 'c1')\r\n  } else {\r\n    return (source === 'e8' && target === 'g8') ||\r\n      (source === 'e8' && target === 'c8')\r\n  }\r\n}\r\n\r\nconst homework = {\r\n    position,\r\n    conf: {\r\n        ai: {\r\n            draggable: false,\r\n            onStart: function () {\r\n                const move = this.props.solution[this.props.level - 1];\r\n\r\n                this.makeMove(move)\r\n                    .then(this.props.switchTurn.bind(null, true));\r\n            }\r\n        },\r\n        hu: {\r\n            draggable: true,\r\n            onDrop\r\n        },\r\n        gameOver: {\r\n            draggable: false\r\n        }\r\n    }\r\n};\r\n\r\nfunction onDrop (source, target, piece, newPos, oldPos) {\r\n    const move = `${source}-${target}`;\r\n    const isCorrect = this.props.solution[this.props.level - 1] === move;\r\n    let moveType = 'normal'\r\n    this.setConfig({\r\n        draggable: false\r\n    });\r\n    if (isPromotion(piece, target)) {\r\n      newPos[target] = `${piece[0]}Q`\r\n      moveType = 'promote'\r\n    }\r\n    if (target in oldPos) {\r\n      moveType = 'capture'\r\n    }\r\n    if (isCorrect && isCastle(piece, source, target)) {\r\n      if (piece[0] === 'w') {\r\n        if (target === 'c1') {\r\n          newPos['d1'] = 'wR'\r\n          delete newPos['a1']\r\n        } else {\r\n          newPos['f1'] = 'wR'\r\n          delete newPos['h1']\r\n        }\r\n      } else {\r\n        if (target === 'c8') {\r\n          newPos['d8'] = 'bR'\r\n          delete newPos['a8']\r\n        } else {\r\n          newPos['f8'] = 'bR'\r\n          delete newPos['h8']\r\n        }\r\n      }\r\n    }\r\n    this.props.switchTurn(isCorrect,\r\n      ChessBoard.objToFen(isCorrect ? newPos : oldPos), moveType);\r\n}\r\n\r\nexport default homework;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Homework/config.js","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Chessboard from '../Chessboard/Chessboard'\r\nimport ChessmoveSound from 'common/components/ChessmoveSound'\r\nimport Instructions from 'board/components/Instructions'\r\nimport config from './config';\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\n\r\nclass Homework extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            aiTurn: false,\r\n            config: Object.assign({}, config.conf.hu, {\r\n                position: this.props.puzzles[0].position\r\n            }),\r\n            solution: this.props.puzzles[0].solution,\r\n            level: 1,\r\n            started: false,\r\n            gameOver: false,\r\n            rightMove: false,\r\n            instructions: this.props.puzzles[0].instructions,\r\n            puzzleNumber: 0,\r\n            puzzles: this.props.puzzles,\r\n            sound: ''\r\n        };\r\n    }\r\n\r\n    getMessage = () => {\r\n      if (this.state.gameOver) {\r\n          return 'Puzzle Solved!';\r\n      }\r\n\r\n      if (!this.state.started) {\r\n          return this.state.instructions;\r\n      }\r\n\r\n      if (this.state.rightMove) {\r\n          return 'Best move! Keep going...';\r\n      } else {\r\n          return 'Wrong move! Try again';\r\n      }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n          <div className={styles.boardContainer}>\r\n            {\r\n              this.state.sound !== '' &&\r\n                <ChessmoveSound key={Date.now()} type={this.state.sound}/>\r\n            }\r\n            <Link to={this.props.getHomeLink()}\r\n              className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n              Exit\r\n            </Link>\r\n            <div className={styles.header}>\r\n              <div className={styles.banner}>\r\n                {this.props.name}\r\n              </div>\r\n              <div className={styles.bannerAvatar}>\r\n                <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n              </div>\r\n            </div>\r\n            <div className={styles.body}>\r\n              <div className={styles.chessBoard}>\r\n                <div className={styles.leftRow}>\r\n                  {\r\n                    [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                      <div className={styles.rank}>\r\n                        {num}\r\n                      </div>\r\n                    )\r\n                  }\r\n                </div>\r\n                <div className={styles.properBoardContainer}>\r\n                  <Chessboard {...this.state.config}\r\n                    boardId= {this.props.boardId}\r\n                    solution={this.state.solution}\r\n                    level={this.state.level}\r\n                    switchTurn={this.switchTurn.bind(this)}\r\n                    ref=\"chessboard\"\r\n                    delay={200} />\r\n                  <div className={styles.bottomRow}>\r\n                    {\r\n                      ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                        .map(letter =>\r\n                          <div className={styles.file}>\r\n                            {letter}\r\n                          </div>\r\n                        )\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={styles.feedback}>\r\n                <Instructions instructions={this.getMessage()}/>\r\n                {this.state.gameOver && this.isThereAnotherPuzzle() &&\r\n                    <button onClick={this.nextPuzzle}\r\n                      className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}>\r\n                      Next puzzle\r\n                    </button>\r\n                }\r\n                {this.state.gameOver && !(this.isThereAnotherPuzzle()) &&\r\n                  <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                    to={this.props.getHomeLink()}>\r\n                    Back to activities\r\n                  </Link>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n    }\r\n\r\n    isThereAnotherPuzzle = () => {\r\n        return this.state.puzzleNumber + 1 < this.props.puzzles.length;\r\n    }\r\n\r\n    nextPuzzle = () => {\r\n        this.setState(prevState => {\r\n            return {\r\n                config: Object.assign({}, config.conf.hu, {\r\n                  position: this.props.puzzles[prevState.puzzleNumber + 1].position\r\n                }),\r\n                solution: this.props.puzzles[prevState.puzzleNumber + 1].solution,\r\n                level: 1,\r\n                gameOver: false,\r\n                rightMove: false,\r\n                started: false,\r\n                instructions: this.props.puzzles[prevState.puzzleNumber + 1].instructions,\r\n                puzzleNumber: prevState.puzzleNumber + 1,\r\n                sound: ''\r\n            };\r\n        });\r\n    }\r\n\r\n    switchTurn (isCorrect, position, sound) {\r\n        if (isCorrect && this.state.level === this.state.solution.length) {\r\n            this.setState(prevState => {\r\n                return {\r\n                    config: Object.assign({}, config.conf.gameOver, {position}),\r\n                    gameOver: true,\r\n                    sound\r\n                };\r\n            });\r\n            if (this.state.puzzleNumber === this.props.puzzles.length - 1) {\r\n              this.props.onComplete();\r\n            }\r\n            return;\r\n        }\r\n        let newConf;\r\n\r\n        if (this.state.aiTurn) {\r\n            newConf = config.conf.hu;\r\n        } else {\r\n            if (isCorrect) {\r\n                newConf = config.conf.ai;\r\n            } else {\r\n                newConf = Object.assign({}, config.conf.hu, {\r\n                    position\r\n                });\r\n            }\r\n        }\r\n\r\n        this.setState(prevState => {\r\n            return {\r\n                config: newConf,\r\n                aiTurn: isCorrect ? !prevState.aiTurn : prevState.aiTurn,\r\n                level: prevState.level + (isCorrect ? 1 : 0),\r\n                rightMove: isCorrect,\r\n                started: true,\r\n                sound\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nexport default Homework;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Homework/homework.js","const maze = {\r\n    conf: {\r\n        hu: {\r\n            draggable: true,\r\n            onDrop\r\n        },\r\n        gameOver: {\r\n            draggable: false\r\n        }\r\n    }\r\n};\r\n\r\nfunction onDrop (source, target, piece, newPos, oldPos) {\r\n    const move = `${source}-${target}`;\r\n    const isCorrect = this.props.solution[this.props.level - 1] === move;\r\n    let sound = ''\r\n    this.setConfig({\r\n        draggable: false\r\n    });\r\n    if (isCorrect) {\r\n      sound = target in oldPos\r\n        ? 'capture'\r\n        : 'normal'\r\n    }\r\n    this.props.switchTurn(isCorrect, this.board.fen(), sound);\r\n}\r\n\r\nexport default maze;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Maze/config.js","import React from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Chessboard from '../Chessboard/Chessboard'\r\nimport ChessmoveSound from 'common/components/ChessmoveSound'\r\nimport Instructions from 'board/components/Instructions'\r\nimport config from './config';\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\n\r\nclass Maze extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            config: Object.assign({}, config.conf.hu, {\r\n              position: this.props.position\r\n            }),\r\n            solution: this.props.solution,\r\n            level: 1,\r\n            started: false,\r\n            gameOver: false,\r\n            rightMove: false,\r\n            instructions: this.props.instructions,\r\n            sound: ''\r\n        };\r\n    }\r\n\r\n    getMessage = () => {\r\n      if (this.state.gameOver) {\r\n          return 'Puzzle Solved!';\r\n      }\r\n\r\n      if (!this.state.started) {\r\n          return this.props.instructions;\r\n      }\r\n\r\n      if (this.state.rightMove) {\r\n          return 'Best move! Keep going...';\r\n      } else {\r\n          return 'Wrong move! Try again';\r\n      }\r\n    }\r\n    render () {\r\n        return (\r\n          <div className={styles.boardContainer}>\r\n            <ChessmoveSound key={Date.now()} type={this.state.sound}/>\r\n            <Link to={this.props.getHomeLink()}\r\n              className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n              Exit\r\n            </Link>\r\n            <div className={styles.header}>\r\n              <div className={styles.banner}>\r\n                {this.props.name}\r\n              </div>\r\n              <div className={styles.bannerAvatar}>\r\n                <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n              </div>\r\n            </div>\r\n            <div className={styles.body}>\r\n              <div className={styles.chessBoard}>\r\n                <div className={styles.leftRow}>\r\n                  {\r\n                    [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                      <div className={styles.rank}>\r\n                        {num}\r\n                      </div>\r\n                    )\r\n                  }\r\n                </div>\r\n                <div className={styles.properBoardContainer}>\r\n                <Chessboard {...this.state.config}\r\n                    boardId= {this.props.boardId}\r\n                    solution={this.state.solution}\r\n                    level={this.state.level}\r\n                    switchTurn={this.switchTurn.bind(this)}\r\n                    delay={200} />\r\n                  <div className={styles.bottomRow}>\r\n                    {\r\n                      ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                        .map(letter =>\r\n                          <div className={styles.file}>\r\n                            {letter}\r\n                          </div>\r\n                        )\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={styles.feedback}>\r\n                <Instructions instructions={this.getMessage()}/>\r\n                {this.state.gameOver &&\r\n                  <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                    to={this.props.getHomeLink()}>\r\n                    Back to activities\r\n                  </Link>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n\r\n    switchTurn (isCorrect, position, sound) {\r\n        if (isCorrect && this.state.level === this.state.solution.length) {\r\n            this.props.onComplete();\r\n            this.setState(prevState => {\r\n                return {\r\n                    config: config.conf.gameOver,\r\n                    gameOver: true,\r\n                    sound\r\n                };\r\n            });\r\n            return;\r\n        }\r\n\r\n        let newConf = config.conf.hu;\r\n        if (!isCorrect) {\r\n            newConf = Object.assign({}, config.conf.hu, {\r\n                position\r\n            });\r\n        }\r\n\r\n        this.setState((prevState) => {\r\n            return {\r\n                config: newConf,\r\n                level: prevState.level + (isCorrect ? 1 : 0),\r\n                rightMove: isCorrect,\r\n                started: true,\r\n                sound\r\n            };\r\n        });\r\n    }\r\n}\r\n\r\nexport default Maze;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Maze/maze.js","/*\r\n* specifically, take a verbose history array from chessjs and convert it\r\n* into an array of move ojects suitable for movelist component\r\n*/\r\nexport function parseMoves (history, startIdx=1) {\r\n    let blackFirst = 0;\r\n    return history.reduce((moves, move, idx, hist) => {\r\n        if (idx === 0 && move.color === 'b') {\r\n            moves.push({\r\n                num: startIdx,\r\n                b: move.san\r\n            });\r\n            blackFirst = 1;\r\n        } else if (move.color === 'w') {\r\n            let b = hist[idx + 1] || {};\r\n            moves.push({\r\n                num: ((idx - blackFirst) / 2) + startIdx,\r\n                w: move.san,\r\n                b: b.san\r\n            });\r\n        }\r\n        return moves;\r\n    }, []);\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Movelist/util/move-helper.js","const position = '8/k7/1qb5/b7/8/8/8/8 b - - 0 40';\r\nconst artifacts = 'b - - 0 40';\r\nconst instructions = `Rules: Capture and eliminate all but one piece\r\nusing only moves allowed in traditional chess. You must capture a\r\npiece with every move.`;\r\n\r\nconst solitaire = {\r\n    artifacts,\r\n    position,\r\n    instructions,\r\n    conf: {\r\n        gameOver: {\r\n            draggable: false\r\n        },\r\n        hu: {\r\n            draggable: true,\r\n            onDrop,\r\n            onSnapEnd\r\n        }\r\n    }\r\n};\r\n\r\nfunction onDrop (source, target) {\r\n    const options = {\r\n        legal: false,\r\n        them: this.props.color,\r\n        us: this.props.color\r\n    };\r\n    const pieceSquares = this.board.position();\r\n    let isSolved;\r\n    let move;\r\n\r\n    if (!(target in pieceSquares)) {\r\n        return 'snapback';\r\n    }\r\n\r\n    move = this.props.game.move({\r\n        from: source,\r\n        to: target\r\n    }, options);\r\n\r\n    isSolved = move && Object.keys(pieceSquares).length === 2;\r\n    setTimeout(this.props.switchTurn.bind(null, isSolved), 200);\r\n}\r\n\r\nfunction onSnapEnd () {\r\n    this.board.position(this.props.game.fen());\r\n}\r\n\r\nexport default solitaire;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Solitaire/config.js","import React, {PropTypes} from 'react';\r\nimport Chess from 'chess.js';\r\nimport {Link} from 'react-router-dom'\r\nimport Avatar from 'common/components/Avatar'\r\nimport Chessboard from '../Chessboard/Chessboard';\r\nimport Instructions from 'board/components/Instructions'\r\nimport config from './config.js';\r\nimport solitaireStyles from './solitaire.css';\r\nimport styles from 'board/styles.css'\r\nimport buttonStyles from 'common/themes/button.css'\r\n\r\nclass Solitaire extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        const conf = config.conf.gameOver;\r\n        this.state = {\r\n            config: Object.assign({}, conf, {\r\n                position: this.props.position\r\n            }),\r\n            started: false,\r\n            gameOver: false,\r\n            instructions: config.instructions\r\n        };\r\n    }\r\n    render () {\r\n        return (\r\n          <div className={styles.boardContainer}>\r\n            <Link to={this.props.getHomeLink()}\r\n              className={`${buttonStyles.primaryBtn} ${styles.exitBtn}`}>\r\n              Exit\r\n            </Link>\r\n            <div className={styles.header}>\r\n              <div className={styles.banner}>\r\n                {this.props.name}\r\n              </div>\r\n              <div className={styles.bannerAvatar}>\r\n                <Avatar src={`/assets/avatars/${this.props.courseName}-avatar.png`}/>\r\n              </div>\r\n            </div>\r\n            <div className={styles.body}>\r\n              <div className={styles.chessBoard}>\r\n                <div className={styles.leftRow}>\r\n                  {\r\n                    [8, 7, 6, 5, 4, 3, 2, 1].map(num =>\r\n                      <div className={styles.rank}>\r\n                        {num}\r\n                      </div>\r\n                    )\r\n                  }\r\n                </div>\r\n                <div className={styles.properBoardContainer}>\r\n                  <div style={{width: '446px', height: '446px', overflow: 'hidden'}}>\r\n                    <Chessboard {...this.state.config}\r\n                        boardId={this.props.boardId}\r\n                        boardContainer={solitaireStyles.solitaireBoard}\r\n                        game={this.state.game}\r\n                        switchTurn={this.switchTurn}\r\n                        color={this.props.color} />\r\n                  </div>\r\n                  <div className={styles.bottomRow}>\r\n                    {\r\n                      ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h']\r\n                        .map(letter =>\r\n                          <div className={styles.file}>\r\n                            {letter}\r\n                          </div>\r\n                        )\r\n                    }\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={styles.feedback}>\r\n                <Instructions instructions={this.state.instructions}/>\r\n                {!this.state.gameOver &&\r\n                    <button className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                      type=\"button\" onClick={this.startGame}>\r\n                        {this.state.started ? 'Restart' : 'Start'}\r\n                    </button>\r\n                }\r\n                {this.state.gameOver &&\r\n                  <Link className={`${buttonStyles.primaryBtn} ${styles.successBtn}`}\r\n                    to={this.props.getHomeLink()}>\r\n                    Back to activities\r\n                  </Link>\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )\r\n    }\r\n\r\n    startGame = () => {\r\n        const conf = config.conf.hu;\r\n        const game = new Chess(this.props.position);\r\n        this.setState({\r\n            config: Object.assign({}, conf, {\r\n                position: this.props.position\r\n            }),\r\n            started: true,\r\n            instructions: 'Remember, the only legal moves are piece captures!',\r\n            game\r\n        });\r\n    }\r\n\r\n    endGame = () => {\r\n        const conf = config.conf.gameOver\r\n        this.setState({\r\n            gameOver: true,\r\n            config: conf,\r\n            instructions: 'Puzzle solved!'\r\n        });\r\n        this.props.onComplete()\r\n    }\r\n\r\n    switchTurn = (isSolved) => {\r\n        if (isSolved) {\r\n            this.endGame();\r\n            return;\r\n        }\r\n\r\n        const position = `${this.state.game.fen().split(' ')[0]} ${config.artifacts}`;\r\n        const conf = config.conf.hu;\r\n\r\n        this.setState({\r\n            config: conf,\r\n            game: new Chess(position)\r\n        });\r\n    }\r\n};\r\n\r\nSolitaire.propTypes = {\r\n    color: PropTypes.string,\r\n    position: PropTypes.string\r\n};\r\n\r\nSolitaire.defaultProps = {\r\n    color: 'w',\r\n    position: config.position\r\n};\r\n\r\nexport default Solitaire;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/components/Solitaire/solitaire.js","//const enginePath = './src/lib/stockfish.js';\r\nconst enginePath = '/build/stockfish.js'\r\nconst engine = new Worker(enginePath);\r\n\r\nconst defaults = {\r\n    //'Contempt': 0,\r\n    //'Skill Level': 0,\r\n    //'Skill Level Maximum Error': 100,\r\n    //'King Safety': 100,\r\n    //'Space': 100\r\n};\r\n\r\nlet initialized = false;\r\n\r\nexport function getMove (fen, options = defaults) {\r\n    return init()\r\n        .then(() => {\r\n            return new Promise((resolve) => {\r\n                engine.onmessage = ({data}) => {\r\n                    if (data.indexOf('bestmove') > -1) {\r\n                        resolve(data.split(' ')[1]);\r\n                    }\r\n                };\r\n                setOptions(options);\r\n                send(`position fen ${fen}`);\r\n                send('go movetime 1000');\r\n            });\r\n        });\r\n}\r\n\r\nexport function getScore (fen) {\r\n    return init()\r\n        .then(() => {\r\n            return new Promise((resolve) => {\r\n                engine.onmessage = ({data}) => {\r\n                    if (data.indexOf('Evaluation') > -1) {\r\n                        resolve(data.split(' ')[2]);\r\n                    }\r\n                };\r\n                send(`position fen ${fen}`);\r\n                send('eval');\r\n            });\r\n        });\r\n}\r\n\r\nfunction init () {\r\n    return initialized\r\n        ? Promise.resolve('uciok')\r\n        : new Promise((resolve) => {\r\n            engine.onmessage = ({data}) => {\r\n                if (data === 'uciok') {\r\n                    initialized = true;\r\n                    resolve(data);\r\n                }\r\n            };\r\n            send('uci');\r\n        });\r\n}\r\n\r\nfunction setOptions (options) {\r\n    Object.keys(options).forEach(option => {\r\n        send(`setoption name ${option} value ${options[option]}`);\r\n    });\r\n}\r\n\r\nfunction send (str) {\r\n    engine.postMessage(str);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/board/engine/chess_engine.js","import axios from 'axios'\r\nimport React from 'react'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport styles from 'common/themes/form.css'\r\nimport layoutStyles from 'common/themes/layout.css'\r\nimport validationStyles from 'common/themes/validation.css'\r\n\r\nclass ForgotPassword extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      error: '',\r\n      username: '',\r\n      success: '',\r\n      loading: false\r\n    }\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    const {username} = this.state\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    axios.post('/api/forgot-password', {username})\r\n      .then(() => {\r\n        this.setState({\r\n          error: '',\r\n          username: '',\r\n          success: `A password reset link has been sent to your email address.  Please check your email and follow the instructions to reset your password.`\r\n        })\r\n      })\r\n      .catch(error => {\r\n        this.setState({\r\n          loading: false,\r\n          success: '',\r\n          error: getErrorMessage(error) || 'Could not send password reset link.  Please contact info@chesswithmrs.com for assistance'\r\n        })\r\n      })\r\n  }\r\n  handleUserNameChange = event => {\r\n    this.setState({\r\n      username: event.target.value\r\n    })\r\n  }\r\n  render () {\r\n    const hideAutoFillColorStyle = {\r\n        WebkitBoxShadow: '0 0 0 1000px white inset'\r\n    }\r\n    const hintStyle = {\r\n      zIndex: '1',\r\n      pointerEvents: 'none'\r\n    }\r\n    return (\r\n      <div style={{padding: '50px'}}>\r\n        <form style={{width: '400px', fontSize: '16px'}}\r\n          onSubmit={this.handleSubmit}>\r\n          <h1>Forgot Password</h1>\r\n          {\r\n            this.state.error &&\r\n              <p className={validationStyles.requestError}>\r\n                {this.state.error}\r\n              </p>\r\n          }\r\n          {\r\n            this.state.success &&\r\n              <p className={validationStyles.requestSuccess}>\r\n                {this.state.success}\r\n              </p>\r\n          }\r\n          <div>\r\n            <TextField hintText=\"Enter your username\"\r\n              type=\"text\"\r\n              required\r\n              value={this.state.username}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleUserNameChange} />\r\n          </div>\r\n          <RaisedButton type=\"submit\"\r\n            primary={true}\r\n            disabled={this.state.loading}\r\n            label='Submit'/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ForgotPassword\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/ForgotPassword/index.js","import React from 'react'\r\nimport LocationMap from './LocationMap'\r\nimport styles from './styles.css'\r\n\r\nconst apiKey = `AIzaSyB9fW7cIm3FfJzJ8ozLGc1gp0xnDtICNi8`\r\nconst googleMapURL = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&v=3.exp&libraries=geometry,drawing,places`\r\n\r\nexport default props => {\r\n  return (\r\n    <section className={styles.location}>\r\n      <section className={styles.info}>\r\n        <h3>{props.name}</h3>\r\n        <p>{props.address}</p>\r\n        <p>{`${props.city}, ${props.province}`}</p>\r\n        <p>{props.postalCode}</p>\r\n      </section>\r\n      <section className={styles.gMap}>\r\n        <LocationMap isMarkerShown={true}\r\n          lat={props.lat}\r\n          lng={props.lng}\r\n          defaultZoom={15}\r\n          loadingElement={<div style={{height: '100%'}} />}\r\n          containerElement={<div style={{height: '400px'}} />}\r\n          mapElement={<div style={{height: '100%'}} />}\r\n          googleMapURL={googleMapURL}\r\n          />\r\n      </section>\r\n    </section>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Location/index.js","import axios from 'axios'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport React from 'react'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport styles from 'common/themes/form.css'\r\nimport layoutStyles from 'common/themes/layout.css'\r\nimport validationStyles from 'common/themes/validation.css'\r\n\r\nclass ResetPassword extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      error: '',\r\n      success: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      id: this.props.match.params.id,\r\n      loading: false,\r\n      invalid: false\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    axios.get(`/api/reset-password/${this.state.id}`)\r\n      .catch(err => {\r\n        this.setState({\r\n          error: `This password reset link is either invalid or expired.\r\n            Click on the button below to try again`,\r\n          loading: true,\r\n          invalid: true\r\n        })\r\n      })\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    if (this.state.password !== this.state.confirmPassword) {\r\n      this.setState({\r\n        success: '',\r\n        error: 'Password and confirm password are not matching',\r\n        confirmPassword: ''\r\n      })\r\n      return\r\n    }\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    return axios.post('/api/reset-password', {\r\n      id: this.state.id,\r\n      password: this.state.password\r\n    })\r\n    .then(() => {\r\n      this.setState({\r\n        success: 'Your password has been successfully updated',\r\n        error: ''\r\n      })\r\n    })\r\n    .catch(err => {\r\n      this.setState({\r\n        error: (getErrorMessage(err) ||\r\n        `Could not reset your password.  Please try again or contact\r\n          info@chesswithmrs.com for assistance`),\r\n        success: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n        loading: false\r\n      })\r\n    })\r\n  }\r\n  handlePasswordChange = event => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n  handleConfirmPasswordChange = event => {\r\n    this.setState({\r\n      confirmPassword: event.target.value\r\n    })\r\n  }\r\n  render () {\r\n    const hideAutoFillColorStyle = {\r\n        WebkitBoxShadow: '0 0 0 1000px white inset'\r\n    }\r\n    const hintStyle = {\r\n      zIndex: '1',\r\n      pointerEvents: 'none'\r\n    }\r\n    if (this.state.invalid) {\r\n      return (\r\n        <div style={{width: '400px', fontSize: '16px', padding: '50px'}}>\r\n          <p>{this.state.error}</p>\r\n          <Link to=\"/forgot-password\">\r\n            Forgot password\r\n          </Link>\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div style={{padding: '50px'}}>\r\n        <form style={{width: '400px', fontSize: '16px'}}\r\n          onSubmit={this.handleSubmit}>\r\n          <h1>Reset Password</h1>\r\n          {\r\n            this.state.error &&\r\n              <p className={validationStyles.requestError}>\r\n                {this.state.error}\r\n              </p>\r\n          }\r\n          {\r\n            this.state.success &&\r\n              <p className={validationStyles.requestSuccess}>\r\n                {this.state.success}\r\n              </p>\r\n          }\r\n          <div>\r\n            <TextField hintText=\"Enter your password\"\r\n              type=\"password\"\r\n              required\r\n              value={this.state.password}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handlePasswordChange} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Confirm your password\"\r\n              type=\"password\"\r\n              required\r\n              value={this.state.confirmPassword}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleConfirmPasswordChange} />\r\n          </div>\r\n          <RaisedButton type=\"submit\"\r\n            primary={true}\r\n            disabled={this.state.loading}\r\n            label='Submit'/>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ResetPassword)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/ResetPassword/index.js","import React from 'react'\r\n\r\nexport default props => {\r\n  return (\r\n    <div>\r\n      <span>{props.name}</span><br />\r\n      <span>{props.address}</span><br />\r\n      <span>{props.phone}</span>\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/School.js","import React from 'react'\r\n\r\nexport default props => {\r\n  return (\r\n    <div>\r\n      <p>{`${props.lastName}, ${props.firstName}`}</p>\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/components/Teacher.js","import sessionReducer from './session'\r\nimport userReducer from './user'\r\n\r\nexport default {\r\n  session: sessionReducer,\r\n  user: userReducer\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/reducers/index.js","import {\r\n  CHECK_SESSION,\r\n  SESSION_START,\r\n  SESSION_END,\r\n  SESSION_START_FAILED\r\n} from 'common/actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  checkingSession: true,\r\n  hasSession: false,\r\n  sessionError: '',\r\n  sessionType: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SESSION_START:\r\n      return {\r\n        checkingSession: false,\r\n        hasSession: true,\r\n        sessionError: '',\r\n        sessionType: action.payload\r\n      }\r\n    case SESSION_END:\r\n      return {\r\n        checkingSession: false,\r\n        hasSession: false,\r\n        sessionError: '',\r\n        sessionType: ''\r\n      }\r\n    case SESSION_START_FAILED:\r\n      return {\r\n        checkingSession: false,\r\n        hasSession: false,\r\n        sessionError: action.payload,\r\n        sessionType: ''\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/reducers/session.js","import {\r\n  CLEAR_USER,\r\n  SET_USER\r\n} from 'common/actions/types'\r\n\r\nconst INITIAL_STATE = {}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SET_USER:\r\n      return Object.assign({}, state, action.payload)\r\n    case CLEAR_USER:\r\n      return {}\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/reducers/user.js","export const capitalize = str => str.slice(0, 1).toUpperCase() + str.slice(1)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/util/batman.js","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport store from 'store'\r\nimport App from './App'\r\nimport {checkSession} from 'common/actions/session'\r\nimport injectTapEventPlugin from 'react-tap-event-plugin'\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\r\nimport getMuiTheme from 'material-ui/styles/getMuiTheme'\r\nwindow.__forceSmoothScrollPolyfill__ = true\r\nrequire('smoothscroll-polyfill').polyfill()\r\n\r\nimport 'basscss/css/basscss.min.css'\r\nimport 'sanitize.css'\r\nimport './app.css'\r\n\r\nconst muiTheme = getMuiTheme({\r\n  fontFamily: 'Nunito, sans-serif',\r\n  palette: {\r\n    primary1Color: '#007ec6',\r\n    primary2Color: '#007ec6',\r\n    secondary1Color: '#2c3e50'\r\n  }\r\n})\r\n\r\ninjectTapEventPlugin()\r\nstore.dispatch(checkSession())\r\n\r\nReactDOM.render(\r\n  <MuiThemeProvider muiTheme={muiTheme}>\r\n    <App store={store}/>\r\n  </MuiThemeProvider>,\r\n  document.getElementById('root')\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {adminLogin} from 'common/actions/session'\r\nimport Login from 'common/components/Login'\r\nimport styles from './styles.css'\r\n\r\nclass AdminLogin extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      error: props.error || ''\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      ...nextProps\r\n    })\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.props.adminLogin(this.state.username, this.state.password)\r\n  }\r\n  handleUserNameChange = event => {\r\n    this.setState({\r\n      username: event.target.value\r\n    })\r\n  }\r\n  handlePasswordChange = event => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.adminLogin}>\r\n        <div>\r\n          <h3>Admin Login</h3>\r\n          <Login className={styles.loginContainer}\r\n            {...this.state} handleUserNameChange={this.handleUserNameChange}\r\n            handlePasswordChange={this.handlePasswordChange}\r\n            handleSubmit={this.handleSubmit} />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({session}) => {\r\n  return {\r\n    error: session.sessionError\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {adminLogin})(AdminLogin)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/Admin/index.js","import React from 'react'\r\nimport Button from '../button'\r\nimport styles from './styles.css'\r\nimport landerStyles from '../../styles.css'\r\n\r\nexport default ({history}) => (\r\n  <div className={`${styles.campSection} campSection`}>\r\n    <div className={styles.halo}></div>\r\n    <div className={`${styles.container} ${landerStyles.container}`}>\r\n      <div className={styles.portrait}>\r\n        <div className={`${styles.circle} circle`}>\r\n        </div>\r\n      </div>\r\n      <div className={`${styles.info} info`}>\r\n        <h2>Summer camp fills up fast. Get in before the popsicles melt!</h2>\r\n        <p>Register for summer camp now to take advantage of our early bird pricing.\r\n        Summer camp is a week of chess instruction, tournaments,\r\n        outdoor activities, friendship and happy memories.</p>\r\n        <Button label=\"Sign up\"\r\n          style={{margin: '0'}}\r\n          handleOnClick={\r\n          () => history.push('/register')\r\n        }></Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/camp/index.js","import React from 'react'\r\nimport styles from './styles.css'\r\n\r\nexport default () => (\r\n  <svg width=\"50px\"  height=\"50px\"\r\n  viewBox=\"0 0 100 100\"\r\n  preserveAspectRatio=\"xMidYMid\"\r\n  style={{background: \"none\"}}>\r\n  <circle cx=\"50\" cy=\"50\" fill=\"none\" stroke=\"#fff\"\r\n  strokeWidth=\"10\" r=\"35\"\r\n  strokeDasharray=\"164.93361431346415 56.97787143782138\"\r\n  transform=\"rotate(227.832 50 50)\">\r\n  <animateTransform attributeName=\"transform\"\r\n  type=\"rotate\" calcMode=\"linear\"\r\n  values=\"0 50 50;360 50 50\"\r\n  keyTimes=\"0;1\" dur=\"1s\" begin=\"0s\"\r\n  repeatCount=\"indefinite\"></animateTransform></circle>\r\n  </svg>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/contact/components/loader/index.js","import axios from 'axios'\r\nimport React from 'react'\r\nimport Loader from './components/loader'\r\nimport styles from './styles.css'\r\nimport landerStyles from '../../styles.css'\r\nimport btnStyles from 'common/themes/button.css'\r\n\r\nconst ContactInput = ({\r\n  value='',\r\n  type='text',\r\n  handleChange,\r\n  placeholder='',\r\n  disabled\r\n}) => (\r\n  <input style={{fontFamily: 'Nunito'}}\r\n    value={value} disabled={disabled}\r\n    required type={type} onChange={handleChange}\r\n    placeholder={placeholder}/>\r\n)\r\n\r\nconst ContactMessage = ({\r\n  value='',\r\n  handleChange,\r\n  disabled\r\n}) => (\r\n  <textarea value={value} disabled={disabled}\r\n    required rows=\"10\" onChange={handleChange}></textarea>\r\n)\r\n\r\nclass Contact extends React.Component {\r\n  state = {\r\n    name: '',\r\n    email: '',\r\n    message: '',\r\n    success: '',\r\n    error: '',\r\n    isLoading: false\r\n  }\r\n  render () {\r\n    const {name, email, message, success, error, isLoading} = this.state\r\n    return (\r\n      <div className={styles.contactSection}>\r\n        <span id=\"contactus\" style={{position: 'relative', top: '-90px'}}>\r\n        </span>\r\n        <div className={landerStyles.headerSm}>\r\n          <h3>Contact Us</h3>\r\n        </div>\r\n        <div className={`${styles.container} ${landerStyles.container}`}>\r\n          <div className={styles.contact}>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div>\r\n                <strong>Name</strong>\r\n                <ContactInput label=\"Name\"\r\n                  disabled={isLoading}\r\n                  handleChange={\r\n                    (event) => this.handleChange('name', event.target.value)\r\n                  }\r\n                  value={name}\r\n                 />\r\n              </div>\r\n              <div>\r\n                <strong>Email</strong>\r\n                <ContactInput\r\n                  disabled={isLoading}\r\n                   handleChange={\r\n                     (event) => this.handleChange('email', event.target.value)\r\n                   }\r\n                   type=\"email\"\r\n                   value={email}\r\n                />\r\n              </div>\r\n              <div>\r\n                <strong>Message</strong>\r\n                <ContactMessage\r\n                  disabled={isLoading}\r\n                  handleChange={\r\n                    (event) => this.handleChange('message', event.target.value)\r\n                  }\r\n                  value={message}\r\n                 />\r\n              </div>\r\n              <button className={btnStyles.primaryBtn}\r\n                style={{\r\n                  minWidth: '20%',\r\n                  fontFamily: 'Nunito',\r\n                  cursor: 'pointer',\r\n                  borderRadius: 0\r\n                }}\r\n                disabled={isLoading}>\r\n                {\r\n                  isLoading && <Loader />\r\n                }\r\n                {\r\n                  !isLoading && 'Submit'\r\n                }\r\n              </button>\r\n            </form>\r\n            {\r\n              error && <p>{error}</p>\r\n            }\r\n            {\r\n              success && <p>{success}</p>\r\n            }\r\n            {\r\n              !success && !error &&\r\n                <p>&nbsp;</p>\r\n            }\r\n            <p>5809 Yonge St. North York, ON</p>\r\n            <p>T:416.456.1599</p>\r\n            <p>E:info@chesswithmrs.com</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    const {name, email, message} = this.state;\r\n    this.setState({\r\n      isLoading: true\r\n    }, () => {\r\n      axios.post('/api/inquiry', {\r\n        name, email, subject: '', message\r\n      })\r\n      .then(response => {\r\n        this.setState({\r\n          name: '',\r\n          email: '',\r\n          message: '',\r\n          isLoading: false,\r\n          success: 'Your message has been delivered!'\r\n        })\r\n      })\r\n      .catch(err => {\r\n        this.setState({\r\n          success: '',\r\n          isLoading: false,\r\n          error: 'Your message could not be delivered'\r\n        })\r\n      })\r\n    })\r\n  }\r\n  handleChange = (key, value) => {\r\n    this.setState({[key]: value})\r\n  }\r\n}\r\n\r\nexport default Contact\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/contact/index.js","import React from 'react'\r\nimport Button from '../button'\r\nimport styles from './styles.css'\r\n\r\nexport default ({history}) => (\r\n  <div className={styles.flyer}>\r\n    <img className={styles.imgLeft} src=\"assets/lander/flyer-bg.png\" />\r\n    <img className={styles.imgRight} src=\"assets/lander/flyer-bg.png\"/>\r\n    <div className={styles.introContainer}>\r\n      <img id=\"logo\" className={`${styles.introLogo} intro-logo`}\r\n        src=\"assets/lander/logo.png\" alt=\"gaming-logo\"/>\r\n      <div className={`${styles.signalling} signalling`}>\r\n        <h2>Our mission</h2>\r\n        <p> Equip children across the Greater Toronto Area with\r\n          logical, mathematical and emotional skills that will aid\r\n          them throughout life.  We do this by teaching them a game that\r\n          has been played, studied and appreciated for centuries.\r\n        </p>\r\n        <Button label=\"Register now\" handleOnClick={\r\n          () => history.push('/register')\r\n        }></Button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/flyer/index.js","const firstRowPhotos = [{\r\n  imgSrc: '/assets/lander/bday.jpg',\r\n  caption: 'Happy birthday Chess with Mr. S!',\r\n}, {\r\n  imgSrc: '/assets/lander/champions.jpg',\r\n  caption: 'A new generation of champs',\r\n  isSmall: true\r\n}, {\r\n  imgSrc: '/assets/lander/notation.jpg',\r\n  caption: 'Recording game for future analysis',\r\n  isSmall: true\r\n}]\r\n\r\nconst secondRowPhotos = [{\r\n  imgSrc: '/assets/lander/fun.jpg',\r\n  caption: 'A perfect day at summer chess camp!',\r\n}, {\r\n  imgSrc: '/assets/lander/mentoring.jpg',\r\n  caption: 'Concentration is key to victory'\r\n}]\r\n\r\nconst thirdRowPhotos = [{\r\n  imgSrc: '/assets/lander/concentration.jpg',\r\n  caption: 'Competition teaches good sportsmanship',\r\n  isSmall: true\r\n}, {\r\n  imgSrc: '/assets/lander/focus.jpg',\r\n  caption: 'Engaged kids participate and challenge themselves',\r\n  isSmall: true\r\n}, {\r\n  imgSrc: '/assets/lander/participation.jpg',\r\n  caption: 'Chess is cool!'\r\n}]\r\n\r\nexport const rows = [\r\n  'firstRow',\r\n  'secondRow',\r\n  'thirdRow'\r\n]\r\n\r\nexport const photos = [\r\n  firstRowPhotos,\r\n  secondRowPhotos,\r\n  thirdRowPhotos\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/gallery/constants.js","import React from 'react'\r\nimport {rows, photos} from './constants'\r\nimport styles from './styles.css'\r\nimport landerStyles from '../../styles.css'\r\n\r\nconst GalleryCell = ({\r\n  idx,\r\n  caption,\r\n  imgSrc,\r\n  isSmall\r\n}) => (\r\n  <div className={styles[`cell${idx}`]}>\r\n    <div style={{width: '100%', height: '100%'}}>\r\n      <div className={styles.photo}\r\n        style={{backgroundImage: `url(${imgSrc})`}}></div>\r\n      <div className={`${styles.photoCaption} ${isSmall ? styles.sm : ''}`}>\r\n        {caption}\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default () => (\r\n  <div className={styles.gallerySection}>\r\n    <div className={landerStyles.headerSm}>\r\n      <h3>Learning and Having Fun</h3>\r\n    </div>\r\n    <div className={`${styles.container} ${landerStyles.container}`}>\r\n      <div className={styles.gallery}>\r\n        {\r\n          rows.map((row, idx) => (\r\n            <div className={`${styles.row} ${styles[row]}`}>\r\n              <div>\r\n                {\r\n                  photos[idx].map((photo, j) =>\r\n                    <GalleryCell key={`row${idx}_${j}`}\r\n                      idx={j + 1} {...photo} />\r\n                  )\r\n                }\r\n              </div>\r\n            </div>\r\n          ))\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/gallery/index.js","import React from 'react'\r\nimport Button from '../button'\r\nimport styles from './styles.css'\r\n\r\nexport default ({history}) => (\r\n  <div className={styles.heroSection}>\r\n    <div className={styles.bg}></div>\r\n    <div className={styles.video}>\r\n      <video loop={true} autoPlay={true} muted={true}>\r\n        <source type=\"video/mp4\" src=\"/assets/lander/banner.mov\" />\r\n      </video>\r\n    </div>\r\n    <div className={styles.info}>\r\n      <div style={{opacity: '0.6', width: '40%', margin: 'auto'}}>\r\n        <img src=\"/assets/shield.png\" style={{width: '100%'}}/>\r\n      </div>\r\n      <h1>Chess with Mr. S</h1>\r\n      <h2>\r\n        Learn to succeed in the game of life\r\n      </h2>\r\n      <Button label=\"Register now\"\r\n        style={{margin: 'auto'}}\r\n        handleOnClick={\r\n        () => history.push('/register')\r\n      }></Button>\r\n    </div>\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/hero/index.js","export const teachers = [{\r\n  name: 'Mr. S',\r\n  alias: 'Charismatic, Confidence builder',\r\n  imgSrc: '/assets/lander/team/misters.jpg',\r\n  placeholder: 'k',\r\n  description: `Arash Shahi, more popularly known as\r\n    Mr. S, is the founder and Executive Director of\r\n    Chess with Mr. S Inc. (CWMS). With over 18 years\r\n    of experience in teaching chess, Mr. S began CWMS\r\n    with the goal of teaching life skills through the\r\n    game of chess.`\r\n}, {\r\n  name: 'Mr. Youri',\r\n  alias: 'Strategic, Patient, Uplifting',\r\n  imgSrc: '/assets/lander/team/youri.jpg',\r\n  placeholder: 'h',\r\n  description: `Widely considered Canada's best\r\n  private coach, Mr. Youri\r\n  brings an enormous wealth of experience and\r\n  expertise to every student he teaches.\r\n  Youri has personally taught numerous\r\n  accomplished players, including Canada's\r\n  youngest Grandmaster ever.`\r\n}, {\r\n  name: 'Mr. B',\r\n  alias: 'Tactical, Engaging, Lively',\r\n  imgSrc: '/assets/lander/team/misterb.jpg',\r\n  placeholder: 'q',\r\n  description: `An avid player of over 40 years,\r\n  with more than 15 years of teaching experience,\r\n  Mr. B is a favourite among students of all levels.`\r\n}, {\r\n  name: 'Mr. Septi',\r\n  alias: 'Passionate, Understanding',\r\n  imgSrc: '/assets/lander/team/septi.jpg',\r\n  placeholder: 'n',\r\n  description: `With over 10 years of teaching experience,\r\n  Mr. Septi teaches through games and puzzles. His approach of\r\n  allows students to gradually build their confidence and participate actively.`\r\n}, {\r\n  name: 'Mr. Devon',\r\n  alias: 'Witty, Funny, Memory Expert',\r\n  imgSrc: '/assets/lander/team/devon.jpg',\r\n  placeholder: 'r',\r\n  description: `Mr. Devon is a chess enthusiast,\r\n  playwright and comedian. Having 8 years of experience\r\n  teaching chess, Mr. Devon brings a humorous and\r\n  understanding approach to teaching chess.`\r\n}, {\r\n  name: 'Ms. Nikan',\r\n  alias: 'Outgoing, Fun, Public speaker',\r\n  imgSrc: '/assets/lander/team/nikan.jpg',\r\n  placeholder: 'q',\r\n  description: `As an Ontario Certified Teacher, Ms. Nikan\r\n    helps younger students at novice and beginner levels.\r\n    She has helped hundreds of students find their voice and\r\n    feel more comfortable speaking in front of groups.`\r\n}]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/team/constants.js","import React from 'react'\r\nimport {teachers} from './constants'\r\nimport styles from './styles.css'\r\nimport landerStyles from '../../styles.css'\r\n\r\nconst Teacher = ({\r\n  name,\r\n  alias,\r\n  description,\r\n  placeholder,\r\n  imgSrc\r\n}) => {\r\n  return (\r\n    <div className={`${styles.teacher} teacher`}>\r\n      <div className={`${styles.portrait} portrait`}>\r\n        <div className={`${styles.square} square`}>{placeholder}<img src={imgSrc}/></div>\r\n      </div>\r\n      <div className={`${styles.bio} bio`}>\r\n        <div><strong>{name}</strong></div>\r\n        <div><strong>{alias}</strong></div>\r\n        <p>\r\n          {description}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default () => (\r\n  <div className={styles.teacherSection}>\r\n    <div className={landerStyles.headerSm}>\r\n      <h3>The CWMS Team</h3>\r\n    </div>\r\n    <div className={`${styles.container} ${landerStyles.container}`}>\r\n      <div className={styles.teacherContainer}>\r\n        {\r\n          teachers.map(teacher => <Teacher key={teacher.name} {...teacher} />)\r\n        }\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/components/team/index.js","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Hero from './components/hero'\r\nimport Flyer from './components/flyer'\r\nimport Team from './components/team'\r\nimport Gallery from './components/gallery'\r\nimport Camp from './components/camp'\r\nimport Contact from './components/contact'\r\nimport {TweenMax} from 'gsap/TweenMax'\r\nimport {Back} from 'gsap/EasePack'\r\n\r\nclass LanderPage extends React.Component {\r\n  componentDidMount () {\r\n    const {pathname} = this.props.location\r\n    if (pathname === '/contactus') {\r\n      document.querySelector('#contactus').scrollIntoView({\r\n        block: 'start',\r\n        inline: 'nearest'\r\n      })\r\n    }\r\n\r\n    this.teachers = Array.from(document.querySelectorAll('.teacher .portrait'));\r\n    this.introEl = document.querySelector('.intro-logo');\r\n    this.campEl = document.querySelector('.campSection .circle')\r\n\r\n    this.firstTeacherTime = this.teachers.map(t => true);\r\n    this.firstIntroTime = true;\r\n    this.firstCampTime = true;\r\n\r\n    this.handleScroll = debounce(this._onScroll, 0)\r\n    window.addEventListener('scroll', this.handleScroll)\r\n\r\n  }\r\n  componentWillUnmount () {\r\n    window.removeEventListener('scroll', this.handleScroll)\r\n  }\r\n  _onScroll = () => {\r\n    // this.teachers.forEach((teacher, idx) => {\r\n    //   if (this.firstTeacherTime[idx] && isVisible(teacher)) {\r\n    //     this.firstTeacherTime[idx] = false;\r\n    //     animateTeacher(teacher);\r\n    //   }\r\n    // })\r\n    if (isVisible(this.introEl) && this.firstIntroTime) {\r\n      this.firstIntroTime = false;\r\n      animateIntro();\r\n    }\r\n    if (isVisible(this.campEl) && this.firstCampTime) {\r\n      this.firstCampTime = false;\r\n      animateCamp();\r\n    }\r\n  }\r\n  render () {\r\n    const {history} = this.props\r\n    return (\r\n      <div>\r\n        <Hero history={history}/>\r\n        <Flyer history={history}/>\r\n        <Team />\r\n        <Gallery />\r\n        <Camp history={history}/>\r\n        <Contact />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction isVisible (el) {\r\n  var rect = el.getBoundingClientRect();\r\n\r\n  return (\r\n      rect.top >= 0 &&\r\n      rect.left >= 0 &&\r\n      rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && /*&& /*or $(window).height() */\r\n      rect.right <= (window.innerWidth || document.documentElement.clientWidth) /*or $(window).width() */\r\n  );\r\n}\r\n\r\nfunction debounce (fn, delay) {\r\n  var id;\r\n  return function () {\r\n    var args = arguments;\r\n    if (id !== undefined) {\r\n      clearTimeout(id);\r\n    }\r\n    id = setTimeout(function () {\r\n      fn.apply({}, args);\r\n    }, delay);\r\n  }\r\n}\r\n\r\nfunction animateIntro () {\r\n  TweenMax.staggerTo('.signalling > *',\r\n    0.5, {delay: 0.3, y: 0, opacity: 1, ease: Back.easeOut}, 0.2)\r\n}\r\n\r\nfunction animateCamp () {\r\n  TweenMax.to('.campSection .circle', 0.5,\r\n    {scale: 1, ease: Back.easeOut, onComplete: function () {\r\n    TweenMax.to('.campSection .info > *', 0.5,\r\n      {opacity: 1, y: 0, ease: Back.easeOut}, 0.2)\r\n  }},)\r\n}\r\n\r\nfunction animateTeacher(el) {\r\n  var bio = el.parentNode.getElementsByClassName('bio')[0];\r\n  TweenMax.staggerTo(Array.from(bio.childNodes), 0.5, {\r\n    y: 0,\r\n    opacity: 1,\r\n    ease: Back.easeOut,\r\n  }, 0.1)\r\n\r\n  flipPortrait(el);\r\n\r\n  function flipPortrait (target) {\r\n    if (window.innerWidth < 739) {\r\n      return\r\n    }\r\n    var el = target.parentNode.getElementsByClassName('portrait')[0].getElementsByClassName('square')[0]\r\n    TweenMax.to(el, 0.5, {css: {rotationY: 180 }, onStart: fadeInTeacher})\r\n  }\r\n  function fadeInTeacher () {\r\n    var el = this.target.getElementsByTagName('img')[0]\r\n    if (!el) return\r\n    TweenMax.to(el, 0.2, {opacity: 1, delay: 0.3})\r\n  }\r\n}\r\n\r\nexport default withRouter(LanderPage)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/LanderPage/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport Currency from 'common/components/Currency'\r\nimport Location from 'common/components/Location'\r\nimport CourseTable from './CourseTable'\r\nimport {registerCourses, setIsCamp, flipMode} from 'lander/actions/registration'\r\nimport {additionalInfo, refundPolicy} from './data'\r\nimport styles from 'common/themes/form.css'\r\nimport landerStyles from './styles.css'\r\n\r\nconst AdditionalInfo = ({header, bulletPoints}) => (\r\n  <div style={{marginBottom: '20px'}}>\r\n    <h1 style={{fontSize: '2em', fontWeight: 'bold', border: 'none'}}>{header}</h1>\r\n    {\r\n      bulletPoints.map((bulletPoint, idx) => (\r\n        <p style={{fontSize: '18px'}} key={`${header}_${idx}`}>{bulletPoint}</p>\r\n      ))\r\n    }\r\n  </div>\r\n)\r\n\r\nconst NoCourseMessage = props => {\r\n  return (\r\n    <div>No courses found!</div>\r\n  )\r\n}\r\n\r\nclass CampSelection extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      schoolName: '',\r\n      schoolId: '',\r\n      coursesForSchool: [],\r\n      selectedRows: [],\r\n      total: 0\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this._init(this.props)\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this._init(nextProps)\r\n  }\r\n  _init (props) {\r\n    const campSchool = props.campSchool || {}\r\n    this.setState({\r\n      campSchool: props.campSchool,\r\n      schoolId: campSchool._id || '',\r\n      schoolName: campSchool.name || '',\r\n      coursesForSchool: campSchool._id\r\n        ? this.props.camps\r\n          .filter(course => course.school._id === campSchool._id)\r\n        : []\r\n    })\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.props.registerCourses(\r\n      this.state.coursesForSchool\r\n        .filter((school, idx) => this.state.selectedRows.includes(idx))\r\n    )\r\n    this.props.history.push('/register/info')\r\n  }\r\n  handleRowSelect = selectedRows => {\r\n    this.setState({\r\n      selectedRows\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <form className={styles.form} onSubmit={this.handleSubmit}>\r\n        <div style={{textAlign: 'center', width: '80%', margin: 'auto'}}>\r\n          <div>\r\n            <img src=\"/assets/shield.png\" alt=\"shield\" style={{width: '200px'}} />\r\n          </div>\r\n          <h1 style={{fontWeight: 'bold', fontSize: '2em', border: 'none'}}>\r\n            CWMS 2019 Summer Camp\r\n          </h1>\r\n          <p style={{fontSize: '36px'}}>\r\n            Register <strong>NOW</strong> for our Amazing Super Early Bird Price!\r\n            <br /><Currency style={{fontSize: '36px'}} cents={30900} />\r\n          </p>\r\n          {\r\n            this.state.campSchool &&\r\n              <div>\r\n                <p>Summer camp is to be held at: </p>\r\n                <Location {...this.state.campSchool} />\r\n              </div>\r\n          }\r\n        </div>\r\n        <AdditionalInfo header=\"Camp Refund Policy\" bulletPoints={refundPolicy} />\r\n        <AdditionalInfo header=\"Additional Info\" bulletPoints={additionalInfo} />\r\n        {this.state.schoolId &&\r\n          <section style={{paddingTop: '40px'}}>\r\n            <h1 style={{fontWeight: 'bold', fontSize: '2em', border: 'none'}}>\r\n              Available Summer camp packages\r\n            </h1>\r\n            {\r\n              this.state.coursesForSchool.length > 0\r\n                ? <CourseTable selectedRows={this.state.selectedRows}\r\n                    handleRowSelect={this.handleRowSelect}\r\n                    courses={this.state.coursesForSchool}\r\n                    total={this.state.coursesForSchool.reduce((sum, course, idx) => {\r\n                      return this.state.selectedRows.includes(idx) ?\r\n                        (sum + course.price) : sum;\r\n                    }, 0)}/>\r\n                : <NoCourseMessage />\r\n            }\r\n          </section>\r\n        }\r\n        <div>\r\n          <RaisedButton\r\n            disabled={this.state.selectedRows.length < 1}\r\n            primary={true}\r\n            type=\"submit\"\r\n            label=\"Next\" />\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration, schools, camps}) => {\r\n  const campSchool = (schools.schools || [])\r\n    .find(school => school.name === 'Sunny Mandarin School')\r\n  return {\r\n    registration,\r\n    campSchool,\r\n    camps: camps.camps\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {registerCourses, setIsCamp, flipMode})(CampSelection)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/CampSelection.js","import React from 'react'\r\nimport {Card, CardActions, CardHeader, CardText} from 'material-ui/Card'\r\nimport FlatButton from 'material-ui/FlatButton'\r\nimport styles from './styles.css'\r\nimport {CalendarDate} from 'common/components/FormattedDate'\r\n\r\nconst CardDetail = props => {\r\n  return (\r\n    <div className={`flex ${styles.cardDetail}`}>\r\n      <div className={styles.label}>\r\n        <strong>{`${props.label}:`}</strong>\r\n      </div>\r\n      <div>\r\n        {props.children || props.value}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const PaymentCard = props => {\r\n  return (\r\n    <Card>\r\n      <CardHeader title=\"Payment Details\" />\r\n      <CardText>\r\n        <CardDetail label=\"Brand\" value={props.brand} />\r\n        <CardDetail label=\"Last 4 Digits\" value={`*${props.last4}`} />\r\n        <CardDetail label=\"Expiry Month\" value={props.expiryMonth} />\r\n        <CardDetail label=\"Expiry Year\" value={props.expiryYear} />\r\n      </CardText>\r\n      <CardActions>\r\n        <FlatButton label=\"Edit\" onClick={props.onEditClick}/>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport const StudentCard = props => {\r\n  const guardian = props.guardians[0];\r\n  return (\r\n    <Card>\r\n      <CardHeader title=\"Student Details\"\r\n        actAsExpander={true}\r\n        showExpandableButton={true}/>\r\n      <CardText>\r\n        <CardDetail label=\"Student\" value={`${props.firstName} ${props.lastName}`}/>\r\n        <CardDetail label=\"Guardian\" value={`${guardian.firstName} ${guardian.lastName}`}/>\r\n        <CardDetail label=\"Email\" value={guardian.email}/>\r\n        <CardDetail label=\"Phone\" value={guardian.phone}/>\r\n      </CardText>\r\n      <CardText expandable={true}>\r\n        <CardDetail label=\"Date of Birth\">\r\n          <CalendarDate date={props.dateOfBirth || new Date()}/>\r\n        </CardDetail>\r\n        <CardDetail label=\"Allergies\" value={props.allergies} />\r\n        <CardDetail label=\"Additional Info\" value={props.notes} />\r\n      </CardText>\r\n      <CardActions>\r\n        <FlatButton label=\"Edit\" onClick={props.onEditClick}/>\r\n      </CardActions>\r\n    </Card>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/Cards/index.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport React from 'react'\r\nimport {clearRegistration} from 'lander/actions/registration'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {CalendarDate} from 'common/components/FormattedDate'\r\nimport TimeOfDay from 'common/components/TimeOfDay'\r\nimport styles from 'common/themes/form.css'\r\n\r\nconst ListItem = props => {\r\n  const start = new Date(props.classes[0].startTime)\r\n  return (\r\n    <li>\r\n      <span>{props.school.name}</span>&nbsp;@&nbsp;\r\n      <CalendarDate date={start} /> <TimeOfDay date={start} hour12={'true'} />\r\n    </li>\r\n  )\r\n}\r\n\r\nclass ConfirmationPage extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const {student, courses} = this.props.registration\r\n    this.state = {\r\n      student,\r\n      courses\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    const shouldGoBack = !this.props.registration.courses.length ||\r\n      !this.props.registration.student.firstName ||\r\n      !this.props.registration.payment ||\r\n      !this.props.registration.payment.customer\r\n    if (shouldGoBack) {\r\n      this.props.history.replace('/register')\r\n      return;\r\n    }\r\n    const courses = this.props.registration.courses.map(course => {\r\n      const startTime = new Date(course.classes[0].startTime)\r\n        .toLocaleTimeString([], {hour12: true, hour: '2-digit', minute:'2-digit', timeZone: 'America/New_York'})\r\n      const endTime = new Date(course.classes[0].endTime)\r\n        .toLocaleTimeString([], {hour12: true, hour: '2-digit', minute:'2-digit', timeZone: 'America/New_York'})\r\n      const time = `${startTime} - ${endTime}`\r\n      const dates = course.classes.map(chessClass => {\r\n        return new Date(chessClass.startTime).toLocaleString('en-US', {month: 'short', day: 'numeric', timeZone: 'America/New_York'})\r\n      })\r\n      return {\r\n        ...course,\r\n        time,\r\n        dates\r\n      }\r\n    })\r\n    axios.post('/api/send-registration-email', {\r\n      ...this.props.registration,\r\n      courses\r\n    })\r\n    this.props.clearRegistration()\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.props.history.replace('/')\r\n  }\r\n  render () {\r\n    const {student, courses} = this.state\r\n    return (\r\n      <form className={styles.form}\r\n        style={{fontSize: '16px'}}\r\n        onSubmit={this.handleSubmit}>\r\n        <h1>Welcome to Class</h1>\r\n        <p>\r\n          <strong style={{fontSize: '24px'}}>\r\n            {`${student.firstName} ${student.lastName}`}\r\n          </strong> is registered for the following courses:\r\n        </p>\r\n        <ul>\r\n          {\r\n            courses.map(course => <ListItem {...course}/>)\r\n          }\r\n        </ul>\r\n        <p>\r\n          An email will be sent to <span>{student.guardians[0].email}</span> with further details within the next twenty-four hours.\r\n          We look forward to meeting you at the chess-board!\r\n        </p>\r\n        <RaisedButton type=\"submit\" primary={true} label=\"Done\" />\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration}) => ({registration})\r\nexport default withRouter(\r\n  connect(mapStateToProps, {clearRegistration})(ConfirmationPage)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/ConfirmationPage.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport CourseTable from './CourseTable'\r\nimport {registerCourses, setIsCamp, flipMode} from 'lander/actions/registration'\r\nimport styles from 'common/themes/form.css'\r\n\r\nconst NoCourseMessage = props => {\r\n  return (\r\n    <div>There are no courses currently scheduled for your school.<br />\r\n      <a href=\"/contactus\">Sign up your school for Chess with Mr. S</a></div>\r\n  )\r\n}\r\n\r\nconst schoolFilter = (searchText, key) => {\r\n  return searchText !== '' &&\r\n    key.toLowerCase().indexOf(searchText.toLowerCase()) === 0\r\n}\r\n\r\nclass CourseSelection extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      schoolName: '',\r\n      schoolId: '',\r\n      schoolError: '',\r\n      coursesForSchool: [],\r\n      selectedRows: [],\r\n      total: 0,\r\n      searchText: ''\r\n    }\r\n  }\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.props.registerCourses(\r\n      this.state.coursesForSchool\r\n        .filter((school, idx) => this.state.selectedRows.includes(idx))\r\n    )\r\n    this.props.history.push('/register/info')\r\n  }\r\n  handleBlur = event => {\r\n    const school = this.props.schools\r\n      .find(school => school.name === event.target.value)\r\n    if (!school) {\r\n      this.setState({\r\n        schoolId: '',\r\n        schoolName: '',\r\n        searchText: '',\r\n        coursesForSchool: [],\r\n        selectedRows: [],\r\n        total: 0,\r\n        schoolError: 'This field is required'\r\n      })\r\n    }\r\n  }\r\n  handleInputChange (searchText) {\r\n    this.setState({\r\n      searchText\r\n    })\r\n  }\r\n  handleRowSelect = selectedRows => {\r\n    this.setState({\r\n      selectedRows\r\n    })\r\n  }\r\n  handleSchoolNameChange (schoolName) {\r\n    const school = this.props.schools.find(school => school.name === schoolName)\r\n    if (!school) {\r\n      this.setState({\r\n        schoolId: '',\r\n        schoolName: '',\r\n        searchText: ''\r\n      })\r\n    } else {\r\n      this.setState({\r\n        schoolError: '',\r\n        schoolName,\r\n        schoolId: school._id,\r\n        coursesForSchool: this.props.courses\r\n          .filter(course => course.school._id === school._id),\r\n        selectedCourses: []\r\n      })\r\n    }\r\n  }\r\n  render () {\r\n    const labelStyle = {\r\n      color: 'rgba(0, 0, 0, 0.7)'\r\n    }\r\n    const menuProps = {\r\n      desktop: true,\r\n      disableAutoFocus: true,\r\n    }\r\n    return (\r\n      <form style={{minHeight: '100vh'}} className={styles.form} onSubmit={this.handleSubmit}>\r\n        <div style={{textAlign: 'center', width: '80%', margin: 'auto'}}>\r\n          <div>\r\n            <img src=\"/assets/shield.png\" alt=\"shield\" style={{width: '200px'}} />\r\n          </div>\r\n          <h1 style={{fontWeight: 'bold', fontSize: '2em', border: 'none'}}>\r\n            CWMS School Programs\r\n          </h1>\r\n          <p style={{fontSize: '18px'}}>\r\n            Type the name of your school into the searchbox below to see a listing of Chess with Mr. S programs\r\n            at your school. Do not hesitate to\r\n            <a href=\"/contactus\"> Contact us </a> if you have any questions.\r\n          </p>\r\n        </div>\r\n        <section style={{width: '600px'}}>\r\n          <AutoComplete\r\n            hintText=\"Enter school name\"\r\n            floatingLabelText=\"Find your school\"\r\n            filter={schoolFilter}\r\n            dataSource={this.props.schools.map(({name}) => name)}\r\n            menuProps={menuProps}\r\n            searchText={this.state.searchText}\r\n            errorText={this.state.schoolError}\r\n            onBlur={this.handleBlur}\r\n            onNewRequest={this.handleSchoolNameChange.bind(this)}\r\n            onUpdateInput={this.handleInputChange.bind(this)}\r\n            maxSearchResults={5}\r\n            fullWidth={true}\r\n            />\r\n        </section>\r\n        {this.state.schoolId &&\r\n          <section>\r\n            <h3>Upcoming Courses for {this.state.schoolName}</h3>\r\n            {\r\n              this.state.coursesForSchool.length > 0\r\n                ? <CourseTable selectedRows={this.state.selectedRows}\r\n                    handleRowSelect={this.handleRowSelect}\r\n                    courses={this.state.coursesForSchool}\r\n                    total={this.state.coursesForSchool.reduce((sum, course, idx) => {\r\n                      return this.state.selectedRows.includes(idx) ?\r\n                        (sum + course.price) : sum;\r\n                    }, 0)}/>\r\n                : <NoCourseMessage />\r\n            }\r\n          </section>\r\n        }\r\n        <div>\r\n          <RaisedButton\r\n            disabled={this.state.selectedRows.length < 1}\r\n            primary={true}\r\n            type=\"submit\"\r\n            label=\"Next\" />\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration, schools, courses}) => {\r\n  return {\r\n    registration,\r\n    schools: schools.schools || [],\r\n    courses: (courses.courses || []).filter(({afterSchool}) => !afterSchool)\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {registerCourses, setIsCamp, flipMode})(CourseSelection)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/CourseSelection.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport styles from 'common/themes/form.css'\r\n\r\nconst ErrorPage = props => {\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n    props.history.replace('/register/payment')\r\n  }\r\n\r\n  return (\r\n    <form className={styles.form} onSubmit={handleSubmit}>\r\n      <h1>Error Code: <strong>{props.error.status}</strong></h1>\r\n      <div style={{fontSize: '24px', marginBottom: '20px'}}>\r\n        Unfortunately an error occurred during your registration.  The\r\n        server message is: <div><strong>{props.error.message}</strong></div>\r\n        For help please contact info@chesswithmrs.com.  To try again press the button below.\r\n      </div>\r\n      <RaisedButton type=\"submit\" primary={true} label=\"Try Again\" />\r\n    </form>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = ({registration}) => {\r\n  return {\r\n    ...registration\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {})(ErrorPage)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/ErrorPage.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {Tabs, Tab} from 'material-ui/Tabs'\r\nimport EveningCourseTable from './EveningCourseTable'\r\nimport {registerCourses} from 'lander/actions/registration'\r\nimport LocationMap from 'common/components/Location/LocationMap'\r\nimport landerStyles from './styles.css'\r\n\r\nconst daysOfTheWeek = [\r\n  'Sunday',\r\n  'Monday',\r\n  'Tuesday',\r\n  'Wednesday',\r\n  'Thursday',\r\n  'Friday',\r\n  'Saturday'\r\n]\r\n\r\nconst daysOfTheWeekSortOrder = {\r\n  'Saturday' : 0,\r\n  'Sunday' : 1,\r\n  'Monday' : 2,\r\n  'Tuesday' : 3,\r\n  'Wednesday' : 4,\r\n  'Thursday' : 5,\r\n  'Friday' : 6\r\n}\r\n\r\nconst getCourseDay = ({classes}) =>\r\n  daysOfTheWeek[new Date(classes[0].startTime).getDay()]\r\n\r\nconst CourseGrouping = ({courses, handleSignup}) => {\r\n  const day = getCourseDay(courses[0])\r\n  return (\r\n    <div style={{padding: '20px 0'}}>\r\n      <h1>{day}</h1>\r\n      <div style={{marginBottom: '20px'}}>\r\n        <EveningCourseTable courses={courses} handleSignup={handleSignup} />\r\n      </div>\r\n      <hr />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst getSortedCourseKeys = (courses) => {\r\n  if (!courses || !Object.keys(courses).length) {\r\n    return\r\n  }\r\n  return Object.keys(courses).sort(customWeekdaySort)\r\n}\r\n\r\nconst customWeekdaySort = (a, b) => daysOfTheWeekSortOrder[a] - daysOfTheWeekSortOrder[b]\r\n\r\nconst customSortCompare = (a, b) => {\r\n  if (a.soldOut !== b.soldOut) {\r\n    return a.soldOut ? 1 : -1\r\n  }\r\n  return (\r\n    new Date(a.classes[0].startTime).getTime()\r\n      - new Date(b.classes[0].startTime).getTime()\r\n  )\r\n}\r\n\r\nclass EveningCourseSelection extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    const courseKeys = getSortedCourseKeys(props.courses)\r\n    this.state = {\r\n      courseKeys,\r\n      selected: courseKeys ? courseKeys[0].toLowerCase() : ''\r\n    }\r\n  }\r\n  componentDidUpdate(prevProps) {\r\n    const {courses:prevCourses} = prevProps;\r\n    const {courses} = this.props;\r\n    if (courses && Object.keys(prevCourses).length === 0) {\r\n      const courseKeys = getSortedCourseKeys(courses)\r\n      this.setState({\r\n        courseKeys,\r\n        selected: courseKeys[0].toLowerCase()\r\n      })\r\n    }\r\n  }\r\n\r\n  handleTabChange = value => {\r\n    this.setState({selected: value})\r\n  }\r\n  handleSignup = course => {\r\n    this.props.registerCourses([course])\r\n    this.props.history.push('/register/info')\r\n  }\r\n  render () {\r\n    const {courseKeys, selected} = this.state;\r\n    console.log('avail width',window.screen.availWidth)\r\n    return (\r\n      <div style={{width: '80%', margin: 'auto', paddingBottom: '40px'}}>\r\n        <div style={{textAlign: 'center', width: '80%', margin: 'auto'}}>\r\n          <div>\r\n            <img src=\"/assets/shield.png\" alt=\"shield\" style={{width: '200px'}} />\r\n          </div>\r\n          <h1>\r\n            CWMS Evening and Weekend Programs\r\n          </h1>\r\n          <p style={{fontSize: '18px'}}>\r\n            Below are a list of Chess with Mr. S evening and weekend classes. Click the\r\n            Sign up button to register for the program of your choice.  Do not hesitate to\r\n            <a href=\"/contactus\"> Contact us </a> if you have any questions.\r\n          </p>\r\n        </div>\r\n        <br />\r\n        {\r\n          courseKeys === undefined &&\r\n            <div>No courses found!</div>\r\n        }\r\n        {\r\n          courseKeys !== undefined &&\r\n            <Tabs value={selected}\r\n              onChange={this.handleTabChange}>\r\n              {courseKeys.map(key => {\r\n                return (\r\n                  <Tab key={key} label={key.slice(0, 3)} value={key.toLowerCase()}>\r\n                    <CourseGrouping\r\n                      handleSignup={this.handleSignup}\r\n                      courses={\r\n                        this.props.courses[key]\r\n                          .sort(customSortCompare)\r\n                      } />\r\n                    </Tab>\r\n                )\r\n              })}\r\n            </Tabs>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({courses={}}) => {\r\n  return {\r\n    courses: (courses.courses || [])\r\n      .filter(({afterSchool}) => afterSchool)\r\n      .reduce((groupBy, course) => {\r\n        const day = getCourseDay(course)\r\n        return {\r\n          ...groupBy,\r\n          [day]: groupBy[day]\r\n            ? groupBy[day].concat(course)\r\n            : [course]\r\n        }\r\n      }, {})\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {registerCourses})(EveningCourseSelection)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/EveningCourseSelection.js","import React from 'react'\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableHeader,\r\n  TableHeaderColumn,\r\n  TableRow,\r\n  TableRowColumn\r\n} from 'material-ui/Table'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport Currency from 'common/components/Currency'\r\nimport TimeOfDay from 'common/components/TimeOfDay'\r\nimport styles from './styles.css'\r\n\r\nconst months = [\r\n  'Jan',\r\n  'Feb',\r\n  'Mar',\r\n  'Apr',\r\n  'May',\r\n  'Jun',\r\n  'Jul',\r\n  'Aug',\r\n  'Sep',\r\n  'Oct',\r\n  'Nov',\r\n  'Dec'\r\n]\r\n\r\nconst SignupButton = ({handleOnClick}) => (\r\n  <div>\r\n    <RaisedButton\r\n      primary={true}\r\n      onClick={handleOnClick}\r\n      label=\"Sign up\" />\r\n  </div>\r\n)\r\n\r\nconst getSignupColumn = (course, handleOnClick) => (\r\n  <div>\r\n    <Currency cents={course.price * 100} />\r\n    {\r\n      course.soldOut\r\n        ? (\r\n          <div>\r\n            <strong style={{textTransform: \"uppercase\", color: \"red\"}}>\r\n              Sold out\r\n            </strong>\r\n          </div>\r\n        ) : <SignupButton handleOnClick={handleOnClick} />\r\n    }\r\n  </div>\r\n)\r\n\r\nconst getClassDate = chessClass => {\r\n  const startDT = new Date(chessClass.startTime)\r\n  return months[startDT.getMonth()] + ' ' + startDT.getDate()\r\n}\r\n\r\nconst ClassTime = props => {\r\n  const startDT = new Date(props.startTime)\r\n  const endDT = new Date(props.endTime)\r\n  return (\r\n    <div>\r\n      <TimeOfDay date={startDT} />-<TimeOfDay date={endDT} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst pairUp = (result, item, idx) => {\r\n  if (idx % 2) {\r\n    result[result.length - 1] = `${result[result.length - 1]}, ${getClassDate(item)}${idx !== result.length - 1 ? ',' : ''}`\r\n  } else {\r\n    result.push(getClassDate(item));\r\n  }\r\n  return result\r\n}\r\n\r\nconst Address = ({school}) => {\r\n  const {address, mapUrl, city, province, postalCode} = school\r\n  if (mapUrl) {\r\n    return (\r\n      <div>\r\n        <a href={mapUrl} title=\"map\" target=\"_blank\">{address}</a>\r\n        <div>\r\n          {`${city} ${province}, ${postalCode}`}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div>\r\n      <div>{address}</div>\r\n      <div>\r\n        {`${city} ${province}, ${postalCode}`}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default props => {\r\n  return (\r\n    <Table className={styles.courseTable}>\r\n       <TableHeader displaySelectAll={false} adjustForCheckbox={false}>\r\n         <TableRow>\r\n           <TableHeaderColumn>Location</TableHeaderColumn>\r\n           <TableHeaderColumn>Description</TableHeaderColumn>\r\n           <TableHeaderColumn>Time</TableHeaderColumn>\r\n           <TableHeaderColumn>Dates</TableHeaderColumn>\r\n           <TableHeaderColumn>Sign up</TableHeaderColumn>\r\n         </TableRow>\r\n       </TableHeader>\r\n       <TableBody style={{verticalAlign: \"top\"}}\r\n        deselectOnClickaway={false} displayRowCheckbox={false}>\r\n        {\r\n          props.courses.map((course, idx) => {\r\n            return (\r\n              <TableRow key={idx} selected={false} selectable={false}>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    <div>{course.school.name}</div>\r\n                    {\r\n                      <Address school={course.school} />\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    <div><strong>Teacher: </strong></div>\r\n                    <p>{`${course.teacher.firstName} ${course.teacher.lastName}`}</p>\r\n                    <div><strong>Description: </strong></div>\r\n                    <p>{course.description}</p>\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    <ClassTime {...course.classes[0]} />\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {\r\n                      course.classes.reduce(pairUp, [])\r\n                        .map(str => {\r\n                          return (\r\n                            <div key={str}>{str}</div>\r\n                          )\r\n                        })\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n                <TableRowColumn>\r\n                  <div className={styles.courseCell}>\r\n                    {\r\n                      getSignupColumn(course, () => {\r\n                        props.handleSignup(course)\r\n                      })\r\n                    }\r\n                  </div>\r\n                </TableRowColumn>\r\n              </TableRow>\r\n            )\r\n          })\r\n        }\r\n       </TableBody>\r\n     </Table>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/EveningCourseTable.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport React from 'react'\r\nimport FlatButton from 'material-ui/FlatButton'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {createCustomer} from 'lander/util/stripe'\r\nimport {registerPayment} from 'lander/actions/registration'\r\nimport GoBack from 'common/components/GoBack'\r\nimport data from './data'\r\nimport styles from 'common/themes/form.css'\r\n\r\nconst style = {\r\n  base: {\r\n    color: '#32325d',\r\n    lineHeight: '24px',\r\n    fontFamily: '\"Helvetica Neue\", Helvetica, sans-serif',\r\n    fontSmoothing: 'antialiased',\r\n    fontSize: '16px',\r\n    '::placeholder': {\r\n      color: '#aab7c4'\r\n    }\r\n  },\r\n  invalid: {\r\n    color: '#fa755a',\r\n    iconColor: '#fa755a'\r\n  }\r\n};\r\n\r\nclass PaymentDetails extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      error: '',\r\n      open: false\r\n    }\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.stripe.createToken(this.card)\r\n      .then(({error, token}) => {\r\n        if (error) {\r\n          this.setState({\r\n            error: error.message\r\n          })\r\n        } else {\r\n          createCustomer(token.id)\r\n            .then(response => {\r\n              this.props.registerPayment({\r\n                customer: response.data\r\n              })\r\n              this.props.history.push('/register/purchase')\r\n            })\r\n            .catch(error => {\r\n              this.setState({\r\n                error: 'There was an error processing your card.  For help contact info@chesswithmrs.com'\r\n              })\r\n            })\r\n        }\r\n      })\r\n  }\r\n  componentDidMount () {\r\n    const shouldGoBack = !this.props.courses.length ||\r\n      !this.props.student.firstName\r\n    if (shouldGoBack) {\r\n      this.props.history.replace('/register')\r\n      return\r\n    }\r\n    this.stripe = Stripe(data.key)\r\n    this.card = this.stripe.elements().create('card', {style})\r\n    this.card.mount('#card-element')\r\n    this.card.addEventListener('change', event => {\r\n      this.setState({\r\n        error: event.error\r\n      })\r\n    })\r\n  }\r\n  goBack = () => {\r\n    this.props.history.push('/register/info')\r\n  }\r\n  handleClose = () => {\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  render () {\r\n    const actions = [\r\n      <FlatButton\r\n        label=\"Cancel\"\r\n        primary={true}\r\n        onClick={this.handleClose}\r\n      />,\r\n      <FlatButton\r\n        label=\"Continue\"\r\n        primary={true}\r\n        onClick={this.goBack}\r\n      />\r\n    ]\r\n    const cardSectionStyle = {\r\n      padding: '60px',\r\n      background: '#e6e6e6',\r\n      marginBottom: '20px',\r\n      position: 'relative'\r\n    }\r\n    const stripeBadgeStyle = {\r\n      position: 'absolute',\r\n      bottom: '0px',\r\n      left: '0px',\r\n      width: '100px'\r\n    }\r\n    return (\r\n      <form className={styles.form} onSubmit={this.handleSubmit}>\r\n        <h1>Payment Details</h1>\r\n        <section style={cardSectionStyle}>\r\n          <div id=\"card-element\"></div>\r\n          <div id=\"card-errors\">{this.state.error}</div>\r\n          <img style={stripeBadgeStyle} src=\"/assets/stripe_badge.png\" />\r\n        </section>\r\n        <p>{data.legalWranglings}</p>\r\n        <div>\r\n          <GoBack open={this.state.open}\r\n            actions={actions} />\r\n          <RaisedButton primary={true}\r\n            label=\"Next\"\r\n            type=\"submit\" />\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration}) => {\r\n  return {\r\n    ...registration\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {registerPayment})(PaymentDetails)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/PaymentDetails.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {extractCardInfo, chargeCustomer} from 'lander/util/stripe'\r\nimport {recordCharge, setRegistrationError} from 'lander/actions/registration'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport {StudentCard, PaymentCard} from './Cards'\r\nimport CourseTable from './CourseTable'\r\nimport styles from 'common/themes/form.css'\r\n\r\nclass Purchase extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.total = props.courses\r\n      .reduce((sum, course) => sum + course.price, 0)\r\n    this.state = {disableBtn: false}\r\n  }\r\n  componentWillMount () {\r\n    const shouldGoBack = !this.props.courses.length ||\r\n      !this.props.student.firstName ||\r\n      !this.props.customer ||\r\n      !this.props.customer.id\r\n    if (shouldGoBack) {\r\n      this.shouldGoBack = true;\r\n      this.props.history.replace('/register')\r\n    }\r\n  }\r\n  editPreviousPage = url => {\r\n    this.props.history.push(url);\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.setState({disableBtn: true})\r\n    const courses = this.props.courses.map(({_id}) => _id).join(',')\r\n    const {firstName, lastName} = this.props.student\r\n    const description = `student: ${firstName} ${lastName} | courses: ${courses}`\r\n    chargeCustomer(this.props.customer, this.total, description)\r\n      .then(response => {\r\n        this.props.recordCharge(response.data)\r\n        axios.post('/api/register-student', {\r\n          courses: this.props.courses,\r\n          student: this.props.student,\r\n          customerId: response.data.customer\r\n        })\r\n        this.props.history.replace('/register/confirmation')\r\n      })\r\n      .catch(error => {\r\n        const message = (error && error.response &&\r\n          error.response.data && error.response.data.message) ||\r\n          \"An Issue Prevented Chess with Mr S from completing the transaction\"\r\n        const status = (error && error.response && error.response.status) ||\r\n          500\r\n        this.props.setRegistrationError({\r\n          status,\r\n          message\r\n        })\r\n        this.props.history.replace('/register/error')\r\n      })\r\n  }\r\n  render () {\r\n    if (this.shouldGoBack) {\r\n      return <span></span>\r\n    }\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={styles.form}>\r\n        <h1>Review and Purchase</h1>\r\n        <div className=\"flex\">\r\n          <section style={{width:'50%', marginRight: '20px'}}>\r\n            <StudentCard {...this.props.student}\r\n              onEditClick={this.editPreviousPage.bind(null, '/register/info')}/>\r\n          </section>\r\n          <section>\r\n            <PaymentCard {...extractCardInfo(this.props.customer)}\r\n              onEditClick={this.editPreviousPage.bind(null, '/register/payment')} />\r\n          </section>\r\n        </div>\r\n        <section>\r\n          <h1>Your Order</h1>\r\n          <CourseTable courses={this.props.courses} readonly={true} total={this.total}/>\r\n        </section>\r\n        <RaisedButton disabled={this.state.disableBtn} primary={true}\r\n          type=\"submit\"\r\n          label={this.state.disableBtn ? 'Loading...' : 'Purchase'}/>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration}) => {\r\n  const {student, courses, payment} = registration\r\n  return {\r\n    customer: payment.customer,\r\n    student,\r\n    courses\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {recordCharge, setRegistrationError})(Purchase)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/Purchase.js","import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport styles from './styles.css'\r\n\r\nconst links = [{\r\n  url: '/register-school',\r\n  name: 'School programs',\r\n  desc: `Classes are held during lunch hour and after school in\r\n    partner schools across the GTA.`,\r\n  svg: 'strategy2',\r\n  iconStyle: {\r\n    background: 'rgb(248, 215, 182, 0.3)'\r\n  }\r\n}, {\r\n  url: '/register-evening',\r\n  name: 'Evening and Weekend',\r\n  desc: `Our evening & weekend programs are held in  multiple locations for students of all skill levels.`,\r\n  svg: 'strategy',\r\n  iconStyle: {\r\n    background: 'rgb(43, 204, 205, 0.3)'\r\n  }\r\n}, {\r\n  url: '/register-camp',\r\n  name: 'Summer camp',\r\n  desc: `Register for summer camp now to take advantage of our early bird pricing.`,\r\n  svg: 'chess-board',\r\n  iconStyle: {\r\n    background: 'rgb(192, 140, 244, 0.3)'\r\n  }\r\n}]\r\n\r\nconst RegisterLink = ({\r\n  name,\r\n  desc,\r\n  iconStyle={},\r\n  handleOnClick,\r\n  children\r\n}) => (\r\n  <div className={styles.registerLink}>\r\n    <div className={styles.icon} style={iconStyle}>\r\n      {children}\r\n    </div>\r\n    <h1>{name}</h1>\r\n    <p>{desc}</p>\r\n    <RaisedButton\r\n      primary={true}\r\n      onClick={handleOnClick}\r\n      label=\"Next\" />\r\n  </div>\r\n)\r\n\r\nexport default ({history}) => (\r\n  <div style={{\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: '60px 0'\r\n  }}>\r\n    {\r\n      links.map(({name, desc, url, svg, iconStyle}) => (\r\n        <RegisterLink name={name}\r\n          desc={desc}\r\n          handleOnClick={() => history.push(url)}\r\n          iconStyle={iconStyle}>\r\n          <img src={`assets/${svg}.svg`} alt={svg} />\r\n        </RegisterLink>\r\n      ))\r\n    }\r\n  </div>\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/RegisterHome.js","import React from 'react'\r\nimport {\r\n  Step,\r\n  Stepper,\r\n  StepLabel,\r\n} from 'material-ui/Stepper'\r\n\r\nexport default props => {\r\n  return (\r\n    <Stepper activeStep={props.activeStep}>\r\n      <Step>\r\n        <StepLabel>Select your courses</StepLabel>\r\n      </Step>\r\n      <Step>\r\n        <StepLabel>Enter student details</StepLabel>\r\n      </Step>\r\n      <Step>\r\n        <StepLabel>Enter payment details</StepLabel>\r\n      </Step>\r\n      <Step>\r\n        <StepLabel>Purchase</StepLabel>\r\n      </Step>\r\n    </Stepper>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/RegistrationStepper.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport {chessLevels} from 'lander/constants'\r\nimport DatePicker from 'material-ui/DatePicker'\r\nimport DropDownMenu from 'material-ui/DropDownMenu'\r\nimport MenuItem from 'material-ui/MenuItem'\r\nimport FlatButton from 'material-ui/FlatButton'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport GoBack from 'common/components/GoBack'\r\nimport {registerStudent} from 'lander/actions/registration'\r\nimport pattern from 'common/util/pattern'\r\nimport styles from 'common/themes/form.css'\r\n\r\nclass StudentDetails extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const student = props.student\r\n    this.threeYearsAgo = moment().subtract(3, 'years').toDate()\r\n    this.state = {\r\n      open: false,\r\n      firstNameError: '',\r\n      lastNameError: '',\r\n      dateOfBirthError: '',\r\n      guardianFirstNameError: '',\r\n      guardianLastNameError: '',\r\n      guardianPhoneError: '',\r\n      guardianEmailError: '',\r\n      student: props.student\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    const shouldGoBack = !this.props.courses.length\r\n    shouldGoBack && (this.props.history.replace('/register'))\r\n  }\r\n  focusError = () => {\r\n    const requiredFields = [\r\n      'firstName',\r\n      'lastName',\r\n      'dateOfBirth',\r\n      'guardianFirstName',\r\n      'guardianLastName',\r\n      'guardianEmail',\r\n      'guardianPhone'\r\n    ]\r\n    const firstError = requiredFields\r\n      .find(field => this.state[`${field}Error`])\r\n    if (firstError) {\r\n      this.refs[firstError].focus()\r\n    }\r\n  }\r\n  handleClose = () => {\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  handleAllergiesChange = event => {\r\n    const student = this.state.student\r\n    student.allergies = event.target.value\r\n    this.setState({\r\n      student\r\n    })\r\n  }\r\n  handleDobChange  = (event, date) => {\r\n    const student = this.state.student\r\n    student.dateOfBirth = date\r\n    this.setState({\r\n      student,\r\n      dateOfBirthError: ''\r\n    })\r\n  }\r\n  handleNotesChange = event => {\r\n    const student = this.state.student\r\n    student.notes = event.target.value\r\n    this.setState({\r\n      student\r\n    })\r\n  }\r\n  handleFirstNameChange = event => {\r\n    const student = this.state.student\r\n    student.firstName = event.target.value\r\n    this.setState({\r\n      student,\r\n      firstNameError: event.target.value\r\n        ? ''\r\n        : 'This field is required'\r\n    })\r\n  }\r\n  handleLastNameChange = event => {\r\n    const student = this.state.student\r\n    student.lastName = event.target.value\r\n    this.setState({\r\n      student,\r\n      lastNameError: event.target.value\r\n        ? ''\r\n        : 'This field is required'\r\n    })\r\n  }\r\n  handleGuardianFirstNameChange = event => {\r\n    const guardian = this.state.student.guardians[0]\r\n    guardian.firstName = event.target.value\r\n    const guardianFirstNameError = guardian.firstName\r\n      ? ''\r\n      : 'This field is required'\r\n    this.setState({\r\n      guardian,\r\n      guardianFirstNameError\r\n    })\r\n  }\r\n  handleGuardianLastNameChange = event => {\r\n    const guardian = this.state.student.guardians[0]\r\n    guardian.lastName = event.target.value\r\n    const guardianLastNameError = guardian.lastName\r\n      ? ''\r\n      : 'This field is required'\r\n    this.setState({\r\n      guardian,\r\n      guardianLastNameError\r\n    })\r\n  }\r\n  handleEmailChange = event => {\r\n    const guardian = this.state.student.guardians[0]\r\n    guardian.email = event.target.value\r\n    const guardianEmailError = guardian.email\r\n      ? (this.validateEmail(guardian.email) ? '' : 'Please enter a valid email')\r\n      : 'This field is required'\r\n    this.setState({\r\n      guardian,\r\n      guardianEmailError\r\n    })\r\n  }\r\n  handlePhoneChange = event => {\r\n    const guardian = this.state.student.guardians[0]\r\n    guardian.phone = event.target.value.replace(/[^\\d-()\\s]/,'')\r\n    const guardianPhoneError = guardian.phone\r\n      ? (this.validatePhoneNumber(guardian.phone) ? '' : 'Please enter a ten digit phone number')\r\n      : 'This field is required'\r\n\r\n    this.setState({\r\n      guardian,\r\n      guardianPhoneError\r\n    })\r\n  }\r\n  handleLevelChange = (event, index, value) => {\r\n    const student = this.state.student\r\n    student.level = value\r\n    this.setState({\r\n      student\r\n    })\r\n  }\r\n  validateEmail (value) {\r\n    return pattern.email.test(value)\r\n  }\r\n  validatePhoneNumber (value) {\r\n    return (value.match(/\\d/g) || []).length === 10;\r\n  }\r\n  validateForm () {\r\n    const errorMessage = 'This field is required'\r\n    const student = this.state.student\r\n    const guardian = this.state.student.guardians[0]\r\n    const firstNameError = this.state.firstNameError ||\r\n      (student.firstName ? '' : errorMessage)\r\n    const lastNameError = this.state.lastNameError ||\r\n      (student.lastName ? '' : errorMessage)\r\n    const dateOfBirthError = this.state.dateOfBirthError ||\r\n      (student.dateOfBirth ? '' : errorMessage)\r\n    const guardianFirstNameError = this.state.guardianFirstNameError ||\r\n      (guardian.firstName ? '' : errorMessage)\r\n    const guardianLastNameError = this.state.guardianLastNameError ||\r\n      (guardian.lastName ? '' : errorMessage)\r\n    const guardianEmailError = this.state.guardianEmailError ||\r\n      (guardian.email ? '' : errorMessage)\r\n    const guardianPhoneError = this.state.guardianPhoneError ||\r\n      (guardian.phone ? '' : errorMessage)\r\n\r\n    const isValid = [\r\n      firstNameError,\r\n      lastNameError,\r\n      dateOfBirthError,\r\n      guardianFirstNameError,\r\n      guardianLastNameError,\r\n      guardianEmailError,\r\n      guardianPhoneError\r\n    ].every(field => !field)\r\n\r\n    if (!isValid) {\r\n      this.setState({\r\n        firstNameError,\r\n        lastNameError,\r\n        dateOfBirthError,\r\n        guardianFirstNameError,\r\n        guardianLastNameError,\r\n        guardianEmailError,\r\n        guardianPhoneError\r\n      }, this.focusError)\r\n    }\r\n    return isValid\r\n  }\r\n  isFormValid = () => {\r\n    return [\r\n      this.state.firstNameError,\r\n      this.state.lastNameError,\r\n      this.state.dateOfBirthError,\r\n      this.state.guardianFirstNameError,\r\n      this.state.guardianLastNameError,\r\n      this.state.guardianEmailError,\r\n      this.state.guardianPhoneError\r\n    ].every(field => !field)\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    const valid = this.validateForm();\r\n    if (!valid) {\r\n      return\r\n    }\r\n    this.props.registerStudent(this.state.student)\r\n    this.props.history.push('/register/payment')\r\n  }\r\n  render () {\r\n    const actions = [\r\n      <FlatButton\r\n        label=\"Cancel\"\r\n        primary={true}\r\n        onClick={this.handleClose}\r\n      />,\r\n      <FlatButton\r\n        label=\"Continue\"\r\n        primary={true}\r\n        onClick={() => this.props.history.replace('/register')}\r\n      />\r\n    ]\r\n    const hideAutoFillColorStyle = {\r\n        WebkitBoxShadow: '0 0 0 1000px white inset'\r\n    }\r\n    const hintStyle = {zIndex: '1', pointerEvents: 'none'}\r\n    const indentStyle = {marginLeft: '200px'}\r\n    const inputStyle = {width: '400px'}\r\n    const menuItemStyle = {fontFamily: '16px', textTransform: 'capitalize'}\r\n    const separator = {borderTop: '1px solid #e6e6e6'}\r\n    const gravityStyle = {marginBottom: '-20px'}\r\n    return (\r\n      <form className={styles.form} onSubmit={this.handleSubmit}>\r\n        <h1>Enter student details</h1>\r\n        <section>\r\n          <h3 style={gravityStyle}>Student Details</h3>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"firstName\"\r\n              hintText=\"Enter first name\"\r\n              type=\"text\"\r\n              floatingLabelText=\"Student first name\"\r\n              errorText={this.state.firstNameError}\r\n              value={this.state.student.firstName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleFirstNameChange} />\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"lastName\"\r\n              hintText=\"Enter last name\"\r\n              floatingLabelText=\"Student last name\"\r\n              errorText={this.state.lastNameError}\r\n              type=\"text\"\r\n              value={this.state.student.lastName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleLastNameChange} />\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <DatePicker style={inputStyle}\r\n              ref=\"dateOfBirth\"\r\n              hintText=\"Select date of birth\"\r\n              floatingLabelText=\"Date of Birth\"\r\n              errorText={this.state.dateOfBirthError}\r\n              openToYearSelection={true}\r\n              value={this.state.student.dateOfBirth}\r\n              onChange={this.handleDobChange}\r\n              maxDate={this.threeYearsAgo}\r\n              />\r\n          </div>\r\n          <div style={{marginLeft: '200px', height: '72px', display: 'flex', alignItems: 'flex-end'}}>\r\n            <DropDownMenu style={{width: '400px', right: '24px'}}\r\n              labelStyle={\r\n                this.state.student.level\r\n                  ? menuItemStyle\r\n                  : {\r\n                    color: 'rgba(0, 0, 0, 0.3)',\r\n                    fontSize: '16px'\r\n                  }\r\n              }\r\n              menuItemStyle={menuItemStyle}\r\n              value={this.state.student.level}\r\n              onChange={this.handleLevelChange}\r\n              autoWidth={false}>\r\n              <MenuItem value={''} primaryText='Select student level'/>\r\n              {\r\n                chessLevels.map(level => {\r\n                  return <MenuItem key={level} value={level} primaryText={level} />\r\n                })\r\n              }\r\n            </DropDownMenu>\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              hintText=\"List any allergies\"\r\n              floatingLabelText=\"Allergies (optional)\"\r\n              multiLine={true}\r\n              rows={1}\r\n              rowsMax={4}\r\n              value={this.state.student.allergies}\r\n              onChange={this.handleAllergiesChange} />\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              hintText=\"Any additional info we should know about\"\r\n              floatingLabelText=\"Additional info (optional)\"\r\n              multiLine={true}\r\n              rows={1}\r\n              rowsMax={5}\r\n              value={this.state.student.notes}\r\n              onChange={this.handleNotesChange} />\r\n          </div>\r\n        </section>\r\n        <section style={separator}>\r\n          <h3 style={gravityStyle}>Guardian Details</h3>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"guardianFirstName\"\r\n              hintText=\"Enter guardian first name\"\r\n              floatingLabelText=\"Guardian first name\"\r\n              errorText={this.state.guardianFirstNameError}\r\n              type=\"text\"\r\n              value={this.state.student.guardians[0].firstName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleGuardianFirstNameChange} />\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"guardianLastName\"\r\n              hintText=\"Enter guardian last name\"\r\n              floatingLabelText=\"Guardian last name\"\r\n              errorText={this.state.guardianLastNameError}\r\n              type=\"text\"\r\n              value={this.state.student.guardians[0].lastName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleGuardianLastNameChange} />\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"guardianEmail\"\r\n              hintText=\"Enter guardian email\"\r\n              floatingLabelText=\"Guardian email\"\r\n              errorText={this.state.guardianEmailError}\r\n              type=\"email\"\r\n              value={this.state.student.guardians[0].email}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleEmailChange}/>\r\n          </div>\r\n          <div style={indentStyle}>\r\n            <TextField style={inputStyle}\r\n              ref=\"guardianPhone\"\r\n              hintText=\"Enter guardian phone\"\r\n              floatingLabelText=\"Guardian phone\"\r\n              errorText={this.state.guardianPhoneError}\r\n              type=\"text\"\r\n              value={this.state.student.guardians[0].phone}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handlePhoneChange}/>\r\n          </div>\r\n        </section>\r\n        <div style={{padding: \"20px 0\"}}>\r\n          <GoBack open={this.state.open}\r\n            actions={actions}\r\n          />\r\n          <RaisedButton\r\n            disabled={this.isFormValid() !== true}\r\n            primary={true}\r\n            type=\"submit\"\r\n            label=\"Next\" />\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({registration, schools}) => {\r\n  return {\r\n    schools: schools.schools || [],\r\n    ...registration\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {registerStudent})(StudentDetails)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/StudentDetails.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {Redirect} from 'react-router'\r\nimport {Switch, withRouter} from 'react-router-dom'\r\nimport Route from 'common/components/ScrollToTopRoute'\r\nimport RegistrationStepper from './RegistrationStepper'\r\nimport EveningCourseSelection from './EveningCourseSelection'\r\nimport CampSelection from './CampSelection'\r\nimport CourseSelection from './CourseSelection'\r\nimport StudentDetails from './StudentDetails'\r\nimport PaymentDetails from './PaymentDetails'\r\nimport Purchase from './Purchase'\r\nimport ConfirmationPage from './ConfirmationPage'\r\nimport RegisterHome from './RegisterHome'\r\nimport ErrorPage from './ErrorPage'\r\nimport styles from 'common/themes/layout.css'\r\n\r\nconst mapStateToProps = ({registration}) => {\r\n  return {\r\n    registration\r\n  }\r\n}\r\n\r\nclass RegistrationWizard extends React.Component {\r\n  getActiveStep = pathname => {\r\n    switch (true) {\r\n      case pathname.includes('/info'):\r\n        return 1\r\n      case pathname.includes('/payment'):\r\n        return 2\r\n      case pathname.includes('/purchase') ||\r\n        pathname.includes('/confirmation'):\r\n        return 3\r\n      default:\r\n        return 0\r\n    }\r\n  }\r\n  render () {\r\n    const paddingStyle = {\r\n      padding: '20px 5%'\r\n    }\r\n    return (\r\n      <div className={styles.container}>\r\n        <div style={paddingStyle}>\r\n          <RegistrationStepper\r\n            activeStep={this.getActiveStep(this.props.location.pathname)}/>\r\n        </div>\r\n        <Switch>\r\n          <Route exact path=\"/register\" component={RegisterHome} />\r\n          <Route exact path=\"/register-school\" component={CourseSelection} />\r\n          <Route exact path=\"/register-camp\" component={CampSelection} />\r\n          <Route exact path=\"/register-evening\" component={EveningCourseSelection} />\r\n          <Route path=\"/register/info\" component={StudentDetails} />\r\n          <Route path=\"/register/payment\" component={PaymentDetails} />\r\n          <Route path=\"/register/purchase\" component={Purchase} />\r\n          <Route path=\"/register/confirmation\" component={ConfirmationPage} />\r\n          <Route path=\"/register/error\" component={ErrorPage} />\r\n          <Route path=\"*\" component={Redirect} componentProps={{to: \"/\"}} />\r\n        </Switch>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {})(RegistrationWizard)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/RegistrationWizardPage/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport Checkbox from 'material-ui/Checkbox'\r\nimport DropDownMenu from 'material-ui/DropDownMenu'\r\nimport MenuItem from 'material-ui/MenuItem'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport {signup} from 'common/actions/session'\r\nimport AvatarCarousel from 'common/components/AvatarCarousel'\r\nimport CourseForSchool from 'lander/components/CourseForSchool'\r\nimport {getErrorMessage} from 'common/util/error'\r\nimport {chessLevels} from 'lander/constants'\r\nimport layoutStyles from 'common/themes/layout.css'\r\nimport styles from 'common/themes/form.css'\r\nimport signupStyles from './styles.css'\r\n\r\nconst NoCourseMessage = ({name}) => {\r\n  return (\r\n    <div>\r\n      {`No courses found for ${name}`}\r\n    </div>\r\n  )\r\n}\r\n\r\nclass Signup extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      error: '',\r\n      username: '',\r\n      password: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      email: '',\r\n      level: 'pawn',\r\n      schoolId: '',\r\n      coursesForSchool: '',\r\n      searchText: '',\r\n      schoolError: '',\r\n      schoolName: '',\r\n      selectedRows: [],\r\n      courseId: '',\r\n      viewSchools: false\r\n    }\r\n  }\r\n  render () {\r\n    const hideAutoFillColorStyle = {\r\n        WebkitBoxShadow: '0 0 0 1000px white inset'\r\n    }\r\n    const hintStyle = {\r\n      zIndex: '1',\r\n      pointerEvents: 'none'\r\n    }\r\n    const menuProps = {\r\n      desktop: true,\r\n      disableAutoFocus: true,\r\n    }\r\n    return (\r\n      <div style={{paddingTop: '20px'}} className={`flex justify-center ${layoutStyles.container}`}>\r\n        <AvatarCarousel />\r\n        <form style={{width: '600px', margin: '0'}}\r\n          className={`${styles.form} ${signupStyles.signupForm}`}\r\n          onSubmit={this.handleSubmit.bind(this)}>\r\n          {\r\n            this.state.error &&\r\n            <p style={{color: '#f44336'}}>\r\n              {this.state.error}\r\n            </p>\r\n          }\r\n          <h1>Sign up</h1>\r\n          <div>\r\n            <TextField hintText=\"Enter your first name\"\r\n              type=\"text\"\r\n              required\r\n              fullWidth={true}\r\n              value={this.state.firstName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleFirstNameChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your last name\"\r\n              type=\"text\"\r\n              required\r\n              value={this.state.lastName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handleLastNameChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your email\"\r\n              type=\"email\"\r\n              required\r\n              value={this.state.email}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handleEmailChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your username\"\r\n              type=\"text\"\r\n              required\r\n              value={this.state.username}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handleUsernameChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your password\"\r\n              type=\"password\"\r\n              required\r\n              floatingLabelText=\"Password\"\r\n              value={this.state.password}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handlePasswordChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <DropDownMenu required value={this.state.level}\r\n              onChange={this.handleLevelChange}\r\n              style={{width: '400px', right: '24px'}}\r\n              menuItemStyle={{textTransform: 'capitalize'}}\r\n              labelStyle={{textTransform: 'capitalize'}}\r\n              autoWidth={false}>\r\n              {\r\n                chessLevels.map(level => {\r\n                  return <MenuItem key={level} value={level} primaryText={level} />\r\n                })\r\n              }\r\n            </DropDownMenu>\r\n          </div>\r\n          <div>\r\n            <RaisedButton style={{marginRight: '20px'}} type=\"submit\"\r\n              disabledBackgroundColor=\"#aaa\"\r\n              disabled={this.state.loading}\r\n              label={`${this.state.loading ? '...' : 'Sign up'}`}\r\n              primary={true} />\r\n            <RaisedButton type=\"button\" onClick={this.navigateToRoot}\r\n              secondary={true} label=\"Cancel\"/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  navigateToRoot = () => {\r\n    this.props.history.push('/')\r\n  }\r\n  handleCheckbox = () => {\r\n    this.setState(prevState => {\r\n      const nextViewSchools = !prevState.viewSchools\r\n      const update = {\r\n        viewSchools: nextViewSchools\r\n      }\r\n      if (!nextViewSchools) {\r\n        Object.assign(update, {\r\n          schoolId: '',\r\n          schoolName: '',\r\n          searchText: '',\r\n          coursesForSchool: [],\r\n          selectedRows: [],\r\n          schoolError: '',\r\n          courseId: ''\r\n        })\r\n      }\r\n      return update\r\n    })\r\n  }\r\n  handleInputChange (searchText) {\r\n    this.setState({\r\n      searchText\r\n    })\r\n  }\r\n  handleRowSelect = selectedRows => {\r\n    this.setState(prevState => {\r\n      return {\r\n        selectedRows,\r\n        courseId: selectedRows.length ?\r\n          prevState.coursesForSchool[selectedRows[0]]._id\r\n          : ''\r\n      }\r\n    })\r\n  }\r\n  handleUsernameChange (event) {\r\n    this.setState({\r\n      username: event.target.value\r\n    })\r\n  }\r\n  handlePasswordChange (event) {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n  handleFirstNameChange (event) {\r\n    this.setState({\r\n      firstName: event.target.value\r\n    })\r\n  }\r\n  handleLastNameChange (event) {\r\n    this.setState({\r\n      lastName: event.target.value\r\n    })\r\n  }\r\n  handleEmailChange (event) {\r\n    this.setState({\r\n      email: event.target.value\r\n    })\r\n  }\r\n  handleLevelChange = (event, index, level) => {\r\n    this.setState({\r\n      level\r\n    })\r\n  }\r\n  handleSubmit (event) {\r\n    event.preventDefault()\r\n    const username = this.state.username.trim()\r\n    const newUser = {\r\n      username,\r\n      password: this.state.password,\r\n      email: this.state.email,\r\n      personal: {\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName\r\n      },\r\n      level: this.state.level.replace(/\\s/g, ''),\r\n      courseId: this.state.courseId\r\n    }\r\n    this.setState({loading: true})\r\n    this.props.signup(newUser)\r\n      .catch((err={}) => {\r\n        const message = getErrorMessage(err)\r\n        window.scrollTo(0, 0);\r\n        this.setState({\r\n          username,\r\n          loading: false,\r\n          error: message || 'Could not sign up new user.  Please try again or contact info@chesswithmrs.com'\r\n        })\r\n      })\r\n  }\r\n}\r\nconst mapStateToProps = ({session, schools, courses}) => {\r\n  return {\r\n    error: session.sessionError,\r\n    schools: schools.schools || [],\r\n    courses: courses.courses\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps, {signup})(Signup))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/Signup/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport {login} from 'common/actions/session'\r\nimport Login from 'common/components/Login'\r\nimport styles from './styles.css'\r\n\r\nclass StudentLogin extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      username: '',\r\n      password: '',\r\n      error: props.error || ''\r\n    }\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      ...nextProps\r\n    })\r\n  }\r\n  handleSubmit = event => {\r\n    event.preventDefault()\r\n    this.props.login(this.state.username.trim(), this.state.password)\r\n  }\r\n  handleUserNameChange = event => {\r\n    this.setState({\r\n      username: event.target.value\r\n    })\r\n  }\r\n  handlePasswordChange = event => {\r\n    this.setState({\r\n      password: event.target.value\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={styles.adminLogin}>\r\n        <div>\r\n          <h3>Student Login</h3>\r\n          <Login hasForgotPassword={true}\r\n            className={styles.loginContainer}\r\n            {...this.state} handleUserNameChange={this.handleUserNameChange}\r\n            handlePasswordChange={this.handlePasswordChange}\r\n            handleSubmit={this.handleSubmit} />\r\n          <div style={{padding: '20px 10px'}}>\r\n            {`Don't have an account ? `}\r\n            <Link to=\"/signup\">\r\n              Sign up\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({session}) => {\r\n  return {\r\n    error: session.sessionError\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {login})(StudentLogin)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/components/Student/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {Switch, Route, Redirect} from 'react-router'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {getCurrentSeason} from 'common/util/season'\r\nimport Navbar from 'common/components/Navbar'\r\nimport Footer from 'common/components/Footer'\r\nimport ScrollToTopRoute from 'common/components/ScrollToTopRoute'\r\nimport LanderPage from 'lander/components/LanderPage'\r\nimport {navLinks} from 'lander/constants'\r\nimport {NavLinkBtn} from 'common/components/Navbar/nav-link'\r\nimport RegistrationWizardPage from 'lander/components/RegistrationWizardPage'\r\nimport AdminLoginPage from 'lander/components/Admin'\r\nimport StudentLoginPage from 'lander/components/Student'\r\nimport ForgotPassword from 'common/components/ForgotPassword'\r\nimport ResetPassword from 'common/components/ResetPassword'\r\nimport Signup from 'lander/components/Signup'\r\nimport {loadCourses, loadCamps} from 'lander/actions/courses'\r\nimport {loadSchools} from 'lander/actions/schools'\r\nimport btnStyles from 'common/themes/button.css'\r\n\r\nconst minHeightStyle = {\r\n  minHeight: '100vh'\r\n}\r\n\r\nconst navBtn = {\r\n  fontSize: '16px',\r\n  padding: '5px 10px'\r\n}\r\n\r\nconst funWork = {\r\n  background: '#f1b06f',\r\n  borderColor: '#f1b06f',\r\n  borderLeftColor: '#f8d7b6',\r\n  borderTopColor: '#f8d7b6',\r\n  marginRight: '10px'\r\n}\r\n\r\nclass Lander extends React.Component {\r\n  componentDidMount () {\r\n    this.props.loadCamps()\r\n    this.props.loadCourses(getCurrentSeason())\r\n    this.props.loadSchools()\r\n  }\r\n  isBigLogo = () => {\r\n    return (/signup|login|register|admin|(\\w+-password)/i)\r\n      .test(this.props.location.pathname) !== true\r\n  }\r\n  navigateToPath = path => {\r\n    this.props.history.push(path)\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        <Navbar links={[]} showBigLogo={this.isBigLogo()}>\r\n          <NavLinkBtn name=\"Homework puzzles\"\r\n            style={{...funWork, ...navBtn}}\r\n            className={btnStyles.primaryBtn}\r\n            handleClick={this.navigateToPath.bind(this, '/login')}/>\r\n          <NavLinkBtn name=\"Register\"\r\n            style={navBtn}\r\n            className={btnStyles.primaryBtn}\r\n            handleClick={this.navigateToPath.bind(this, '/register')}/>\r\n        </Navbar>\r\n        <div style={minHeightStyle}>\r\n          <Switch>\r\n            <ScrollToTopRoute exact path=\"/\" component={LanderPage}/>\r\n            <Route path=\"/contactus\" component={LanderPage}/>\r\n            <Route path=\"/register*\" component={RegistrationWizardPage}/>\r\n            <Route path=\"/forgot-password\" component={ForgotPassword}/>\r\n            <Route path=\"/reset-password/:id\" component={ResetPassword}/>\r\n            <ScrollToTopRoute path=\"/admin\" component={AdminLoginPage}/>\r\n            <ScrollToTopRoute path=\"/login\" component={StudentLoginPage}/>\r\n            <ScrollToTopRoute path=\"/signup\" component={Signup}/>\r\n            <Route path=\"*\" render={() => <Redirect to=\"/\"/>}/>\r\n          </Switch>\r\n        </div>\r\n        <Footer/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(() => ({}), {loadCourses, loadCamps, loadSchools})(Lander)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/index.js","import {\r\n  LOAD_CAMPS_FAILED,\r\n  SET_CAMPS\r\n} from 'lander/actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  camps: [],\r\n  campsError: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SET_CAMPS:\r\n      return {\r\n        camps: action.payload,\r\n        campsError: ''\r\n      }\r\n    case LOAD_CAMPS_FAILED:\r\n      return {\r\n        camps: [],\r\n        campsError: action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/reducers/camps.js","import {\r\n  LOAD_COURSES_FAILED,\r\n  SET_COURSES,\r\n  ADD_COURSE,\r\n  UPDATE_COURSE\r\n} from 'lander/actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  courses: [],\r\n  coursesError: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case ADD_COURSE:\r\n      return {\r\n        courses: (state.courses || []).slice(0).concat(action.payload),\r\n        coursesError: ''\r\n      }\r\n    case UPDATE_COURSE:\r\n      const updatedCourse = state.courses\r\n        .find(course => course._id === action.payload._id)\r\n      if (!updatedCourse) {\r\n        break\r\n      }\r\n      const updatedCourses = state.courses.slice(0)\r\n      updatedCourses[updatedCourses.indexOf(updatedCourse)] = action.payload\r\n      return {\r\n        courses: updatedCourses,\r\n        coursesError: ''\r\n      }\r\n    case SET_COURSES:\r\n      return {\r\n        courses: action.payload,\r\n        coursesError: ''\r\n      }\r\n    case LOAD_COURSES_FAILED:\r\n      return {\r\n        courses: [],\r\n        coursesError: action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/reducers/courses.js","import registrationReducer from './registration'\r\nimport coursesReducer from './courses'\r\nimport campsReducer from './camps'\r\nimport schoolsReducer from './schools'\r\n\r\nexport default {\r\n  camps: campsReducer,\r\n  courses: coursesReducer,\r\n  registration: registrationReducer,\r\n  schools: schoolsReducer\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/reducers/index.js","import {\r\n  CLEAR_REGISTRATION,\r\n  SET_REGISTRATION,\r\n  SET_IS_CAMP\r\n} from 'lander/actions/types'\r\n\r\nconst initState = () => {\r\n  return {\r\n    courses: [],\r\n    student: {\r\n      firstName: '',\r\n      lastName: '',\r\n      dateOfBirth: null,\r\n      allergies: '',\r\n      notes: '',\r\n      level: '',\r\n      guardians: [{\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        phone: ''\r\n      }]\r\n    },\r\n    payment: {},\r\n    charges: {},\r\n    error: {\r\n      message: '',\r\n      status: ''\r\n    },\r\n    isCamp: false\r\n  }\r\n}\r\nconst INITIAL_STATE = initState()\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case CLEAR_REGISTRATION:\r\n      return initState()\r\n    case SET_REGISTRATION:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case SET_IS_CAMP:\r\n      return {\r\n        ...state,\r\n        isCamp: action.payload\r\n      }\r\n    case 'flipMode':\r\n      return {\r\n        ...initState(),\r\n        isCamp: action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/reducers/registration.js","import {\r\n  ADD_SCHOOL,\r\n  UPDATE_SCHOOL,\r\n  LOAD_SCHOOLS_FAILED,\r\n  SET_SCHOOLS\r\n} from 'lander/actions/types'\r\n\r\nconst INITIAL_STATE = {\r\n  schools: [],\r\n  schoolsError: ''\r\n}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_SCHOOL:\r\n      const updatedSchool = state.schools\r\n        .find(school => school._id === action.payload._id)\r\n      if (!updatedSchool) {\r\n        break\r\n      }\r\n      const updatedSchools = state.schools.slice(0)\r\n      updatedSchools[updatedSchools.indexOf(updatedSchool)] = action.payload\r\n      return {\r\n        schools: updatedSchools,\r\n        schoolsError: ''\r\n      }\r\n    case ADD_SCHOOL:\r\n      return {\r\n        schools: (state.schools || []).slice(0).concat(action.payload),\r\n        schoolsError: ''\r\n      }\r\n    case SET_SCHOOLS:\r\n      return {\r\n        schools: action.payload,\r\n        schoolsError: ''\r\n      }\r\n    case LOAD_SCHOOLS_FAILED:\r\n      return {\r\n        schools: [],\r\n        schoolsError: action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lander/reducers/schools.js","import {combineReducers} from 'redux'\r\n\r\nimport commonReducers from 'common/reducers'\r\nimport landerReducers from 'lander/reducers'\r\nimport schoolReducers from 'school/reducers'\r\nimport adminReducers from 'admin/reducers'\r\n\r\nexport default combineReducers({\r\n  ...commonReducers,\r\n  ...landerReducers,\r\n  ...schoolReducers,\r\n  ...adminReducers\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/rootReducer.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {Switch, Route} from 'react-router'\r\nimport {navLinks} from 'school/constants'\r\nimport {logout} from 'common/actions/session'\r\nimport {loadCourses} from 'lander/actions/courses'\r\nimport {loadSchools} from 'lander/actions/schools'\r\nimport Navbar from 'common/components/Navbar'\r\nimport {NavLinkBtn} from 'common/components/Navbar/nav-link'\r\nimport Footer from 'common/components/Footer'\r\nimport IconNavbar from 'school/components/IconNavbar'\r\nimport CoursePage from 'school/components/CoursePage'\r\nimport HomeworkPage from 'school/components/HomeworkPage'\r\nimport ProfilePage from 'school/components/ProfilePage'\r\nimport Redirect from 'school/components/redirect'\r\nimport styles from 'school/components/IconNavbar/styles.css'\r\nimport schoolStyles from './styles.css'\r\n\r\nconst baseIconUrl = '/assets/school'\r\n\r\nconst CoursePageWithLevel = withRouter(\r\n  props => {\r\n    return (\r\n      <div className={schoolStyles.paper}>\r\n        <CoursePage index={props.match.params.weekNumber - 1 || 0}\r\n          level={props.location.pathname.split('/')[1]}/>\r\n      </div>\r\n    )\r\n  }\r\n)\r\n\r\nconst routes = navLinks.reduce((arr, link) => {\r\n  const {url:path} = link\r\n  return arr.concat(\r\n    {path, component: CoursePageWithLevel, exact: true},\r\n    {path: `${path}/week/:weekNumber`, component: CoursePageWithLevel, exact: true},\r\n    {path: `${path}/:activity`, component: HomeworkPage, exact: false}\r\n  )\r\n}, [])\r\n\r\nclass School extends React.Component {\r\n  componentDidMount () {\r\n    this.props.loadCourses()\r\n    this.props.loadSchools()\r\n  }\r\n  isCoursePage = () => {\r\n    return navLinks.map(({url}) => url)\r\n      .some(url => new RegExp(`${url}(/week/.*)?$`).test(this.props.location.pathname))\r\n  }\r\n  render () {\r\n    return (\r\n      <div>\r\n        { this.isCoursePage() &&\r\n          <Navbar links={[]}>\r\n            <IconNavbar baseUrl={baseIconUrl} links={\r\n              navLinks.map(link => {\r\n                return {\r\n                  ...link,\r\n                  className: styles.navLink,\r\n                  active: this.props.location.pathname === link.url\r\n                }\r\n              })\r\n            }/>\r\n            <NavLinkBtn name=\"Logout\" handleClick={this.props.logout}/>\r\n          </Navbar>\r\n        }\r\n        <div>\r\n          <Switch>\r\n            {\r\n              routes.map(route => <Route {...route} />)\r\n            }\r\n            <Route path=\"/profile\" component={ProfilePage}/>\r\n            <Route path=\"*\" component={Redirect}/>\r\n          </Switch>\r\n        </div>\r\n        {\r\n          this.isCoursePage() &&\r\n            <Footer/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(() => ({}), {logout, loadCourses, loadSchools})(School)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/School.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {cloneDeep} from 'lodash/fp'\r\nimport {getPuzzleImgKey} from 'school/util'\r\nimport styles from './styles.css'\r\n\r\nconst Placeholder = () => {\r\n  return (\r\n    <div className={styles.placeholder}></div>\r\n  )\r\n}\r\n\r\nconst Activity = props => {\r\n  const className = `${styles.activity} ${props.className || ''}`\r\n  return (\r\n    <div className={className}\r\n      onClick={props.handleClick}\r\n      onMouseLeave={props.handleMouseLeave}\r\n      onMouseEnter={props.handleMouseEnter}>\r\n      {\r\n        !props.loaded &&\r\n          <Placeholder />\r\n      }\r\n      {\r\n        <img src={props.normalUrl}\r\n          onLoad={props.handleImgLoaded}\r\n          className={!props.loaded || props.active ? styles.hide : ''}/>\r\n      }\r\n      {\r\n        <img src={props.rollUrl}\r\n          className={!props.loaded || !props.active ? styles.hide : ''}/>\r\n      }\r\n      <footer className={styles.footer}>\r\n        {props.name}\r\n      </footer>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass ActivityContainer extends React.Component {\r\n  isComplete = (progress) => {\r\n    if (!progress) {\r\n      return false;\r\n    }\r\n    const courseProgress = progress[this.props.courseName]\r\n    if (courseProgress) {\r\n      return Array.isArray(courseProgress) &&\r\n        courseProgress.some(item => {\r\n          return item.weekNumber === this.props.weekNumber &&\r\n            item.index === this.props.index\r\n        })\r\n    }\r\n    return false;\r\n  }\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      active: props.active,\r\n      loaded: false,\r\n      isComplete: this.isComplete(props.progress)\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this.setState({\r\n      isComplete: this.isComplete(nextProps.progress)\r\n    })\r\n  }\r\n  handleClick = event => {\r\n    this.props.history.push(`/${this.props.courseName}/${this.props.id}`)\r\n  }\r\n  handleMouseEnter = event => {\r\n    this.setState({\r\n      active: true\r\n    })\r\n  }\r\n  handleMouseLeave = event => {\r\n    this.setState({\r\n      active: false\r\n    })\r\n  }\r\n  handleImgLoaded = event => {\r\n    this.setState({\r\n      loaded: true\r\n    })\r\n  }\r\n  render () {\r\n    const imgKey = getPuzzleImgKey(this.props.type)\r\n    const {handleMouseEnter, handleMouseLeave, handleClick, handleImgLoaded} = this\r\n    const normalUrl = `${this.props.baseUrl}/${imgKey}${this.state.isComplete ? '-complete' : ''}.png`\r\n    const rollUrl = `${this.props.baseUrl}/${imgKey}-roll.png`\r\n    const props = {\r\n      ...this.props,\r\n      ...this.state,\r\n      handleMouseEnter,\r\n      handleMouseLeave,\r\n      handleClick,\r\n      handleImgLoaded,\r\n      normalUrl,\r\n      rollUrl\r\n    }\r\n    return (\r\n      <Activity {...props}/>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}, ownProps) => {\r\n  const {progress} = (user || {})\r\n  return {\r\n    ...ownProps,\r\n    progress\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {})(ActivityContainer)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/Activity/index.js","import axios from 'axios'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter, Link} from 'react-router-dom'\r\nimport Course from 'school/components/Course'\r\nimport {loadActivities} from 'school/actions/activities'\r\nimport {getWeeks} from 'school/util'\r\nimport layout from 'common/themes/layout.css'\r\nimport landerStyles from 'lander/components/LanderPage/styles.css'\r\nimport styles from './styles.css'\r\n\r\nconst baseUrl = '/assets/school/activities'\r\nconst baseIconUrl = '/assets/school'\r\n\r\nconst CourseAvatar = props => {\r\n  const baseUrl = '/assets/school'\r\n  return (\r\n    <div className={`flex justify-start items-center ${styles.courseAvatar}`}>\r\n      <img src={`${baseUrl}/${props.name}-roll.png`}/>\r\n      <div className={styles.playerCard}>\r\n        <h3><strong>Level: </strong>{props.name}</h3>\r\n        {\r\n          props.user &&\r\n            <div>\r\n              <strong>Player: </strong>\r\n              <span>{`${props.user.personal.firstName} ${props.user.personal.lastName}`}</span>\r\n              <div><Link to=\"/profile\">Edit Profile</Link></div>\r\n            </div>\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nclass CoursePage extends React.Component {\r\n  loadActivities = () => {\r\n    if (!this.props.weeks)  {\r\n      this.props.loadActivities(this.props.level)\r\n        .catch(err => console.log(err))\r\n    }\r\n  }\r\n  componentDidMount () {\r\n    this.loadActivities()\r\n  }\r\n  componentDidUpdate () {\r\n    this.loadActivities()\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div style={{padding: '40px', paddingTop: '20px'}}\r\n        className={`flex items-center flex-column ${layout.container}`}>\r\n        <img style={{left: '0'}}\r\n          className={styles.flyerBg} src=\"/assets/flyer-bg.png\" />\r\n        <img style={{right: '0'}}\r\n          className={`${styles.flyerBg} ${landerStyles.reverse}`}\r\n          src=\"/assets/flyer-bg.png\" />\r\n        <CourseAvatar user={this.props.user}\r\n          name={this.props.level || \"pawn\"}/>\r\n        {\r\n          !(this.props.weeks || []).length &&\r\n            <div></div>\r\n        }\r\n        {\r\n          (this.props.weeks || []).length > 0 &&\r\n            <Course name={`${this.props.level} level`}\r\n              index={this.props.index}\r\n              weeks={this.props.weeks}/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({activities, user}, ownProps) => {\r\n  return {\r\n    weeks: getWeeks(activities[ownProps.level]),\r\n    user,\r\n    ...ownProps\r\n  }\r\n}\r\nexport default withRouter(\r\n  connect(mapStateToProps, {loadActivities})(CoursePage)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/CoursePage/index.js","import React from 'react'\r\nimport Slider from 'react-slick'\r\nimport Separator from 'common/components/Separator'\r\nimport Week from 'school/components/Week'\r\nimport styles from './styles.css'\r\n\r\nconst nextArrow = <img src=\"/assets/school/nextIcon.png\" />\r\nconst prevArrow = <img src=\"/assets/school/prevIcon.png\" />\r\n\r\nconst WeekTitle = props => {\r\n  const baseUrl = '/assets/school'\r\n  return (\r\n    <div className={styles.weekTitle}>\r\n      <img src={`${baseUrl}/week${props.index}.png`}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Pagination = props => {\r\n  const weeks = [...Array(props.len + 1).keys()].slice(1)\r\n  return (\r\n    <div className={`flex ${styles.pagination}`}>\r\n      {weeks.map((week, idx) => {\r\n        return (\r\n          <div key={`page-${idx}`} className=\"flex items-center\">\r\n            <div className={props.active === week ? styles.active : ''}\r\n              onClick={(event) => {\r\n              if (week !== props.active) {\r\n                props.handlePageClick(week - 1)\r\n              }\r\n            }}>\r\n              <span style={{cursor: \"pointer\", fontSize: \"18px\"}}>{week}</span>\r\n            </div>\r\n            {idx < weeks.length - 1 &&\r\n              <Separator className={styles.separator} key={`separator-${idx}`}/>\r\n            }\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nclass Course extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    const settings = {\r\n      draggable: false,\r\n      swipeToSlide: false,\r\n      swipe: false,\r\n      autoplay: false,\r\n      speed: 600,\r\n      nextArrow,\r\n      prevArrow,\r\n      beforeChange: props.handleBeforeChange,\r\n      initialSlide: props.index || 0\r\n    }\r\n    this.state = {settings}\r\n  }\r\n  handlePageClick = index => {\r\n    this.refs.slider.slickGoTo(index)\r\n  }\r\n  shouldComponentUpdate (nextProps) {\r\n    if (this.props.weeks && nextProps.weeks) {\r\n      return this.props.weeks.length &&\r\n        nextProps.weeks.length &&\r\n        this.props.weeks[0].activities[0].courseName !==\r\n        nextProps.weeks[0].activities[0].courseName\r\n    }\r\n    return false;\r\n  }\r\n  render () {\r\n    return (\r\n      <Slider ref=\"slider\" {...this.state.settings}>\r\n        {\r\n          this.props.weeks.map((week, idx) => {\r\n            return (\r\n              <div key={week.name} className=\"slide\">\r\n                <Week {...week}/>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n      </Slider>\r\n    )\r\n  }\r\n}\r\n\r\nclass CourseShell extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      active: props.index !== undefined\r\n        ? props.index + 1\r\n        : 1\r\n    }\r\n  }\r\n  handleBeforeChange = (oldVal, newVal) => {\r\n    this.setState({\r\n      active: newVal + 1\r\n    })\r\n  }\r\n  handlePageClick = index => {\r\n    this.refs.course.handlePageClick(index)\r\n  }\r\n  render () {\r\n    return (\r\n      <div className=\"courseIndex\">\r\n        <div className=\"flex justify-between flex-wrap course-header\">\r\n          <WeekTitle index={this.state.active}/>\r\n          <Pagination handlePageClick={this.handlePageClick}\r\n            active={this.state.active}\r\n            len={this.props.weeks.length} />\r\n        </div>\r\n        <Course ref=\"course\" handleBeforeChange={this.handleBeforeChange}\r\n          weeks={this.props.weeks} index={this.props.index}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CourseShell\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/Course/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {loadActivities} from 'school/actions/activities'\r\nimport {updateProgressByLevel} from 'common/actions/user'\r\nimport HighlightPuzzle from 'board/components/HighlightPuzzle'\r\nimport Homework from 'board/components/Homework/homework'\r\nimport Concentration from 'board/components/Concentration/concentration'\r\nimport Game from 'board/components/Game/game'\r\nimport Maze from 'board/components/Maze/maze'\r\nimport Solitaire from 'board/components/Solitaire/solitaire'\r\n\r\nconst getPuzzleComponent = type => {\r\n  switch (type) {\r\n    case 'highlight':\r\n      return HighlightPuzzle\r\n    case 'maze':\r\n      return Maze\r\n    case 'memory':\r\n      return Concentration\r\n    case 'puzzle':\r\n      return Homework\r\n    case 'scenario':\r\n      return Game\r\n    case 'boss':\r\n      return Game\r\n    case 'solitaire':\r\n      return Solitaire\r\n  }\r\n  return () => (<div></div>)\r\n}\r\n\r\nconst getConnectedPuzzleComponent = type => {\r\n  return connect(() => ({}), {})\r\n}\r\n\r\nconst Placeholder = props => {\r\n  return (<div></div>)\r\n}\r\n\r\nclass HomeworkPage extends React.Component {\r\n  componentDidMount () {\r\n    if (!this.props.type) {\r\n      this.props.loadActivities(this.props.location.pathname.split('/')[1])\r\n    }\r\n  }\r\n  getHomeLink = () => {\r\n    return `/${this.props.courseName}/week/${this.props.weekNumber}`\r\n  }\r\n  handleComplete = (data={}) => {\r\n    this.props.updateProgressByLevel(this.props.courseName,\r\n      this.props.weekNumber, this.props.index, data)\r\n  }\r\n  render () {\r\n    const PuzzleComponent = getPuzzleComponent(this.props.type)\r\n    return (\r\n      <div>\r\n        {\r\n          !this.props.type &&\r\n            <Placeholder/>\r\n        }\r\n        {\r\n          this.props.type !== undefined &&\r\n            <PuzzleComponent name={this.props.name}\r\n              onComplete={this.handleComplete}\r\n              getHomeLink={this.getHomeLink}\r\n              boardId=\"chessboard\" {...this.props}/>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = ({activities}, ownProps) => {\r\n  const activityId = ownProps.match.params.activity\r\n  const level = activityId.split('-')[0]\r\n  const course = activities[level] || []\r\n  const activity = course\r\n    .find(a => `${a.courseName}-${a.weekNumber}-${a.index}` === activityId)\r\n  if (!activity) {\r\n    return {...ownProps}\r\n  } else {\r\n    return {\r\n      type: activity.type,\r\n      courseName: activity.courseName,\r\n      weekNumber: activity.weekNumber,\r\n      index: activity.index,\r\n      name: activity.name,\r\n      ...activity.data,\r\n      ...ownProps\r\n    }\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {loadActivities, updateProgressByLevel})(HomeworkPage)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/HomeworkPage/index.js","import React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport styles from './styles.css'\r\n\r\nclass IconLink extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      active: props.active || false\r\n    }\r\n    this.activeRoute = props.active\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this.activeRoute = nextProps.active\r\n  }\r\n  shouldComponentUpdate () {\r\n    return this.activeRoute !== true;\r\n  }\r\n  navigateToLink = () => {\r\n    this.props.history.push(this.props.url)\r\n  }\r\n  showRollover = () => {\r\n    this.setState({\r\n      active: true\r\n    })\r\n  }\r\n  hideRollover = () => {\r\n    this.setState({\r\n      active: false\r\n    })\r\n  }\r\n  render () {\r\n    return (\r\n      <div className={this.props.className || ''}\r\n        onClick={this.navigateToLink}\r\n        onMouseEnter={this.showRollover}\r\n        onMouseLeave={this.hideRollover}>\r\n        <img className={this.state.active ? styles.active : ''}\r\n          src={`${this.props.baseUrl}/${this.props.type}-roll.png`} />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst IconLinkContainer = withRouter(IconLink)\r\n\r\nexport default props => {\r\n  return (\r\n    <div className={`flex items-center ${styles.iconNavbar}`}>\r\n      {\r\n        props.links.map(link => {\r\n          return <IconLinkContainer\r\n            className={styles.iconLink}\r\n            baseUrl={props.baseUrl}\r\n            key={link.url} {...link}/>\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/IconNavbar/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport AutoComplete from 'material-ui/AutoComplete'\r\nimport Checkbox from 'material-ui/Checkbox'\r\nimport DropDownMenu from 'material-ui/DropDownMenu'\r\nimport MenuItem from 'material-ui/MenuItem'\r\nimport RaisedButton from 'material-ui/RaisedButton'\r\nimport TextField from 'material-ui/TextField'\r\nimport {updateUser} from 'common/actions/user'\r\nimport AvatarCarousel from 'common/components/AvatarCarousel'\r\nimport CourseForSchool from 'lander/components/CourseForSchool'\r\nimport {chessLevels} from 'lander/constants'\r\nimport layoutStyles from 'common/themes/layout.css'\r\nimport styles from 'common/themes/form.css'\r\nimport signupStyles from './styles.css'\r\n\r\nconst avatars = [\r\n  'pawn',\r\n  'knight',\r\n  'bishop',\r\n  'rook',\r\n  'queen',\r\n  'king',\r\n  'advanced 1',\r\n  'advanced 2',\r\n  'advanced 3'\r\n]\r\n\r\nconst schoolFilter = (searchText, key) => {\r\n  return searchText !== '' &&\r\n    key.toLowerCase().indexOf(searchText.toLowerCase()) === 0\r\n}\r\n\r\nconst NoCourseMessage = ({name}) => {\r\n  return (\r\n    <div>\r\n      {`No courses found for ${name}`}\r\n    </div>\r\n  )\r\n}\r\n\r\nclass ProfilePage extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = {\r\n      error: '',\r\n      firstName: (props.personal || {}).firstName || '',\r\n      lastName: (props.personal || {}).lastName || '',\r\n      email: props.email || '',\r\n      level: props.level.replace(/(\\d)/g, ' $1') || 'pawn',\r\n      schoolError: '',\r\n      courseId: props.courseId || '',\r\n      viewSchools: props.courseId ? true : false,\r\n      success: '',\r\n      ...this.getCourseInfo(props)\r\n    }\r\n  }\r\n  getCourseInfo = props => {\r\n    const course = props.courses\r\n      .find(c => c._id === props.courseId) || {}\r\n    const school = props.schools\r\n      .find(s => s._id === course.locationId)\r\n    let searchText = '',\r\n      schoolName = '',\r\n      schoolId = '',\r\n      coursesForSchool = '',\r\n      selectedRows = []\r\n\r\n    if (school) {\r\n      searchText =\r\n      schoolName = school.name;\r\n      schoolId = school._id\r\n      coursesForSchool = props.courses\r\n        .filter(course => course.school._id === school._id)\r\n      selectedRows = [coursesForSchool.indexOf(course)]\r\n    }\r\n    return {\r\n      searchText, schoolName, schoolId, coursesForSchool, selectedRows\r\n    }\r\n  }\r\n  componentWillReceiveProps (nextProps) {\r\n    this.setState({\r\n      firstName: (nextProps.personal || {}).firstName || '',\r\n      lastName: (nextProps.personal || {}).lastName || '',\r\n      email: nextProps.email || '',\r\n      level: nextProps.level.replace(/(\\d)/g, ' $1')  || 'pawn',\r\n      courseId: nextProps.courseId || '',\r\n      viewSchools: nextProps.courseId ? true : false,\r\n      ...this.getCourseInfo(nextProps)\r\n    })\r\n  }\r\n  render () {\r\n    const hideAutoFillColorStyle = {\r\n        WebkitBoxShadow: '0 0 0 1000px white inset'\r\n    }\r\n    const hintStyle = {\r\n      zIndex: '1',\r\n      pointerEvents: 'none'\r\n    }\r\n    const menuProps = {\r\n      desktop: true,\r\n      disableAutoFocus: true,\r\n    }\r\n    return (\r\n      <div className={`flex justify-center ${layoutStyles.container}`}>\r\n        <AvatarCarousel index={avatars.indexOf(this.state.level)}\r\n          ref=\"carousel\" autoplay={false}/>\r\n        <form style={{width: '600px', margin: '0'}}\r\n          className={`${styles.form} ${signupStyles.signupForm}`}\r\n          onSubmit={this.handleSubmit.bind(this)}>\r\n          {\r\n            this.state.error &&\r\n            <p style={{color: '#f44336'}}>\r\n              {this.state.error}\r\n            </p>\r\n          }\r\n          {\r\n            this.state.success &&\r\n              <p style={{color: '#5cb85c'}}>\r\n                {this.state.success}\r\n              </p>\r\n          }\r\n          <h1>Edit Profile</h1>\r\n          <div>\r\n            <TextField hintText=\"Enter your first name\"\r\n              type=\"text\"\r\n              required\r\n              fullWidth={true}\r\n              value={this.state.firstName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              onChange={this.handleFirstNameChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your last name\"\r\n              type=\"text\"\r\n              required\r\n              value={this.state.lastName}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handleLastNameChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <TextField hintText=\"Enter your email\"\r\n              type=\"email\"\r\n              required\r\n              value={this.state.email}\r\n              inputStyle={hideAutoFillColorStyle}\r\n              hintStyle={hintStyle}\r\n              fullWidth={true}\r\n              onChange={this.handleEmailChange.bind(this)} />\r\n          </div>\r\n          <div>\r\n            <DropDownMenu required value={this.state.level}\r\n              onChange={this.handleLevelChange}\r\n              style={{width: '400px', right: '24px'}}\r\n              autoWidth={false}\r\n              menuItemStyle={{textTransform: 'capitalize'}}\r\n              labelStyle={{textTransform: 'capitalize'}}>\r\n              {\r\n                chessLevels.map(level => {\r\n                  return <MenuItem key={level} value={level} primaryText={level} />\r\n                })\r\n              }\r\n            </DropDownMenu>\r\n          </div>\r\n          <div style={{marginTop: '20px'}}>\r\n            <RaisedButton style={{marginRight: '20px'}} type=\"submit\"\r\n              disabledBackgroundColor=\"#aaa\"\r\n              disabled={this.state.loading}\r\n              label={`${this.state.loading ? '...' : 'Submit'}`}\r\n              primary={true} />\r\n            <RaisedButton type=\"button\" onClick={this.navigateToRoot}\r\n              secondary={true} label=\"Back\"/>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  navigateToRoot = () => {\r\n    this.props.history.push('/')\r\n  }\r\n  handleCheckbox = () => {\r\n    this.setState(prevState => {\r\n      const nextViewSchools = !prevState.viewSchools\r\n      const update = {\r\n        viewSchools: nextViewSchools\r\n      }\r\n      if (!nextViewSchools) {\r\n        Object.assign(update, {\r\n          schoolId: '',\r\n          schoolName: '',\r\n          searchText: '',\r\n          coursesForSchool: [],\r\n          selectedRows: [],\r\n          schoolError: '',\r\n          courseId: ''\r\n        })\r\n      }\r\n      return update\r\n    })\r\n  }\r\n  handleInputChange (searchText) {\r\n    this.setState({\r\n      searchText\r\n    })\r\n  }\r\n  handleRowSelect = selectedRows => {\r\n    this.setState(prevState => {\r\n      return {\r\n        selectedRows,\r\n        courseId: selectedRows.length ?\r\n          prevState.coursesForSchool[selectedRows[0]]._id\r\n          : ''\r\n      }\r\n    })\r\n  }\r\n  handleFirstNameChange (event) {\r\n    this.setState({\r\n      firstName: event.target.value\r\n    })\r\n  }\r\n  handleLastNameChange (event) {\r\n    this.setState({\r\n      lastName: event.target.value\r\n    })\r\n  }\r\n  handleEmailChange (event) {\r\n    this.setState({\r\n      email: event.target.value\r\n    })\r\n  }\r\n  handleLevelChange = (event, index, level) => {\r\n    this.refs.carousel.handleLevelChange(index)\r\n    this.setState({\r\n      level\r\n    })\r\n  }\r\n  handleSubmit (event) {\r\n    event.preventDefault()\r\n    const update = {\r\n      email: this.state.email,\r\n      personal: {\r\n        firstName: this.state.firstName,\r\n        lastName: this.state.lastName\r\n      },\r\n      level: this.state.level.replace(/\\s/g, '') || 'pawn',\r\n      courseId: this.state.courseId\r\n    }\r\n    this.setState({loading: true})\r\n    this.props.updateUser(update)\r\n      .then(response => {\r\n        this.setState({loading: false, error: '', success: 'Profile has been successfully updated'})\r\n      })\r\n      .catch(err => {\r\n        this.setState({loading: false, error: 'There was an error updating your profile', success: ''})\r\n      })\r\n  }\r\n}\r\nconst mapStateToProps = ({session, schools, courses, user}) => {\r\n  return {\r\n    error: session.sessionError,\r\n    schools: schools.schools || [],\r\n    courses: courses.courses || [],\r\n    ...user\r\n  }\r\n}\r\nexport default withRouter(connect(mapStateToProps, {updateUser})(ProfilePage))\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/ProfilePage/index.js","import React from 'react'\r\nimport {activityAssetUrl} from 'school/constants'\r\nimport Activity from '../Activity'\r\nimport styles from './styles.css'\r\n\r\nexport default props => {\r\n  return (\r\n    <div className={styles.week}>\r\n      {\r\n        props.showName &&\r\n          <h1>{`Week ${props.index}: ${props.name}`}</h1>\r\n      }\r\n      <div className={`flex flex-wrap ${styles.activities}`}>\r\n        {\r\n          props.activities.map(activity => {\r\n            return (\r\n              <Activity baseUrl={activity.baseUrl || activityAssetUrl}\r\n                className={styles.tile}\r\n                key={activity.id} {...activity} />\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/Week/index.js","import {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\n\r\nclass Redirect extends React.Component {\r\n  componentDidMount () {\r\n    this.props.history.replace(`/${this.props.level || 'pawn'}`)\r\n  }\r\n  render () {\r\n    return (\r\n      <div></div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({user}) => {\r\n  return {\r\n    ...user\r\n  }\r\n}\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {})(Redirect)\r\n)\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/components/redirect.js","import {\r\n  SET_ACTIVITIES\r\n} from 'school/actions/types'\r\n\r\nconst INITIAL_STATE = {}\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVITIES:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n  }\r\n  return state\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/reducers/activities.js","import activitiesReducer from './activities'\r\n\r\nexport default {\r\n  activities: activitiesReducer\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/school/reducers/index.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/admin/components/Homework/styles.css\n// module id = 681\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"registrationLink\":\"CvMKuMMUcY33wB7z8nVMb\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/admin/components/Registration/styles.css\n// module id = 682\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"adminPage\":\"_2l3_nz-zH4KQ2w3DGorYqZ\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/admin/styles.css\n// module id = 683\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"boardContainer\":\"_2RVONaUhZdOx_ZNayk4pDP\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/components/Chessboard/styles.css\n// module id = 684\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/components/HighlightPuzzle/styles.css\n// module id = 685\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"instructions\":\"_24gRD_e8z-1CNikbqtYQ-M\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/components/Instructions/styles.css\n// module id = 686\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"solitaireContainer\":\"_1if7PnA5eTqzGh2SxQncoy\",\"solitaireBoard\":\"xEjvt3jhFlK3ZjJ-2--Am\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/board/components/Solitaire/solitaire.css\n// module id = 687\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"avatarCarousel\":\"_37fxlu7km-O1ZtYelwSfR5\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/AvatarCarousel/styles.css\n// module id = 688\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"avatar\":\"_11AoCEuq_i1D3ibNOELv1U\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/Avatar/styles.css\n// module id = 689\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"footer\":\"tvJ0TJJiP6qSX47mdfi2Y\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/Footer/styles.css\n// module id = 690\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"location\":\"_1IM-s7udtBqXABWqra-nrG\",\"info\":\"_2Eqkq9XWzipq4zV0xhnCfG\",\"gMap\":\"-J_BdHzHsqKC50B0OQ_ir\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/Location/styles.css\n// module id = 691\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"separator\":\"_3m3jlsuSNaDFEw5sJGp9xy\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/components/Separator/styles.css\n// module id = 692\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"adminLogin\":\"_23SXFZPFXeiF_sVzc6HoZr\",\"loginContainer\":\"hXNn68bit58nyUvqN9HJy\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/Admin/styles.css\n// module id = 693\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"button\":\"_3sh70123kRDZ8PNEeJyshW\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/button/styles.css\n// module id = 694\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"campSection\":\"_2du8zFm8PkkC_ypFY94ps\",\"container\":\"_3qt-Ch05AhZyWYhN96zyxe\",\"info\":\"_1saWA_M-QLG6jUWg9tbBrw\",\"circle\":\"_3qBYyR6ft5C1zLIIqP0x8a\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/camp/styles.css\n// module id = 695\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/contact/components/loader/styles.css\n// module id = 696\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"contactSection\":\"_2xdcwYWxoJFG8VwMMSFhux\",\"container\":\"_3Bvm28lt_Sd3AdZXiVI86-\",\"contact\":\"_126kJp3oVUNrWmALjXYi5e\",\"loading\":\"_1vIEh7onR2i4-imYO7rkRb\",\"spin\":\"_2RNg-_iOR3FT_v--tMv54V\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/contact/styles.css\n// module id = 697\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"flyer\":\"_39qi0IJb_ULtSj-CrD5sEH\",\"imgLeft\":\"_1vi7FKnGzC-Z96Rl1FteJ6\",\"imgRight\":\"_3TCC2x3wniLqK3dgSxxq2i\",\"introContainer\":\"_25bvlWzXcQCZZDxBLzCOhF\",\"signalling\":\"_1_RQJrMeWTvhAq8b8PWlt3\",\"introLogo\":\"_1YhEIFIRJohdjiqG1pMJ07\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/flyer/styles.css\n// module id = 698\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"gallerySection\":\"R4r4q-FQZvrIUfhKJ2qOt\",\"container\":\"_33XnecHpo2dXNo_7XEydb1\",\"gallery\":\"kiACsxto7N-VvAXPYjTLn\",\"row\":\"_1dr7_2_AUVL1qoNrv2HT06\",\"thirdRow\":\"Y084L1j53a2DZiC5JzMcq\",\"firstRow\":\"_1_iUHVN7tPN2dibV70a0LC\",\"cell1\":\"_258bjH78fgCiL28DZXe4YB\",\"cell2\":\"_7n0yVWUA1bI4H3qLRp0-3\",\"cell3\":\"_2e80qkwyZJTEJIlew8nEaY\",\"secondRow\":\"_30SJSXbkD846wT9yt6tXCq\",\"photo\":\"OaBuCaWj34TffPEPNydHQ\",\"assistant\":\"_1Odhu4AS8GoVl4uvS5CPi4\",\"bday\":\"_21pL0rZsZcRi60NoIqdBnG\",\"notation\":\"_2pFpddkC_wLbG1MLM5zWuj\",\"popsicles\":\"_1ZlrOER_ooKF1pqIXjY44I\",\"ruylopez\":\"_2jgVwwT-xReNGCruu1Tkbj\",\"tournament\":\"_30ojFHdDnVC1idCsr6nZzO\",\"participation\":\"RWC74i2FPGzvT8mC9GSc1\",\"concentration\":\"_2jl9qtxlca_-2LKLOSHCL7\",\"photoCaption\":\"JbSuQ9WPK2wZNOJTd523R\",\"sm\":\"_112YXCVz6ZgM3aFq2puN8Q\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/gallery/styles.css\n// module id = 699\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"heroSection\":\"_115UMkYki8J2Dm00JFQ9Ik\",\"video\":\"_2xdxWhDw4a_zdNohuVV78z\",\"bg\":\"_3hbyjXJWMLp-XuF8H--5J\",\"info\":\"_3RImff-W364OinqQ6HNBME\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/hero/styles.css\n// module id = 700\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"teacherSection\":\"_28VIYyk4-Dh9ad4gFNVy35\",\"container\":\"_354982R9kfZvoaV6gOjHcQ\",\"teacher\":\"_1qvI6LYrCVNJFoLDRLvDI1\",\"square\":\"_2_DZj_VNrY1mA6qs3pc7KR\",\"teacherContainer\":\"_1cOxm2muaiKjMv_S98gwBu\",\"bio\":\"_1uq1TKqCj1d-1yvgQsX6m3\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/LanderPage/components/team/styles.css\n// module id = 701\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"cardDetail\":\"_16xmqbUVkSjFq_35n_E5gA\",\"label\":\"d2tjStb3QJ8tdYq7B4G3N\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/RegistrationWizardPage/Cards/styles.css\n// module id = 702\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"signupForm\":\"_2Lt8K80U6-n5KCqO3TzL9n\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/Signup/styles.css\n// module id = 703\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"adminLogin\":\"_3yh0u02dRPQvgsI-oAqqWS\",\"loginContainer\":\"_1DqixAUiw0iM_JOC3HMpmK\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lander/components/Student/styles.css\n// module id = 704\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"activity\":\"_291W6OjuWXnqxnNENDUevF\",\"rollOver\":\"_3o8ROWEyHpiDtjT9-PSQSf\",\"footer\":\"_2Edb7qXAcoYMU8ECmyJP2q\",\"hide\":\"ezIlJhCRiuEZN8dGqbQmt\",\"placeholder\":\"ggtyoxUYsUpZo8xNNPvjo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/Activity/styles.css\n// module id = 705\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"courseAvatar\":\"iZnxUrWM0rxUIxo8YU5s2\",\"playerCard\":\"_1TbILC2K8s35YjGNWFb94T\",\"flyerBg\":\"_1uLJ3V3b02xsqtLAXVPG4F\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/CoursePage/styles.css\n// module id = 706\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"pagination\":\"_2L-p8Mo4COZs4Go-pPnRT0\",\"active\":\"_2yRis9X1nZZBukQ2MYJ89T\",\"separator\":\"_3bDdtEg96HPRNQT-I1mS8o\",\"weekTitle\":\"j4Zsa0BSxkCfXQAGFhlB7\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/Course/styles.css\n// module id = 707\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/ProfilePage/styles.css\n// module id = 708\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"week\":\"_3A5W_Kof2G3zXyp4ORC38p\",\"activities\":\"_7s58Ky_bb6lBcOoFzDi_O\",\"tile\":\"_1j2m4sVa5W-070eGmJT44L\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/components/Week/styles.css\n// module id = 709\n// module chunks = 0","// removed by extract-text-webpack-plugin\nmodule.exports = {\"paper\":\"_840JvRK6r1sFSmfHQ1wya\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/school/styles.css\n// module id = 710\n// module chunks = 0"],"sourceRoot":""}